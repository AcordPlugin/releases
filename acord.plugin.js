/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.488
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://armagan.rest/
 */
var p=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var L=p((xo,ae)=>{ae.exports=o=>{let e=i=>typeof i=="object"||typeof i=="function";function t(i){return d=>i.every(r=>Object.keys(d).some(c=>c.toLowerCase().includes(r.toLowerCase())))}function n(i){return d=>e(d)&&Object.values(d).some(r=>e(r)&&i.some(c=>r?.[c]!==void 0))}function l(i){return d=>d.prototype&&i.every(r=>d.prototype[r]!==void 0)}function s(i){return d=>i.every(r=>d?.toString?.()?.includes?.(r))}return{findByProps:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByProperties:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByPropsAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByPropertiesAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByKeywordAll:(...i)=>o.WebpackModules.findAll(t(i)),findByKeyword:(...i)=>o.WebpackModules.findAll(t(i))[0],findByNestedProps:(...i)=>o.WebpackModules.findAll(n(i))[0],findByNestedPropsAll:(...i)=>o.WebpackModules.findAll(n(i)),findByPrototypes:(...i)=>o.WebpackModules.findAll(l(i))[0],findByPrototypesAll:(...i)=>o.WebpackModules.findAll(l(i)),findByStrings:(...i)=>o.WebpackModules.findAll(s(i))[0],findByStringsAll:(...i)=>o.WebpackModules.findAll(s(i)),findAll:(i,d=!1)=>o.WebpackModules.findAll(i,{searchExports:d}),find:(i,d=!1)=>o.WebpackModules.find(i,{searchExports:d}),findByStringValues:(...i)=>o.WebpackModules.find(d=>(va=Object.values(d),i.every(r=>va.some(c=>typeof c=="string"&&c.includes(r)))),{searchExports:!1})}}});var W=p((No,ce)=>{var dt=L();ce.exports=o=>{let e=dt(o);return{webpack:e,require:window.require,common:{constants:{Permissions:o.DiscordModules.DiscordPermissions},i18n:e.findByProps("_requestedLocale","getDefaultLocale"),uuid:e.findByProps("v1","v4"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")},ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),Button:o.DiscordModules.ButtonData,ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),Rest:e.findByProps("get","post","getAPIBaseURL"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),GuildMemberStore:e.findByProps("getMembers","getMember"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),MessageStore:e.findByProps("getMessages","getMessage"),NoteStore:e.findByProps("getNote","getName"),PermissionStore:e.findByProps("getChannelPermissions"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,RelationshipStore:e.findByProps("getRelationships","getFriendIDs"),Router:o.DiscordModules.NavigationUtils,SelectedChannelStore:e.findByProps("getVoiceChannelId","getChannelId"),SelectedGuildStore:e.findByProps("getLastSelectedGuildId","getGuildId"),SimpleMarkdown:o.DiscordModules.SimpleMarkdown,UserStore:e.findByProps("getUser","getCurrentUser"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),TypingStore:e.findByProps("isTyping","getTypingUsers"),MediaEngineStore:e.findByProperties("getAecDump","getOutputVolume"),SoundpackStore:e.findByProps("getSoundpack"),QueryActions:e.findByProps("queryEmojiResults","queryFriends"),MessageActions:e.findByProps("receiveMessage","sendMessage"),PremiumActions:e.findByProps("isPremium","canUseEmojisEverywhere"),SpotifyStore:e.findByProps("getActiveSocketAndDevice","getTrack"),GuildMemberCountStore:e.findByProps("getMemberCount","getMemberCounts"),VoiceActions:e.findByProps("selectVoiceChannel","disconnect"),TypingActions:e.findByProps("startTyping","stopTyping"),GuildActions:e.findByProps("setChannel","setServerMute"),MediaEngineActions:e.findByProps("toggleSelfDeaf","toggleSelfMute"),GameConsoleStore:e.findByProps("getRemoteSessionId","getDevice"),GatewayConnectionStore:e.findByProps("getSocket","isConnected")}}}});var de=p((Co,le)=>{le.exports=o=>({createElement:(e,t,...n)=>{if(typeof e=="function")return e({...t,children:[].concat(...n)});let l=document.createElement(e);for(let s of Object.keys(t))s.indexOf("on")===0?l.addEventListener(s.slice(2).toLowerCase(),t[s]):s==="children"?l.append(...Array.isArray(t[s])?t[s]:[].concat(t[s])):l.setAttribute(s==="className"?"class":s,t[s]);return n.length&&l.append(...n),l},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(n=>{t.style.hasOwnProperty(n[0])?t.style[n[0]]=n[1]:t.style.setProperty(n[0],n[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var F=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var fe=p(k=>{"use strict";var ut=k&&k.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(k,"__esModule",{value:!0});var ue=ut(F()),X=class{constructor(){this.listeners=Object.values(ue.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let n=(l,s)=>{this.off(l,n),t(l,s)};this.on(e,n)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let n of this.listeners[e])n(e,t)};for(let e of Object.values(ue.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};k.default=X});var pe=p(B=>{"use strict";var ft=B&&B.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(B,"__esModule",{value:!0});var pt=ft(fe());function ht(o={},{nestArrays:e=!0}={}){let t=new pt.default;function n(l,s,i){return new Proxy(l,{get(d,r){let c=[...i,r],a=d[r];return a!=null?(t.get({path:c,value:a}),!e&&Array.isArray(a)?a:typeof a=="object"?n(a,s,c):a):n(d[r]={},s,c)},set(d,r,c){return d[r]=c,t.set({path:[...i,r],value:c}),!0},deleteProperty(d,r){return delete d[r]?(t.delete({path:[...i,r]}),!0):!1},has(d,r){return typeof d[r]=="object"&&Object.keys(d[r]).length===0?!1:r in d}})}return Object.assign({store:n(o,o,[]),ghost:o},t)}B.default=ht});var D=p(P=>{"use strict";var he=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(P,"__esModule",{value:!0});P.make=P.Events=void 0;var gt=F();Object.defineProperty(P,"Events",{enumerable:!0,get:function(){return he(gt).default}});var yt=pe();Object.defineProperty(P,"make",{enumerable:!0,get:function(){return he(yt).default}})});var H=p(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});function w(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function ge(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let n=w(t);return(l,s)=>n.then(i=>s(i.transaction(e,l).objectStore(e)))}var K;function E(){return K||(K=ge("keyval-store","keyval")),K}function wt(o,e=E()){return e("readonly",t=>w(t.get(o)))}function bt(o,e,t=E()){return t("readwrite",n=>(n.put(e,o),w(n.transaction)))}function mt(o,e=E()){return e("readwrite",t=>(o.forEach(n=>t.put(n[1],n[0])),w(t.transaction)))}function At(o,e=E()){return e("readonly",t=>Promise.all(o.map(n=>w(t.get(n)))))}function Et(o,e,t=E()){return t("readwrite",n=>new Promise((l,s)=>{n.get(o).onsuccess=function(){try{n.put(e(this.result),o),l(w(n.transaction))}catch(i){s(i)}}}))}function St(o,e=E()){return e("readwrite",t=>(t.delete(o),w(t.transaction)))}function _t(o,e=E()){return e("readwrite",t=>(o.forEach(n=>t.delete(n)),w(t.transaction)))}function Pt(o=E()){return o("readwrite",e=>(e.clear(),w(e.transaction)))}function V(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},w(o.transaction)}function Tt(o=E()){return o("readonly",e=>{if(e.getAllKeys)return w(e.getAllKeys());let t=[];return V(e,n=>t.push(n.key)).then(()=>t)})}function Ot(o=E()){return o("readonly",e=>{if(e.getAll)return w(e.getAll());let t=[];return V(e,n=>t.push(n.value)).then(()=>t)})}function Mt(o=E()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([w(e.getAllKeys()),w(e.getAll())]).then(([n,l])=>n.map((s,i)=>[s,l[i]]));let t=[];return o("readonly",n=>V(n,l=>t.push([l.key,l.value])).then(()=>t))})}b.clear=Pt;b.createStore=ge;b.del=St;b.delMany=_t;b.entries=Mt;b.get=wt;b.getMany=At;b.keys=Tt;b.promisifyRequest=w;b.set=bt;b.setMany=mt;b.update=Et;b.values=Ot});var me=p(S=>{S.Map=Map;S.WeakMap=WeakMap;S.WeakSet=WeakSet;S.Set=Set;var ye=o=>typeof o=="object"&&o!=null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String),vt=o=>"#"+o.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),we=()=>{let o=new S.WeakMap;return function(t,n){if(t!=="$ref"&&ye(n)){if(o.has(n))return{$ref:vt(o.get(n))};o.set(n,[...o.get(this)??[],t])}return n}};function be(){let o=new S.WeakMap,e=new S.WeakMap,t=new S.Set;function n(l){let s=l.$ref.slice(1).split("/"),i,d,r=this;for(var c=0;c<s.length;c++)i=s[c].replace(/~1/g,"/").replace(/~0/g,"~"),r=r[i];d=o.get(l),d[e.get(l)]=r}return function(s,i){if(s==="$ref")t.add(this);else if(ye(i)){var d=s===""&&Object.keys(this).length===1;d?t.forEach(n,this):(o.set(i,this),e.set(i,s))}return i}}var kt=o=>Object.defineProperties(o,{decycle:{value:(e,t)=>o.stringify(e,we(),t)},retrocycle:{value:e=>o.parse(e,be())}});Object.assign(S,{decycle:we,retrocycle:be,extend:kt})});var z=p((Wo,Ae)=>{var x=D(),J=H(),{decycle:Bt,retrocycle:Dt}=me();async function jt(o){let e=await J.get(`AcordStore;${o}`);typeof e=="string"&&(e=JSON.parse(e,Dt()));let t=x.make(e??{}),n=()=>{try{J.set(`AcordStore;${o}`,JSON.stringify({...t.ghost},Bt()))}catch{J.set(`AcordStore;${o}`,JSON.stringify({}))}};return t.on(x.Events.SET,n),t.on(x.Events.UPDATE,n),t.on(x.Events.DELETE,n),t}Ae.exports=jt});var Se=p((Go,Ee)=>{Ee.exports=function(e,t,{walkable:n=null,ignore:l=[],limit:s=100}={}){let i=0;function d(r,c,{walkable:a=null,ignore:u=[]}={}){if(i+=1,!(i>s)){if(typeof c=="string"){if(r.hasOwnProperty(c))return r[c]}else if(c(r))return r;if(!!r){if(Array.isArray(r))for(let f of r){let h=d(f,c,{walkable:a,ignore:u});if(h)return h}else if(typeof r=="object"){for(let f of Object.keys(r))if(!(a!=null&&!a.includes(f))&&!u.includes(f))try{let h=d(r[f],c,{walkable:a,ignore:u});if(h)return h}catch{}}}}}return d(e,t,{walkable:n,ignore:l})}});var Pe=p((Fo,_e)=>{var xt=["Clickable","Tooltip"];_e.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:n=xt}={}){let l=r=>!r?.type?.displayName||n.includes(r?.type?.displayName),s=r=>typeof r?.type!="string"&&(t?!l(r):!0),i=r=>s(r)?r?.type:i(r.return),d=i(acord.utils.react.getInstance(o));return e?find(r=>r?.default===d):d}});var Oe=p((Xo,Te)=>{Te.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error(n)}document.body.removeChild(t)})}});var O=p((Ko,ve)=>{var Me=Se(),Nt=Pe(),Ct=Oe(),Y=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);ve.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:Y("log","#00fbb0"),warn:Y("warn","#debf18"),error:Y("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>Me(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:Nt,getComponents(o){let e=o.__reactFiber$,t=[],n=e;for(;n&&n.return&&typeof n.return.type!="string";)n.return.type&&t.push(n.return.type),n=n.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],n=e;for(;n&&n.return&&!(n.return.stateNode instanceof HTMLElement);)n.return.stateNode&&t.push(n.return.stateNode),n=n.return;return t},getProps:(o,e=n=>n,t=1e4)=>{let n=o?.__reactFiber$;if(!n?.return)return null;for(let l=n?.return,s=0;s>t||l!==null;l=l?.return,s++)if(l?.pendingProps&&e(l.pendingProps))return l.pendingProps;return null}},findInTree:Me,copyText:Ct,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},timeout(o,e){let t=setTimeout(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},format(o,...e){return`${o}`.replaceAll(/{(\d+)}/g,(t,n)=>e[Number(n)])}}});var Be=p((Vo,ke)=>{var It=O();ke.exports=async o=>{let e={},t=[],n=null;if(typeof o=="string"){n=o,n.endsWith("/")&&(n=n.slice(0,-1));try{t=await(await fetch(`${n}/locales.json`,noStore)).json(),e.default=await(await fetch(`${n}/default.json`,noStore)).json()}catch(d){console.error(d)}for(let d=0;d<t.length;d++){let r=t[d];try{e[r]=await(await fetch(`${n}/${r}.json`,noStore)).json()}catch(c){console.error(c)}}}else e=o,t=Object.keys(o),t.includes("default")&&t.splice(t.indexOf("default"),1);async function l(){if(!n)return;let d=acord.i18n.locale;if(!(e[d]||!t.includes(d)))try{e[d]=await(await fetch(`${n}/${d}.json`,noStore)).json()}catch(r){console.error(r)}}let s=new Proxy({},{get(d,r){return window.acord?(l(),e[acord.i18n.locale]?.[r]||e.default?.[r]||acord.i18n.messages[r]||r):r}});function i(d,...r){return It.format(s[d],...r)}return{messages:s,format:i}}});var Z=p((Jo,De)=>{De.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let n=this.listeners.get(e);n.forEach(({once:l},s)=>{l&&n?.delete(s),s(...t)})}}});var U=p((zo,qe)=>{var je=z(),qt=D(),{logger:N}=O(),Ut=Be(),Rt=Z(),Q={cache:"no-store"},v=qt.make({}),g=null,$t=window.eval;async function xe(o){return Object.assign({extension:Object.assign(o,{i18n:await Ut(o.manifest.i18n||{}),events:new Rt})},window.acord)}async function Ne(o,e){let t=await xe(e),n=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${e.url}`,l=$t(n)(t),s=typeof l=="function"?l(e):l;return s.api=t,s}async function Lt(){g=await je("LoadedExtensionsStore")}async function C(o){let e=g.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(v.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;g.store[o].eulaAccepted=!0}let t,n=!1,l=await je(o);try{t=await Ne(e.source,{persist:l,url:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(s=>{s.property&&typeof l.ghost.settings?.[s.property]>"u"&&(l.store.settings[s.property]=s.value)})}catch(s){N.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${s} ${s?.stack?.join?.(`
`)}`),n=!0}try{t.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(s){N.error("EXTENSION_LOAD_ERR",e.manifest.about.name,s),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}v.store[o]=t,n&&setTimeout(()=>{try{e.unload()}catch(s){N.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,s),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function q(o){let e=v.ghost[o],t=g.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!v.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(n){N.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,n),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete v.store[o]}async function Wt(o){let e=g.store[o];if(!g.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await q(o),e.enabled=!1):(await C(o),e.enabled=!0)}async function I(o,e=!0){let t=o.replace(/\/?$/,"/"),n=new URL("extension.json",t).href,l=new URL("extension.js",t).href,s=g.ghost?.[t],i=s?g.store[t]:void 0,d=s?.enabled??e,r=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(t),c;try{let f=await fetch(n,Q);if(c=await f.json(),f.status!==200&&!s)throw s&&delete g.store[t],"NO_MAN_200"}catch(f){throw new Error(`NO_PARSE ${f}`)}if(c.locked&&!r)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(c?.type))throw new Error("INVALID_TYPE");if(s){if(c){if(i.manifest.hash!==c.hash){let f=await fetch(l,Q);if(f.status!==200)throw delete g.store[t],new Error("NO_200");i.source=await f.text()}_.isEqual(i.manifest,c)||(i.manifest=c)}d&&await C(t);return}let a=await fetch(l,Q);if(a.status!==200)throw new Error("NO_200");let u=await a.text();g.store[t]={manifest:c,verified:r,source:u,enabled:d,url:t},d&&await C(t)}function Ce(o){let e=g.ghost?.[o];if(!!e){try{q(o)}catch{}e.manifest.locked||delete g.store[o]}}var Gt=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function Ft(){await Promise.allSettled(Object.keys(g.ghost).map(I)),Gt.forEach(o=>{g.ghost?.[o]||I(o)})}function Xt(){Object.keys(g.ghost).forEach(o=>{try{q(o)}catch{}})}async function Ie(o){let e=!!g.ghost[o]?.enabled;try{Ce(o)}catch{}try{await I(o,e)}catch{}}async function Kt(){let o=Object.entries(g.store);for(let e=0;e<o.length;e++)await Ie(o[e][0],o[e][1].enabled)}qe.exports={evaluate:Ne,load:I,init:Lt,startAll:Ft,reloadAll:Kt,reload:Ie,buildAPI:xe,nests:{get enabled(){return v},get loaded(){return g}},remove:Ce,start:C,stop:q,toggle:Wt,stopAll:Xt}});var We=p((Yo,Le)=>{var ee=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,Ht=Object.getOwnPropertyNames,Jt=Object.prototype.hasOwnProperty,zt=(o,e)=>{for(var t in e)ee(o,t,{get:e[t],enumerable:!0})},Yt=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Ht(e))!Jt.call(o,l)&&l!==t&&ee(o,l,{get:()=>e[l],enumerable:!(n=Vt(e,l))||n.enumerable});return o},Zt=o=>Yt(ee({},"__esModule",{value:!0}),o),Ue={};zt(Ue,{after:()=>no,before:()=>to,instead:()=>oo,unpatchAll:()=>eo});Le.exports=Zt(Ue);var Re=["a","b","i"],M=new Map;function Qt(o,e,t,n,l){let s=M.get(e)?.[o];if(!s)return l?Reflect.construct(e[o],t,n):e[o].apply(n,t);for(let r of s.b.values()){let c=r.call(n,t);Array.isArray(c)&&(t=c)}let i=(...r)=>l?Reflect.construct(s.o,r,n):s.o.apply(n,r);for(let r of s.i.values()){let c=i;i=(...a)=>r.call(n,a,c)}let d=i(...t);for(let r of s.a.values())d=r.call(n,t,d)??d;return d}function $e(o,e,t,n){let l=M.get(o),s=l?.[e];return s?.[n].has(t)?(s[n].delete(t),Re.every(i=>s[i].size===0)&&(Reflect.defineProperty(o,e,{value:s.o,writable:!0,configurable:!0})||(o[e]=s.o),delete l[e]),Object.keys(l).length==0&&M.delete(o),!0):!1}function eo(){for(let[o,e]of M.entries())for(let t in e)for(let n of Re)for(let l of e[t]?.[n].keys()??[])$e(o,t,l,n)}var te=o=>(e,t,n,l=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);M.has(t)||M.set(t,{});let s=M.get(t);if(!s[e]){let r=t[e];s[e]={o:r,b:new Map,i:new Map,a:new Map};let c=(f,h,m)=>{let y=Qt(e,t,h,f,m);return l&&d(),y},a=new Proxy(r,{apply:(f,h,m)=>c(h,m,!1),construct:(f,h)=>c(r,h,!0),get:(f,h,m)=>h=="toString"?r.toString.bind(r):Reflect.get(f,h,m)});Reflect.defineProperty(t,e,{value:a,configurable:!0,writable:!0})||(t[e]=a)}let i=Symbol(),d=()=>$e(t,e,i,o);return s[e][o].set(i,n),d},to=te("b"),oo=te("i"),no=te("a")});var R=p((Zo,Ge)=>{var ro=We();Ge.exports={...ro,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var Xe=p((Qo,Fe)=>{var so=U(),io=R();Fe.exports=o=>{let e=o.WebpackModules.find(c=>c?.__proto__?.handleConnection),t=new Set,n=new Map;async function l(c,a){let u;try{if(u=JSON.parse(a),!Array.isArray(u)||u.length<1||u.length>3)throw"Array expected as message.";if(typeof u[0]!="string")throw"Array[0] needs to be string.";if(typeof u[1]!="string")throw"Array[1] needs to be string."}catch(A){c.send(JSON.stringify([null,{ok:!1,error:`${A}`}]))}let[f,h,m]=u,y=n.get(h);if(!y)return c.send(JSON.stringify([f,{ok:!1,error:"Unable to find handler."}]));try{let A=await y(m);c.send(JSON.stringify([f,{ok:!0,data:A}]))}catch(A){c.send(JSON.stringify([f,{ok:!1,error:`${A}`}]))}}function s(c,a){if(typeof c!="string")throw new Error("EventName needs to be a string.");if(typeof a!="function")throw new Error("Callback needs to be a function.");if(n.has(c))throw new Error("EventName already in use.");return n.set(c,a),()=>{n.delete(c)}}let i=io.instead("handleConnection",e,(c,a)=>{let u=c[0];if(u.upgradeReq().url!=="/acord")return a(...c);t.add(u),u.on("message",f=>{l(u,f)}),u.on("close",()=>t.delete(u))});function d(){i(),n.clear(),t.forEach(c=>c.close())}function r(c,...a){if(!n.has(c))throw new Error("Unable to find handler!");return n.get(c)(...a)}return s("InstallExtension",async({url:c}={})=>{if(!(!c||!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",c))))try{await so.load(c)}catch(u){acord.ui.toasts.show.error(`${u}`)}}),{unpatchSocket:d,connectedSockets:t,socketEvents:n,set:s,trigger:r}}});var Ve=p((en,Ke)=>{var ao=L();Ke.exports=o=>{let t=ao(o).find(n=>n?.toString?.()?.includes?.("friendToken"),!0);return{show:Object.assign((...n)=>o.Modals.showModal(...n),{confirmation:(n,l,s={})=>new Promise(i=>{o.Modals.showConfirmationModal(n,l,{onConfirm:()=>i(!0),onCancel:()=>i(!1),confirmText:s?.confirm,cancelText:s?.cancel,danger:s?.danger})}),alert:(n,l)=>o.Modals.showAlertModal(n,l),user:n=>t({userId:n})})}}});var Je=p((tn,He)=>{var co=W(),lo=O(),oe="https://raw.githubusercontent.com/AcordPlugin/i18n/main",ne={cache:"no-store"};He.exports=o=>{let e=co(o),t=[],n={};async function l(){try{t=await(await fetch(`${oe}/locales.json`,ne)).json()}catch{}try{n.default=await(await fetch(`${oe}/default.json`,ne)).json()}catch{}}async function s(){let r=e.common.i18n._requestedLocale;if(!(n[r]||!t.includes(r)))try{n[r]=await(await fetch(`${oe}/${r}.json`,ne)).json()}catch{}}let i=new Proxy({},{get(r,c){s();let a=e.common.i18n._requestedLocale;return n[a]?.[c]||n.default?.[c]||e.common.i18n.Messages[c]||c}});function d(r,...c){return lo.format(i[r],...c)}return{init:l,format:d,messages:i,get locale(){return e.common.i18n._requestedLocale}}}});var Ye=p((on,ze)=>{var uo=D(),fo=H(),po=z();ze.exports={nests:uo,idbKeyval:fo,createPersistentNest:po}});var Ze=p((nn,ho)=>{ho.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.488",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var et=p((rn,Qe)=>{var go=Z(),yo=new go;Qe.exports=yo});var se=p((sn,tt)=>{var re=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(n=>n==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};tt.exports=new re});var nt=p((an,ot)=>{var{logger:T}=O(),wo=D(),bo=U();ot.exports=o=>{let e=null,t=null,n=null,l=wo.make({}),s=!1,i=!1;o.set("UpdateDevelopmentExtension",async({source:r,manifest:c})=>{if(!(!i||s)){if(s=!0,e){T.log(`Unloading development extension.. (${c.about.name})`);try{e?.unload?.(),e=null,t=null,n=null,T.log(`Development extension unloaded! (${c.about.name})`)}catch(a){T.error(`Unable to unload development extension! (${c.about.name})`,a)}}await new Promise(a=>setTimeout(a,1));try{e=await bo.evaluate(r,{persist:l,id:"https://FakeExtensionId",manifest:c}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(a=>{a.property&&typeof l.ghost.settings?.[a.property]>"u"&&(l.store.settings[a.property]=a.value)}),t=r,n=c,e?.load?.(),T.log(`Development extension is loaded! (${c.about.name})`)}catch(a){T.error(`Failed to load development extension! (${c.about.name})`,a)}finally{}s=!1}});function d(){if(e){T.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,n=null,T.log("Development extension unloaded!")}catch(r){T.error("Unable to unload development extension!",r)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:n}:null,enabled:e}},get enabled(){return i},set enabled(r){i=!!r},unload:d}}});var st=p((cn,rt)=>{var mo=se(),Ao=O();rt.exports=function(e){mo.add(Ao.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(t=>{if(!t.acordTooltip)try{let n=t.setAttribute,l=t.removeAttribute;t.setAttribute=function(r,c){if(t.acordTooltip)switch(r){case"acord--tooltip-content":{t.acordTooltip.label=c,t.acordTooltip.disabled=!c?.trim?.();break}case"acord--tooltip-style":{t.acordTooltip.style=c??"primary";break}case"acord--tooltip-side":{t.acordTooltip.side=c??"top";break}}return n.bind(this,r,c)},t.removeAttribute=function(r){if(t.acordTooltip)switch(r){case"acord--tooltip-content":{t.acordTooltip.disabled=!0,t.acordTooltip.label="";break}case"acord--tooltip-style":{t.acordTooltip.style="primary";break}case"acord--tooltip-side":{t.acordTooltip.side="top";break}}return l.call(this,r)};let s=t.getAttribute("acord--tooltip-content"),i=t.getAttribute("acord--tooltip-style")||"primary",d=t.getAttribute("acord--tooltip-side")||"top";if(t.acordTooltip){t.acordTooltip.disabled=!!s?.trim(),t.acordTooltip.label=s,t.acordTooltip.style=i,t.acordTooltip.side=d;return}t.acordTooltip=new e.Tooltip(t,s,{style:i,side:d}),t.acordTooltip.tooltipElement.style.zIndex=9999999}catch{}})},100))}});var Eo=W(),So=de(),_o=Xe(),Po=Ve(),To=Je(),j=O(),Oo=Ye(),$=U(),ie=R(),ct=Ze(),it=et(),at=se(),Mo=nt(),{injectCSS:vo}=R(),ko=st(),Bo=["952550103271485520","853692631142105108"],Do=(o,e)=>{let t=Eo(e),n=_o(e),l=Mo(n),s=So(e),i=Po(e),d=To(e);function r(){let c=t.common.UserStore.getCurrentUser(),a=!1;return Bo.forEach(u=>{if(a)return;let f=t.common.GuildStore.getGuild(u);f?a=`You are blocked from Acord extension system due to be in the some of the blocked guilds like ${f.name}.`:c.id===u&&(a="You are blocked from Acord.")}),a&&(j.logger.error("Unable to load Acord!"),BdApi.UI.showToast(a,{type:"error"})),a}return class extends o{async onStart(){if(window.acord)return;await e.PluginUpdater.checkForUpdate("Acord",ct.info.version,"https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js"),vo('[class*="acord--"] * {box-sizing: border-box;}');let c={internal:Oo,modules:t,utils:j,patcher:ie,extensions:(()=>{let a={...$};return delete a.init,a})(),events:it,ui:{modals:i,toasts:{show:Object.assign((...a)=>BdApi.UI.showToast(...a),{success:a=>BdApi.UI.showToast(a,{type:"success"}),error:a=>BdApi.UI.showToast(a,{type:"error"}),info:a=>BdApi.UI.showToast(a,{type:"info"}),warning:a=>BdApi.UI.showToast(a,{type:"warning"})})},notices:{show:Object.assign((...a)=>BdApi.UI.showNotice(...a),{success:(a,u={})=>BdApi.UI.showNotice(a,{type:"success",...u}),error:(a,u={})=>BdApi.UI.showNotice(a,{type:"error",...u}),info:(a,u={})=>BdApi.UI.showNotice(a,{type:"info",...u}),warning:(a,u={})=>BdApi.UI.showNotice(a,{type:"warning",...u})})},tooltips:{create:Object.assign((a,u,f={})=>new e.Tooltip(a,u,{style:"primary",...f}),{success:(a,u,f={})=>new e.Tooltip(a,u,{style:"green",...f}),error:(a,u,f={})=>new e.Tooltip(a,u,{style:"red",...f}),warning:(a,u,f={})=>new e.Tooltip(a,u,{style:"yellow",...f})})},contextMenus:{patch:(a,u)=>BdApi.ContextMenu.patch(a,u),build:{item:a=>BdApi.ContextMenu.buildItem(a),menu:Object.assign(a=>BdApi.ContextMenu.buildMenu(a),{children:a=>BdApi.ContextMenu.buildMenuChildren(a)})},open:(a,u,f)=>BdApi.ContextMenu.open(a,u,f)}},dom:Object.assign(s,{patch:(a,u,f=!1)=>(()=>{function h(m){m.nodeType!==Node.TEXT_NODE&&m.querySelectorAll(a).forEach(async y=>{if(y.acord||(y.acord={unmountCallbacks:[],patchedSelectors:new Set},y.classList.add("acord--patched")),y.acord.patchedSelectors.has(a))return;y.acord.patchedSelectors.add(a);let A=await u(y);typeof A=="function"&&y.acord.unmountCallbacks.push(A)})}return f&&document.querySelectorAll(a).forEach(h),it.on("domMutation",m=>{m.addedNodes.forEach(h),m.removedNodes.forEach(y=>{y.nodeType!==Node.TEXT_NODE&&y.querySelectorAll(a).forEach(async A=>{!A.acord||A.acord.unmountCallbacks.forEach(lt=>lt())})})})})()}),i18n:{format:d.format,messages:d.messages,get locale(){return d.locale}},websocket:{set:n.set,trigger:n.trigger},dev:l,unload(){ie.unpatchAll(),ie.unpatchAllCSS(),$.stopAll(),n.unpatchSocket(),at.removeAll(),socket.disconnect(),l.unload()},_:e,other:{}};r()||(at.add(j.interval(()=>{r()&&window?.acord?.unload?.()},1e4)),window.acord=c,globalThis.acord=c,ko(e),await d.init(),await $.init(),await $.startAll(),j.logger.log(d.messages.ACORD_LOADED),BdApi.UI.showToast(d.messages.ACORD_LOADED,{type:"success"}))}observer(c){window.acord&&window.acord.events.emit("domMutation",c)}onStop(){BdApi.UI.showToast(d.messages.ACORD_UNLOADED,{type:"success"}),j.logger.log(d.messages.ACORD_UNLOADED);try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord}}};if(global.ZLibrary){let o=global.ZLibrary.buildPlugin(ct);module.exports=Do(...o),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let o=!1;setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),n=require("fs"),l=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(s,i,d)=>{if(s)return t.openExternal("https://betterdiscord.app/Download?id=9");i.statusCode===302?e.get(i.headers.location,async(r,c,a)=>{if(r)return t.openExternal("https://betterdiscord.app/Download?id=9");n.writeFile(l.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),a,()=>{})}):n.writeFile(l.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),d,()=>{})}),(async()=>{for(;!(global.ZLibrary||o);)await new Promise(s=>setTimeout(s,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(t){}async start(){}stop(){o=!0}}}
