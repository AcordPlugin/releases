/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.367
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://armagan.rest/
 */
var p=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var I=p((fo,re)=>{re.exports=o=>{let e=a=>typeof a=="object"||typeof a=="function";function t(a){return c=>a.every(n=>Object.keys(c).some(s=>s.toLowerCase().includes(n.toLowerCase())))}function r(a){return c=>e(c)&&Object.values(c).some(n=>e(n)&&a.some(s=>n?.[s]!==void 0))}function l(a){return c=>c.prototype&&a.every(n=>c.prototype[n]!==void 0)}function i(a){return c=>a.every(n=>c?.toString?.()?.includes?.(n))}return{findByProps:(...a)=>o.WebpackModules.findByUniqueProperties(a),findByProperties:(...a)=>o.WebpackModules.findByUniqueProperties(a),findByKeywordAll:(...a)=>o.WebpackModules.findAll(t(a)),findByKeyword:(...a)=>o.WebpackModules.findAll(t(a))[0],findByNestedProps:(...a)=>o.WebpackModules.findAll(r(a))[0],findByNestedPropsAll:(...a)=>o.WebpackModules.findAll(r(a)),findByPrototypes:(...a)=>o.WebpackModules.findAll(l(a))[0],findByPrototypesAll:(...a)=>o.WebpackModules.findAll(l(a)),findByStrings:(...a)=>o.WebpackModules.findAll(i(a))[0],findByStringsAll:(...a)=>o.WebpackModules.findAll(i(a)),findAll:a=>o.WebpackModules.findAll(a),find:a=>o.WebpackModules.find(a)}}});var U=p((po,se)=>{var Ye=I();se.exports=o=>{let e=Ye(o);return{swc:e,common:{constants:{Permissions:e.find(t=>typeof t.VIEW_CHANNEL=="bigint")},channels:e.findByProps("getVoiceChannelId","getChannelId"),guilds:e.findByProps("getLastSelectedGuildId","getGuildId"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),i18n:e.findByProps("_requestedLocale","getDefaultLocale"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,UserStore:e.findByProps("getUser","getCurrentUser"),ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),PermissionStore:e.findByProps("getChannelPermissions","can"),ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),DiscordAPI:e.findByProps("get","post"),uuid:e.findByProps("v1","v4"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),Button:e.findByProps("Colors","BorderColors"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString().includes("ENTERING")),ModalComponents:e.findByProps("Header","Footer")}}}}});var F=p((ho,ie)=>{ie.exports=o=>({createElement:(e,t,...r)=>{if(typeof e=="function")return e({...t,children:[].concat(...r)});let l=document.createElement(e);for(let i of Object.keys(t))i.indexOf("on")===0?l.addEventListener(i.slice(2).toLowerCase(),t[i]):i==="children"?l.append(...Array.isArray(t[i])?t[i]:[].concat(t[i])):l.setAttribute(i==="className"?"class":i,t[i]);return r.length&&l.append(...r),l},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(r=>{t.style.hasOwnProperty(r[0])?t.style[r[0]]=r[1]:t.style.setProperty(r[0],r[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var W=p(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var le=p(P=>{"use strict";var Qe=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(P,"__esModule",{value:!0});var ae=Qe(W()),K=class{constructor(){this.listeners=Object.values(ae.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let r=(l,i)=>{this.off(l,r),t(l,i)};this.on(e,r)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let r of this.listeners[e])r(e,t)};for(let e of Object.values(ae.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};P.default=K});var ce=p(M=>{"use strict";var et=M&&M.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(M,"__esModule",{value:!0});var tt=et(le());function ot(o={},{nestArrays:e=!0}={}){let t=new tt.default;function r(l,i,a){return new Proxy(l,{get(c,n){let s=[...a,n],d=c[n];return d!=null?(t.get({path:s,value:d}),!e&&Array.isArray(d)?d:typeof d=="object"?r(d,i,s):d):r(c[n]={},i,s)},set(c,n,s){return c[n]=s,t.set({path:[...a,n],value:s}),!0},deleteProperty(c,n){return delete c[n]?(t.delete({path:[...a,n]}),!0):!1},has(c,n){return typeof c[n]=="object"&&Object.keys(c[n]).length===0?!1:n in c}})}return Object.assign({store:r(o,o,[]),ghost:o},t)}M.default=ot});var k=p(A=>{"use strict";var de=A&&A.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(A,"__esModule",{value:!0});A.make=A.Events=void 0;var nt=W();Object.defineProperty(A,"Events",{enumerable:!0,get:function(){return de(nt).default}});var rt=ce();Object.defineProperty(A,"make",{enumerable:!0,get:function(){return de(rt).default}})});var V=p(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});function b(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function ue(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let r=b(t);return(l,i)=>r.then(a=>i(a.transaction(e,l).objectStore(e)))}var X;function v(){return X||(X=ue("keyval-store","keyval")),X}function st(o,e=v()){return e("readonly",t=>b(t.get(o)))}function it(o,e,t=v()){return t("readwrite",r=>(r.put(e,o),b(r.transaction)))}function at(o,e=v()){return e("readwrite",t=>(o.forEach(r=>t.put(r[1],r[0])),b(t.transaction)))}function lt(o,e=v()){return e("readonly",t=>Promise.all(o.map(r=>b(t.get(r)))))}function ct(o,e,t=v()){return t("readwrite",r=>new Promise((l,i)=>{r.get(o).onsuccess=function(){try{r.put(e(this.result),o),l(b(r.transaction))}catch(a){i(a)}}}))}function dt(o,e=v()){return e("readwrite",t=>(t.delete(o),b(t.transaction)))}function ut(o,e=v()){return e("readwrite",t=>(o.forEach(r=>t.delete(r)),b(t.transaction)))}function ft(o=v()){return o("readwrite",e=>(e.clear(),b(e.transaction)))}function G(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},b(o.transaction)}function pt(o=v()){return o("readonly",e=>{if(e.getAllKeys)return b(e.getAllKeys());let t=[];return G(e,r=>t.push(r.key)).then(()=>t)})}function ht(o=v()){return o("readonly",e=>{if(e.getAll)return b(e.getAll());let t=[];return G(e,r=>t.push(r.value)).then(()=>t)})}function gt(o=v()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([b(e.getAllKeys()),b(e.getAll())]).then(([r,l])=>r.map((i,a)=>[i,l[a]]));let t=[];return o("readonly",r=>G(r,l=>t.push([l.key,l.value])).then(()=>t))})}m.clear=ft;m.createStore=ue;m.del=dt;m.delMany=ut;m.entries=gt;m.get=st;m.getMany=lt;m.keys=pt;m.promisifyRequest=b;m.set=it;m.setMany=at;m.update=ct;m.values=ht});var z=p((Eo,pe)=>{var x=k(),fe=V();async function yt(o){let e=await fe.get(`AcordStore;${o}`),t=x.make(e??{}),r=()=>fe.set(`AcordStore;${o}`,{...t.ghost});return t.on(x.Events.SET,r),t.on(x.Events.UPDATE,r),t.on(x.Events.DELETE,r),t}pe.exports=yt});var ge=p((_o,he)=>{he.exports=function(e,t,{walkable:r=null,ignore:l=[],limit:i=100}={}){let a=0;function c(n,s,{walkable:d=null,ignore:u=[]}={}){if(a+=1,!(a>i)){if(typeof s=="string"){if(n.hasOwnProperty(s))return n[s]}else if(s(n))return n;if(!!n){if(Array.isArray(n))for(let f of n){let h=c(f,s,{walkable:d,ignore:u});if(h)return h}else if(typeof n=="object"){for(let f of Object.keys(n))if(!(d!=null&&!d.includes(f))&&!u.includes(f))try{let h=c(n[f],s,{walkable:d,ignore:u});if(h)return h}catch{}}}}}return c(e,t,{walkable:r,ignore:l})}});var we=p((vo,ye)=>{var wt=["Clickable","Tooltip"];ye.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:r=wt}={}){let l=n=>!n?.type?.displayName||r.includes(n?.type?.displayName),i=n=>typeof n?.type!="string"&&(t?!l(n):!0),a=n=>i(n)?n?.type:a(n.return),c=a(acord.utils.getReactInstance(o));return e?find(n=>n?.default===c):c}});var me=p((Ao,be)=>{be.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(t)})}});var C=p((To,_e)=>{var Ee=ge(),bt=we(),mt=me(),J=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);_e.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:J("log","#00fbb0"),warn:J("warn","#debf18"),error:J("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>Ee(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:bt,getComponents(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&typeof r.return.type!="string";)r.return.type&&t.push(r.return.type),r=r.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&!(r.return.stateNode instanceof HTMLElement);)r.return.stateNode&&t.push(r.return.stateNode),r=r.return;return t},getProps:(o,e=r=>r,t=1e4)=>{let r=o.__reactFiber$;for(let l=r.return,i=0;i>t||l!==null;l=l?.return,i++)if(l?.pendingProps&&e(l.pendingProps))return l.pendingProps;return null}},findInTree:Ee,copyText:mt,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},minifyCSS(o){return o.replace(/( |\n)+/g," ")}}});var B=p((Oo,Se)=>{var ve=z(),Et=k(),{logger:j}=C(),Z={cache:"no-store"},S=Et.make({}),y=null,_t=window.eval;function Ae(o,e){let t=Object.assign({extension:e},window.acord),r=new URL(e.id),l=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${r.hostname}${r.pathname}`,i=_t(l)(t);return typeof i=="function"?i(e):i}async function vt(){y=await ve("LoadedExtensionsStore")}async function q(o){let e=y.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(S.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);let t,r=!1,l=await ve(o);try{t=Ae(e.source,{persist:l,id:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(i=>{i.property&&typeof l.ghost.settings?.[i.property]>"u"&&(l.store.settings[i.property]=i.value)})}catch(i){j.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${i} ${i.stack.join(`
`)}`),r=!0}try{t.load?.(),acord.ui.toasts.show(acord.i18n.fmt(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(i){j.error("EXTENSION_LOAD_ERR",e.manifest.about.name,i),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_LOAD_ERROR",e.manifest.about.name))}t.persist=l,S.store[o]=t,r&&setTimeout(()=>{try{e.unload()}catch(i){j.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,i),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function R(o){let e=S.ghost[o],t=y.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!S.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.fmt(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(r){j.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,r),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete S.store[o]}async function At(o){let e=y.store[o];if(!y.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await R(o),e.enabled=!1):(await q(o),e.enabled=!0)}async function N(o,e=!0){let t=o.replace(/\/?$/,"/"),r=new URL("extension.json",t).href,l=new URL("extension.js",t).href,i=y.ghost?.[t],a=i?y.store[t]:void 0,c=i?.enabled??e,n=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin\/(plugins|themes)/.test(t),s;try{let f=await fetch(r,Z);if(s=await f.json(),f.status!==200&&!i)throw delete y.store[t],"NO_MAN_200"}catch(f){throw new Error(`NO_PARSE ${f}`)}if(s.locked&&!n)throw"INVALID_LOCKED";if(!["plugin","theme"].includes(s?.type))throw"INVALID_TYPE";if(i){if(s){if(a.manifest.hash!==s.hash){let f=await fetch(l,Z);if(f.status!==200)throw delete y.store[t],new Error("NO_200");a.source=await f.text()}_.isEqual(a.manifest,s)||(a.manifest=s)}c&&await q(t);return}let d=await fetch(l,Z);if(d.status!==200)throw new Error("NO_200");let u=await d.text();y.store[t]={manifest:s,verified:n,source:u,enabled:c},c&&await q(t)}function Te(o){let e=y.ghost?.[o];if(!!e){try{R(o)}catch{}e.locked||delete y.store[o]}}var Tt=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/"];async function Ot(){await Promise.allSettled(Object.keys(y.ghost).map(N)),Tt.forEach(o=>{y.ghost?.[o]||N(o)})}function St(){Object.keys(y.ghost).forEach(o=>{try{R(o)}catch{}})}async function Oe(o,e=!0){try{Te(o)}catch{}try{await N(o,e)}catch{}}async function Pt(){let o=Object.entries(y.store);for(let e=0;e<o.length;e++)await Oe(o[e][0],o[e][1].enabled)}Se.exports={evaluate:Ae,load:N,init:vt,startAll:Ot,reloadAll:Pt,reload:Oe,nests:{get enabled(){return S},get loaded(){return y}},remove:Te,start:q,stop:R,toggle:At,stopAll:St}});var xe=p((So,De)=>{var Y=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,kt=Object.getOwnPropertyNames,Dt=Object.prototype.hasOwnProperty,xt=(o,e)=>{for(var t in e)Y(o,t,{get:e[t],enumerable:!0})},Ct=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of kt(e))!Dt.call(o,l)&&l!==t&&Y(o,l,{get:()=>e[l],enumerable:!(r=Mt(e,l))||r.enumerable});return o},jt=o=>Ct(Y({},"__esModule",{value:!0}),o),Pe={};xt(Pe,{after:()=>Lt,before:()=>Rt,instead:()=>Bt,unpatchAll:()=>Nt});De.exports=jt(Pe);var Me=["a","b","i"],O=new Map;function qt(o,e,t,r,l){let i=O.get(e)?.[o];if(!i)return l?Reflect.construct(e[o],t,r):e[o].apply(r,t);for(let n of i.b.values()){let s=n.call(r,t);Array.isArray(s)&&(t=s)}let a=(...n)=>l?Reflect.construct(i.o,n,r):i.o.apply(r,n);for(let n of i.i.values()){let s=a;a=(...d)=>n.call(r,d,s)}let c=a(...t);for(let n of i.a.values())c=n.call(r,t,c)??c;return c}function ke(o,e,t,r){let l=O.get(o),i=l?.[e];return i?.[r].has(t)?(i[r].delete(t),Me.every(a=>i[a].size===0)&&(Reflect.defineProperty(o,e,{value:i.o,writable:!0,configurable:!0})||(o[e]=i.o),delete l[e]),Object.keys(l).length==0&&O.delete(o),!0):!1}function Nt(){for(let[o,e]of O.entries())for(let t in e)for(let r of Me)for(let l of e[t]?.[r].keys()??[])ke(o,t,l,r)}var Q=o=>(e,t,r,l=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);O.has(t)||O.set(t,{});let i=O.get(t);if(!i[e]){let n=t[e];i[e]={o:n,b:new Map,i:new Map,a:new Map};let s=(f,h,g)=>{let E=qt(e,t,h,f,g);return l&&c(),E},d=new Proxy(n,{apply:(f,h,g)=>s(h,g,!1),construct:(f,h)=>s(n,h,!0),get:(f,h,g)=>h=="toString"?n.toString.bind(n):Reflect.get(f,h,g)});Reflect.defineProperty(t,e,{value:d,configurable:!0,writable:!0})||(t[e]=d)}let a=Symbol(),c=()=>ke(t,e,a,o);return i[e][o].set(a,r),c},Rt=Q("b"),Bt=Q("i"),Lt=Q("a")});var D=p((Po,Ce)=>{var $t=xe();Ce.exports={...$t,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var qe=p((Mo,je)=>{var It=B(),Ut=D();je.exports=o=>{let e=o.WebpackModules.find(s=>s?.__proto__?.handleConnection),t=new Set,r=new Map;async function l(s,d){let u;try{if(u=JSON.parse(d),!Array.isArray(u)||u.length<1||u.length>3)throw"Array expected as message.";if(typeof u[0]!="string")throw"Array[0] needs to be string.";if(typeof u[1]!="string")throw"Array[1] needs to be string."}catch(w){s.send(JSON.stringify([null,{ok:!1,error:`${w}`}]))}let[f,h,g]=u,E=r.get(h);if(!E)return s.send(JSON.stringify([f,{ok:!1,error:"Unable to find handler."}]));try{let w=await E(g);s.send(JSON.stringify([f,{ok:!0,data:w}]))}catch(w){s.send(JSON.stringify([f,{ok:!1,error:`${w}`}]))}}function i(s,d){if(typeof s!="string")throw new Error("EventName needs to be a string.");if(typeof d!="function")throw new Error("Callback needs to be a function.");if(r.has(s))throw new Error("EventName already in use.");return r.set(s,d),()=>{r.delete(s)}}let a=Ut.instead("handleConnection",e,(s,d)=>{let u=s[0];if(u.upgradeReq().url!=="/acord")return d(...s);t.add(u),u.on("message",f=>{l(u,f)}),u.on("close",()=>t.delete(u))});function c(){a(),r.clear(),t.forEach(s=>s.close())}function n(s,...d){if(!r.has(s))throw new Error("Unable to find handler!");return r.get(s)(...d)}return i("InstallExtension",async({url:s}={})=>{if(!(!s||!await acord.ui.modals.show.confirmation(acord.i18n.fmt("IMPORT_EXTENSION"),acord.i18n.fmt("IMPORT_EXTENSION_DESCRIPTION",s))))try{await It.load(s)}catch(u){acord.ui.toasts.show.error(`${u}`)}}),{unpatchSocket:c,connectedSockets:t,socketEvents:r,set:i,trigger:n}}});var Re=p((ko,Ne)=>{var Ft=F(),Ht=I(),{injectCSS:Wt}=D();Ne.exports=o=>{let e=Ft(o),t=Ht(o),r=t.findByProps("root","small"),l=t.findByProps("notDevTools","app");Wt(".acord--layer-container{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1001;pointer-events:none;transition:100ms ease all}.acord--backdrop{background-color:rgba(0,0,0,.5);position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1002;pointer-events:none}.acord--layer{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1003;pointer-events:all}.acord--modal-root{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1004;pointer-events:all}");function i(a,{size:c="large",classes:n=""}={}){let s=document.querySelector(`.${l.notDevTools}`),d=s.querySelector(".acord--layer-container");if(d||(d=e.parseHTML('<div class="acord--layer-container"></div>'),s.appendChild(d)),!d.querySelector(".acord--backdrop")){let w=e.parseHTML('<div class="acord--backdrop"></div>');d.prepend(w)}let u=e.parseHTML('<div class="acord--layer"></div>'),f=e.parseHTML(`<div class="${r.root} ${r[c]} ${e.escapeHTML(n)} acord--modal-root"></div>`),h=!1,g=[];async function E(){h||(h=!0,u?.remove(),document.querySelector(".acord--modal-root")||document.querySelector(".acord--backdrop")?.remove?.(),g.forEach(w=>w()))}return u.addEventListener("click",w=>{!w.target.classList.contains("acord--layer")||E()}),f.replaceChildren(typeof a=="function"?a({close:E,onClose(w){g.push(w)},root:f}):a),u.replaceChildren(f),d.appendChild(u),{close:E,onClose(w){g.push(w)},root:f}}return{show:Object.assign(i,{confirmation:(a,c)=>new Promise(n=>{o.Modals.showConfirmationModal(a,c,{onConfirm:()=>n(!0),onCancel:()=>n(!1)})}),alert:(a,c)=>o.Modals.showAlertModal(a,c)})}}});var Le=p((Do,Be)=>{var Kt=U(),ee="https://raw.githubusercontent.com/AcordPlugin/i18n/main",te={cache:"no-store"};Be.exports=o=>{let e=Kt(o),t=[],r={};async function l(){t=await(await fetch(`${ee}/languages.json`,te)).json(),r.default=await(await fetch(`${ee}/default.json`,te)).json()}async function i(){let n=e.common.i18n._requestedLocale;r[n]||!t.includes(n)||(r[n]=await(await fetch(`${ee}/${n}.json`,te)).json())}let a=new Proxy({},{get(n,s){i();let d=e.common.i18n._requestedLocale;return r[d]?.[s]||r.default[s]||e.common.i18n.Messages[s]||s}});function c(n,...s){return a[n].replaceAll(/{(\d+)}/g,(d,u)=>s[Number(u)])}return{init:l,fmt:c,messages:a,get locale(){return e.common.i18n._requestedLocale}}}});var Ie=p((xo,$e)=>{var Xt=k(),Gt=V(),Vt=z();$e.exports={nests:Xt,idbKeyval:Gt,createPersistentNest:Vt}});var Ue=p((Co,zt)=>{zt.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.367",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var He=p((qo,Fe)=>{Fe.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let r=this.listeners.get(e);r.forEach(({once:l},i)=>{l&&r?.delete(i),i(...t)})}}});var Ke=p((No,We)=>{var Jt=He(),Zt=new Jt;We.exports=Zt});var Ge=p((Ro,Xe)=>{var oe=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(r=>r==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};Xe.exports=new oe});var ze=p((Bo,Ve)=>{var{logger:T}=C(),Yt=k(),Qt=B();Ve.exports=o=>{let e=null,t=null,r=null,l=Yt.make({}),i=!1;o.set("UpdateDevelopmentExtension",async({source:c,manifest:n})=>{if(!i){if(i=!0,e){T.log(`Unloading development extension.. (${n.about.name})`);try{e?.unload?.(),e=null,t=null,r=null,T.log(`Development extension unloaded! (${n.about.name})`)}catch(s){T.error(`Unable to unload development extension! (${n.about.name})`,s)}}await new Promise(s=>setTimeout(s,1));try{e=Qt.evaluate(c,{persist:l,id:"https://FakeExtensionId",manifest:n}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(s=>{s.property&&typeof l.ghost.settings?.[s.property]>"u"&&(l.store.settings[s.property]=s.value)}),t=c,r=n,e.persist=l,e?.load?.(),T.log(`Development extension is loaded! (${n.about.name})`)}catch(s){T.error(`Failed to load development extension! (${n.about.name})`,s)}finally{}i=!1}});function a(){if(e){T.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,r=null,T.log("Development extension unloaded!")}catch(c){T.error("Unable to unload development extension!",c)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:r}:null,enabled:e}},unload:a}}});var eo=U(),to=F(),oo=qe(),no=Re(),ro=Le(),L=C(),so=Ie(),$=B(),ne=D(),Ze=Ue(),io=Ke(),Je=Ge(),ao=ze(),{injectCSS:lo}=D(),co=(o,e)=>{let t=eo(e),r=oo(e),l=ao(r),i=to(e),a=no(e),c=ro(e);return class extends o{async onStart(){await e.PluginUpdater.checkForUpdate("Acord",Ze.info.version,"https://raw.githubusercontent.com/AcordPlugin/acord-releases/main/acord.plugin.js"),lo('[class*="acord--"] * {box-sizing: border-box;}'),Je.add(L.interval(()=>{document.querySelectorAll("[acord-tooltip-content]").forEach(n=>{if(n.acordTooltip)return;let s=n.setAttribute,d=n.removeAttribute;n.setAttribute=function(g,E){if(n.acordTooltip)switch(g){case"acord-tooltip-content":{n.acordTooltip.label=E,n.acordTooltip.disabled=!E?.trim?.();break}case"acord-tooltip-style":{n.acordTooltip.style=E??"primary";break}case"acord-tooltip-side":{n.acordTooltip.side=E??"top";break}}return s.bind(this,g,E)},n.removeAttribute=function(g){if(n.acordTooltip)switch(g){case"acord-tooltip-content":{n.acordTooltip.disabled=!0,n.acordTooltip.label="";break}case"acord-tooltip-style":{n.acordTooltip.style="primary";break}case"acord-tooltip-side":{n.acordTooltip.side="top";break}}return d.call(this,g)};let u=n.getAttribute("acord-tooltip-content"),f=n.getAttribute("acord-tooltip-style")||"primary",h=n.getAttribute("acord-tooltip-side")||"top";if(n.acordTooltip){n.acordTooltip.disabled=!!u?.trim(),n.acordTooltip.label=u,n.acordTooltip.style=f,n.acordTooltip.side=h;return}n.acordTooltip=new e.Tooltip(n,u,{style:f,side:h}),n.acordTooltip.tooltipElement.style.zIndex=9999999})},100)),window.acord={internal:so,modules:t,utils:L,patcher:ne,extensions:(()=>{let n={...$};return delete n.init,n})(),events:io,ui:{modals:a,toasts:{show:Object.assign((...n)=>e.Toasts.show(...n),{success:(...n)=>e.Toasts.success(...n),error:(...n)=>e.Toasts.error(...n),info:(...n)=>e.Toasts.info(...n),warning:(...n)=>e.Toasts.warning(...n)})},tooltips:{create:Object.assign((n,s,d={})=>new e.Tooltip(n,s,{style:"primary",...d}),{success:(n,s,d={})=>new e.Tooltip(n,s,{style:"green",...d}),error:(n,s,d={})=>new e.Tooltip(n,s,{style:"red",...d}),warning:(n,s,d={})=>new e.Tooltip(n,s,{style:"yellow",...d})})}},dom:i,i18n:(()=>{let n={...c};return delete n.init,n})(),websocket:{set:r.set,trigger:r.trigger},dev:l,unload(){ne.unpatchAll(),ne.unpatchAllCSS(),$.stopAll(),r.unpatchSocket(),Je.removeAll(),l.unload()},_:e},globalThis.acord=window.acord,await c.init(),await $.init(),await $.startAll(),L.logger.log(c.messages.ACORD_LOADED),e.Toasts.success(c.messages.ACORD_LOADED)}observer(n){window.acord&&window.acord.events.emit("domMutation",n)}onStop(){try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord,L.logger.log(c.messages.ACORD_UNLOADED),e.Toasts.success(c.messages.ACORD_UNLOADED)}}};if(global.ZLibrary){let o=global.ZLibrary.buildPlugin(Ze);module.exports=co(...o)}else{setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),r=require("fs"),l=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(i,a,c)=>{if(i)return t.openExternal("https://betterdiscord.app/Download?id=9");a.statusCode===302?e.get(a.headers.location,async(n,s,d)=>{if(n)return t.openExternal("https://betterdiscord.app/Download?id=9");r.writeFile(l.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),d,()=>{})}):r.writeFile(l.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),c,()=>{})})},1);let o=!1;module.exports=class{constructor(t){}async start(){for(;!(global.ZLibrary||o);)await new Promise(t=>setTimeout(t,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"))}stop(){o=!0}}}
