/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.466
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://armagan.rest/
 */
var p=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var U=p((xo,ae)=>{ae.exports=o=>{let e=i=>typeof i=="object"||typeof i=="function";function t(i){return l=>i.every(s=>Object.keys(l).some(n=>n.toLowerCase().includes(s.toLowerCase())))}function r(i){return l=>e(l)&&Object.values(l).some(s=>e(s)&&i.some(n=>s?.[n]!==void 0))}function c(i){return l=>l.prototype&&i.every(s=>l.prototype[s]!==void 0)}function a(i){return l=>i.every(s=>l?.toString?.()?.includes?.(s))}return{findByProps:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByProperties:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByPropsAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByPropertiesAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByKeywordAll:(...i)=>o.WebpackModules.findAll(t(i)),findByKeyword:(...i)=>o.WebpackModules.findAll(t(i))[0],findByNestedProps:(...i)=>o.WebpackModules.findAll(r(i))[0],findByNestedPropsAll:(...i)=>o.WebpackModules.findAll(r(i)),findByPrototypes:(...i)=>o.WebpackModules.findAll(c(i))[0],findByPrototypesAll:(...i)=>o.WebpackModules.findAll(c(i)),findByStrings:(...i)=>o.WebpackModules.findAll(a(i))[0],findByStringsAll:(...i)=>o.WebpackModules.findAll(a(i)),findAll:(i,l=!1)=>o.WebpackModules.findAll(i,{searchExports:l}),find:(i,l=!1)=>o.WebpackModules.find(i,{searchExports:l})}}});var L=p((Co,ce)=>{var ct=U();ce.exports=o=>{let e=ct(o);return{webpack:e,require:window.require,common:{constants:{Permissions:o.DiscordModules.DiscordPermissions},i18n:e.findByProps("_requestedLocale","getDefaultLocale"),uuid:e.findByProps("v1","v4"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")},ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),Button:o.DiscordModules.ButtonData,ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),Rest:e.findByProps("get","post","getAPIBaseURL"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),GuildMemberStore:e.findByProps("getMembers","getMember"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),MessageStore:e.findByProps("getMessages","getMessage"),NoteStore:e.findByProps("getNote","getName"),PermissionStore:e.findByProps("getChannelPermissions"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,RelationshipStore:e.findByProps("getRelationships","getFriendIDs"),Router:o.DiscordModules.NavigationUtils,SelectedChannelStore:e.findByProps("getVoiceChannelId","getChannelId"),SelectedGuildStore:e.findByProps("getLastSelectedGuildId","getGuildId"),SimpleMarkdown:o.DiscordModules.SimpleMarkdown,UserStore:e.findByProps("getUser","getCurrentUser"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),TypingStore:e.findByProps("isTyping","getTypingUsers"),MediaEngineStore:e.findByProperties("getAecDump","getOutputVolume"),SoundpackStore:e.findByProps("getSoundpack")}}}});var W=p((No,le)=>{le.exports=o=>({createElement:(e,t,...r)=>{if(typeof e=="function")return e({...t,children:[].concat(...r)});let c=document.createElement(e);for(let a of Object.keys(t))a.indexOf("on")===0?c.addEventListener(a.slice(2).toLowerCase(),t[a]):a==="children"?c.append(...Array.isArray(t[a])?t[a]:[].concat(t[a])):c.setAttribute(a==="className"?"class":a,t[a]);return r.length&&c.append(...r),c},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(r=>{t.style.hasOwnProperty(r[0])?t.style[r[0]]=r[1]:t.style.setProperty(r[0],r[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var X=p(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var ue=p(k=>{"use strict";var lt=k&&k.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(k,"__esModule",{value:!0});var de=lt(X()),H=class{constructor(){this.listeners=Object.values(de.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let r=(c,a)=>{this.off(c,r),t(c,a)};this.on(e,r)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let r of this.listeners[e])r(e,t)};for(let e of Object.values(de.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};k.default=H});var fe=p(D=>{"use strict";var dt=D&&D.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(D,"__esModule",{value:!0});var ut=dt(ue());function ft(o={},{nestArrays:e=!0}={}){let t=new ut.default;function r(c,a,i){return new Proxy(c,{get(l,s){let n=[...i,s],d=l[s];return d!=null?(t.get({path:n,value:d}),!e&&Array.isArray(d)?d:typeof d=="object"?r(d,a,n):d):r(l[s]={},a,n)},set(l,s,n){return l[s]=n,t.set({path:[...i,s],value:n}),!0},deleteProperty(l,s){return delete l[s]?(t.delete({path:[...i,s]}),!0):!1},has(l,s){return typeof l[s]=="object"&&Object.keys(l[s]).length===0?!1:s in l}})}return Object.assign({store:r(o,o,[]),ghost:o},t)}D.default=ft});var j=p(T=>{"use strict";var pe=T&&T.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(T,"__esModule",{value:!0});T.make=T.Events=void 0;var pt=X();Object.defineProperty(T,"Events",{enumerable:!0,get:function(){return pe(pt).default}});var ht=fe();Object.defineProperty(T,"make",{enumerable:!0,get:function(){return pe(ht).default}})});var V=p(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});function b(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function he(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let r=b(t);return(c,a)=>r.then(i=>a(i.transaction(e,c).objectStore(e)))}var G;function E(){return G||(G=he("keyval-store","keyval")),G}function gt(o,e=E()){return e("readonly",t=>b(t.get(o)))}function yt(o,e,t=E()){return t("readwrite",r=>(r.put(e,o),b(r.transaction)))}function wt(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.put(r[1],r[0])),b(t.transaction)))}function bt(o,e=E()){return e("readonly",t=>Promise.all(o.map(r=>b(t.get(r)))))}function mt(o,e,t=E()){return t("readwrite",r=>new Promise((c,a)=>{r.get(o).onsuccess=function(){try{r.put(e(this.result),o),c(b(r.transaction))}catch(i){a(i)}}}))}function At(o,e=E()){return e("readwrite",t=>(t.delete(o),b(t.transaction)))}function Et(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.delete(r)),b(t.transaction)))}function St(o=E()){return o("readwrite",e=>(e.clear(),b(e.transaction)))}function K(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},b(o.transaction)}function _t(o=E()){return o("readonly",e=>{if(e.getAllKeys)return b(e.getAllKeys());let t=[];return K(e,r=>t.push(r.key)).then(()=>t)})}function Tt(o=E()){return o("readonly",e=>{if(e.getAll)return b(e.getAll());let t=[];return K(e,r=>t.push(r.value)).then(()=>t)})}function vt(o=E()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([b(e.getAllKeys()),b(e.getAll())]).then(([r,c])=>r.map((a,i)=>[a,c[i]]));let t=[];return o("readonly",r=>K(r,c=>t.push([c.key,c.value])).then(()=>t))})}m.clear=St;m.createStore=he;m.del=At;m.delMany=Et;m.entries=vt;m.get=gt;m.getMany=bt;m.keys=_t;m.promisifyRequest=b;m.set=yt;m.setMany=wt;m.update=mt;m.values=Tt});var be=p(S=>{S.Map=Map;S.WeakMap=WeakMap;S.WeakSet=WeakSet;S.Set=Set;var ge=o=>typeof o=="object"&&o!=null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String),Ot=o=>"#"+o.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),ye=()=>{let o=new S.WeakMap;return function(t,r){if(t!=="$ref"&&ge(r)){if(o.has(r))return{$ref:Ot(o.get(r))};o.set(r,[...o.get(this)??[],t])}return r}};function we(){let o=new S.WeakMap,e=new S.WeakMap,t=new S.Set;function r(c){let a=c.$ref.slice(1).split("/"),i,l,s=this;for(var n=0;n<a.length;n++)i=a[n].replace(/~1/g,"/").replace(/~0/g,"~"),s=s[i];l=o.get(c),l[e.get(c)]=s}return function(a,i){if(a==="$ref")t.add(this);else if(ge(i)){var l=a===""&&Object.keys(this).length===1;l?t.forEach(r,this):(o.set(i,this),e.set(i,a))}return i}}var Pt=o=>Object.defineProperties(o,{decycle:{value:(e,t)=>o.stringify(e,ye(),t)},retrocycle:{value:e=>o.parse(e,we())}});Object.assign(S,{decycle:ye,retrocycle:we,extend:Pt})});var J=p((Lo,me)=>{var C=j(),z=V(),{decycle:Mt,retrocycle:kt}=be();async function Dt(o){let e=await z.get(`AcordStore;${o}`);typeof e=="string"&&(e=JSON.parse(e,kt()));let t=C.make(e??{}),r=()=>{try{z.set(`AcordStore;${o}`,JSON.stringify({...t.ghost},Mt()))}catch{z.set(`AcordStore;${o}`,JSON.stringify({}))}};return t.on(C.Events.SET,r),t.on(C.Events.UPDATE,r),t.on(C.Events.DELETE,r),t}me.exports=Dt});var Ee=p((Wo,Ae)=>{Ae.exports=function(e,t,{walkable:r=null,ignore:c=[],limit:a=100}={}){let i=0;function l(s,n,{walkable:d=null,ignore:u=[]}={}){if(i+=1,!(i>a)){if(typeof n=="string"){if(s.hasOwnProperty(n))return s[n]}else if(n(s))return s;if(!!s){if(Array.isArray(s))for(let f of s){let h=l(f,n,{walkable:d,ignore:u});if(h)return h}else if(typeof s=="object"){for(let f of Object.keys(s))if(!(d!=null&&!d.includes(f))&&!u.includes(f))try{let h=l(s[f],n,{walkable:d,ignore:u});if(h)return h}catch{}}}}}return l(e,t,{walkable:r,ignore:c})}});var _e=p((Fo,Se)=>{var jt=["Clickable","Tooltip"];Se.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:r=jt}={}){let c=s=>!s?.type?.displayName||r.includes(s?.type?.displayName),a=s=>typeof s?.type!="string"&&(t?!c(s):!0),i=s=>a(s)?s?.type:i(s.return),l=i(acord.utils.getReactInstance(o));return e?find(s=>s?.default===l):l}});var ve=p((Xo,Te)=>{Te.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(t)})}});var O=p((Ho,Pe)=>{var Oe=Ee(),xt=_e(),Ct=ve(),Z=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);Pe.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:Z("log","#00fbb0"),warn:Z("warn","#debf18"),error:Z("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>Oe(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:xt,getComponents(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&typeof r.return.type!="string";)r.return.type&&t.push(r.return.type),r=r.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&!(r.return.stateNode instanceof HTMLElement);)r.return.stateNode&&t.push(r.return.stateNode),r=r.return;return t},getProps:(o,e=r=>r,t=1e4)=>{let r=o.__reactFiber$;for(let c=r.return,a=0;a>t||c!==null;c=c?.return,a++)if(c?.pendingProps&&e(c.pendingProps))return c.pendingProps;return null}},findInTree:Oe,copyText:Ct,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},timeout(o,e){let t=setTimeout(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},format(o,...e){return`${o}`.replaceAll(/{(\d+)}/g,(t,r)=>e[Number(r)])}}});var ke=p((Go,Me)=>{var Nt=O();Me.exports=async o=>{let e={},t=[],r=null;if(typeof o=="string"){r=o,r.endsWith("/")&&(r=r.slice(0,-1));try{t=await(await fetch(`${r}/locales.json`,noStore)).json(),e.default=await(await fetch(`${r}/default.json`,noStore)).json()}catch(l){console.error(l)}for(let l=0;l<t.length;l++){let s=t[l];try{e[s]=await(await fetch(`${r}/${s}.json`,noStore)).json()}catch(n){console.error(n)}}}else e=o,t=Object.keys(o),t.includes("default")&&t.splice(t.indexOf("default"),1);async function c(){if(!r)return;let l=acord.i18n.locale;if(!(e[l]||!t.includes(l)))try{e[l]=await(await fetch(`${r}/${l}.json`,noStore)).json()}catch(s){console.error(s)}}let a=new Proxy({},{get(l,s){return window.acord?(c(),e[acord.i18n.locale]?.[s]||e.default?.[s]||acord.i18n.messages[s]||s):s}});function i(l,...s){return Nt.format(a[l],...s)}return{messages:a,format:i}}});var $=p((Ko,Be)=>{var De=J(),Bt=j(),{logger:N}=O(),qt=ke(),Y={cache:"no-store"},P=Bt.make({}),y=null,It=window.eval;async function je(o){return Object.assign({extension:Object.assign(o,{i18n:await qt(o.manifest.i18n||{})})},window.acord)}async function xe(o,e){let t=await je(e),r=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${e.url}`,c=It(r)(t),a=typeof c=="function"?c(e):c;return a.api=t,a}async function $t(){y=await De("LoadedExtensionsStore")}async function B(o){let e=y.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(P.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;P.store[o].eulaAccepted=!0}let t,r=!1,c=await De(o);try{t=await xe(e.source,{persist:c,url:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(a=>{a.property&&typeof c.ghost.settings?.[a.property]>"u"&&(c.store.settings[a.property]=a.value)})}catch(a){N.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${a} ${a?.stack?.join?.(`
`)}`),r=!0}try{t.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(a){N.error("EXTENSION_LOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}P.store[o]=t,r&&setTimeout(()=>{try{e.unload()}catch(a){N.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function I(o){let e=P.ghost[o],t=y.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!P.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(r){N.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,r),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete P.store[o]}async function Rt(o){let e=y.store[o];if(!y.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await I(o),e.enabled=!1):(await B(o),e.enabled=!0)}async function q(o,e=!0){let t=o.replace(/\/?$/,"/"),r=new URL("extension.json",t).href,c=new URL("extension.js",t).href,a=y.ghost?.[t],i=a?y.store[t]:void 0,l=a?.enabled??e,s=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(t),n;try{let f=await fetch(r,Y);if(n=await f.json(),f.status!==200&&!a)throw a&&delete y.store[t],"NO_MAN_200"}catch(f){throw new Error(`NO_PARSE ${f}`)}if(n.locked&&!s)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(n?.type))throw new Error("INVALID_TYPE");if(a){if(n){if(i.manifest.hash!==n.hash){let f=await fetch(c,Y);if(f.status!==200)throw delete y.store[t],new Error("NO_200");i.source=await f.text()}_.isEqual(i.manifest,n)||(i.manifest=n)}l&&await B(t);return}let d=await fetch(c,Y);if(d.status!==200)throw new Error("NO_200");let u=await d.text();y.store[t]={manifest:n,verified:s,source:u,enabled:l,url:t},l&&await B(t)}function Ce(o){let e=y.ghost?.[o];if(!!e){try{I(o)}catch{}e.manifest.locked||delete y.store[o]}}var Ut=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function Lt(){await Promise.allSettled(Object.keys(y.ghost).map(q)),Ut.forEach(o=>{y.ghost?.[o]||q(o)})}function Wt(){Object.keys(y.ghost).forEach(o=>{try{I(o)}catch{}})}async function Ne(o){let e=!!y.ghost[o]?.enabled;try{Ce(o)}catch{}try{await q(o,e)}catch{}}async function Ft(){let o=Object.entries(y.store);for(let e=0;e<o.length;e++)await Ne(o[e][0],o[e][1].enabled)}Be.exports={evaluate:xe,load:q,init:$t,startAll:Lt,reloadAll:Ft,reload:Ne,buildAPI:je,nests:{get enabled(){return P},get loaded(){return y}},remove:Ce,start:B,stop:I,toggle:Rt,stopAll:Wt}});var Ue=p((Vo,Re)=>{var Q=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,Ht=Object.getOwnPropertyNames,Gt=Object.prototype.hasOwnProperty,Kt=(o,e)=>{for(var t in e)Q(o,t,{get:e[t],enumerable:!0})},Vt=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Ht(e))!Gt.call(o,c)&&c!==t&&Q(o,c,{get:()=>e[c],enumerable:!(r=Xt(e,c))||r.enumerable});return o},zt=o=>Vt(Q({},"__esModule",{value:!0}),o),qe={};Kt(qe,{after:()=>eo,before:()=>Yt,instead:()=>Qt,unpatchAll:()=>Zt});Re.exports=zt(qe);var Ie=["a","b","i"],M=new Map;function Jt(o,e,t,r,c){let a=M.get(e)?.[o];if(!a)return c?Reflect.construct(e[o],t,r):e[o].apply(r,t);for(let s of a.b.values()){let n=s.call(r,t);Array.isArray(n)&&(t=n)}let i=(...s)=>c?Reflect.construct(a.o,s,r):a.o.apply(r,s);for(let s of a.i.values()){let n=i;i=(...d)=>s.call(r,d,n)}let l=i(...t);for(let s of a.a.values())l=s.call(r,t,l)??l;return l}function $e(o,e,t,r){let c=M.get(o),a=c?.[e];return a?.[r].has(t)?(a[r].delete(t),Ie.every(i=>a[i].size===0)&&(Reflect.defineProperty(o,e,{value:a.o,writable:!0,configurable:!0})||(o[e]=a.o),delete c[e]),Object.keys(c).length==0&&M.delete(o),!0):!1}function Zt(){for(let[o,e]of M.entries())for(let t in e)for(let r of Ie)for(let c of e[t]?.[r].keys()??[])$e(o,t,c,r)}var ee=o=>(e,t,r,c=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);M.has(t)||M.set(t,{});let a=M.get(t);if(!a[e]){let s=t[e];a[e]={o:s,b:new Map,i:new Map,a:new Map};let n=(f,h,g)=>{let A=Jt(e,t,h,f,g);return c&&l(),A},d=new Proxy(s,{apply:(f,h,g)=>n(h,g,!1),construct:(f,h)=>n(s,h,!0),get:(f,h,g)=>h=="toString"?s.toString.bind(s):Reflect.get(f,h,g)});Reflect.defineProperty(t,e,{value:d,configurable:!0,writable:!0})||(t[e]=d)}let i=Symbol(),l=()=>$e(t,e,i,o);return a[e][o].set(i,r),l},Yt=ee("b"),Qt=ee("i"),eo=ee("a")});var x=p((zo,Le)=>{var to=Ue();Le.exports={...to,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var Fe=p((Jo,We)=>{var oo=$(),ro=x();We.exports=o=>{let e=o.WebpackModules.find(n=>n?.__proto__?.handleConnection),t=new Set,r=new Map;async function c(n,d){let u;try{if(u=JSON.parse(d),!Array.isArray(u)||u.length<1||u.length>3)throw"Array expected as message.";if(typeof u[0]!="string")throw"Array[0] needs to be string.";if(typeof u[1]!="string")throw"Array[1] needs to be string."}catch(w){n.send(JSON.stringify([null,{ok:!1,error:`${w}`}]))}let[f,h,g]=u,A=r.get(h);if(!A)return n.send(JSON.stringify([f,{ok:!1,error:"Unable to find handler."}]));try{let w=await A(g);n.send(JSON.stringify([f,{ok:!0,data:w}]))}catch(w){n.send(JSON.stringify([f,{ok:!1,error:`${w}`}]))}}function a(n,d){if(typeof n!="string")throw new Error("EventName needs to be a string.");if(typeof d!="function")throw new Error("Callback needs to be a function.");if(r.has(n))throw new Error("EventName already in use.");return r.set(n,d),()=>{r.delete(n)}}let i=ro.instead("handleConnection",e,(n,d)=>{let u=n[0];if(u.upgradeReq().url!=="/acord")return d(...n);t.add(u),u.on("message",f=>{c(u,f)}),u.on("close",()=>t.delete(u))});function l(){i(),r.clear(),t.forEach(n=>n.close())}function s(n,...d){if(!r.has(n))throw new Error("Unable to find handler!");return r.get(n)(...d)}return a("InstallExtension",async({url:n}={})=>{if(!(!n||!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",n))))try{await oo.load(n)}catch(u){acord.ui.toasts.show.error(`${u}`)}}),{unpatchSocket:l,connectedSockets:t,socketEvents:r,set:a,trigger:s}}});var He=p((Zo,Xe)=>{var no=W(),so=U(),{injectCSS:io}=x();Xe.exports=o=>{let e=no(o),t=so(o),r=t.findByProps("root","small"),c=t.findByProps("notDevTools","app");io(".acord--layer-container{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1001;pointer-events:none;transition:100ms ease all}.acord--backdrop{background-color:rgba(0,0,0,.5);position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1002;pointer-events:none}.acord--layer{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1003;pointer-events:all}.acord--modal-root{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1004;pointer-events:all}");function a(i,{size:l="large",classes:s=""}={}){let n=document.querySelector(`.${c.notDevTools}`),d=n.querySelector(".acord--layer-container");if(d||(d=e.parseHTML('<div class="acord--layer-container"></div>'),n.appendChild(d)),!d.querySelector(".acord--backdrop")){let w=e.parseHTML('<div class="acord--backdrop"></div>');d.prepend(w)}let u=e.parseHTML('<div class="acord--layer"></div>'),f=e.parseHTML(`<div class="${r.root} ${r[l]} ${e.escapeHTML(s)} acord--modal-root"></div>`),h=!1,g=[];async function A(){h||(h=!0,u?.remove(),document.querySelector(".acord--modal-root")||document.querySelector(".acord--backdrop")?.remove?.(),g.forEach(w=>w()))}return u.addEventListener("click",w=>{!w.target.classList.contains("acord--layer")||A()}),f.replaceChildren(typeof i=="function"?i({close:A,onClose(w){g.push(w)},root:f}):i),u.replaceChildren(f),d.appendChild(u),{close:A,onClose(w){g.push(w)},root:f}}return{show:Object.assign((...i)=>o.Modals.showModal(...i),{confirmation:(i,l,s={})=>new Promise(n=>{o.Modals.showConfirmationModal(i,l,{onConfirm:()=>n(!0),onCancel:()=>n(!1),confirmText:s?.confirm,cancelText:s?.cancel,danger:s?.danger})}),alert:(i,l)=>o.Modals.showAlertModal(i,l),legacy:(...i)=>a(...i)})}}});var Ke=p((Yo,Ge)=>{var ao=L(),co=O(),te="https://raw.githubusercontent.com/AcordPlugin/i18n/main",oe={cache:"no-store"};Ge.exports=o=>{let e=ao(o),t=[],r={};async function c(){try{t=await(await fetch(`${te}/locales.json`,oe)).json()}catch{}try{r.default=await(await fetch(`${te}/default.json`,oe)).json()}catch{}}async function a(){let s=e.common.i18n._requestedLocale;if(!(r[s]||!t.includes(s)))try{r[s]=await(await fetch(`${te}/${s}.json`,oe)).json()}catch{}}let i=new Proxy({},{get(s,n){a();let d=e.common.i18n._requestedLocale;return r[d]?.[n]||r.default?.[n]||e.common.i18n.Messages[n]||n}});function l(s,...n){return co.format(i[s],...n)}return{init:c,format:l,messages:i,get locale(){return e.common.i18n._requestedLocale}}}});var ze=p((Qo,Ve)=>{var lo=j(),uo=V(),fo=J();Ve.exports={nests:lo,idbKeyval:uo,createPersistentNest:fo}});var Je=p((er,po)=>{po.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.466",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var Ye=p((or,Ze)=>{Ze.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let r=this.listeners.get(e);r.forEach(({once:c},a)=>{c&&r?.delete(a),a(...t)})}}});var et=p((rr,Qe)=>{var ho=Ye(),go=new ho;Qe.exports=go});var ne=p((nr,tt)=>{var re=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(r=>r==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};tt.exports=new re});var rt=p((sr,ot)=>{var{logger:v}=O(),yo=j(),wo=$();ot.exports=o=>{let e=null,t=null,r=null,c=yo.make({}),a=!1,i=!1;o.set("UpdateDevelopmentExtension",async({source:s,manifest:n})=>{if(!(!i||a)){if(a=!0,e){v.log(`Unloading development extension.. (${n.about.name})`);try{e?.unload?.(),e=null,t=null,r=null,v.log(`Development extension unloaded! (${n.about.name})`)}catch(d){v.error(`Unable to unload development extension! (${n.about.name})`,d)}}await new Promise(d=>setTimeout(d,1));try{e=await wo.evaluate(s,{persist:c,id:"https://FakeExtensionId",manifest:n}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(d=>{d.property&&typeof c.ghost.settings?.[d.property]>"u"&&(c.store.settings[d.property]=d.value)}),t=s,r=n,e?.load?.(),v.log(`Development extension is loaded! (${n.about.name})`)}catch(d){v.error(`Failed to load development extension! (${n.about.name})`,d)}finally{}a=!1}});function l(){if(e){v.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,r=null,v.log("Development extension unloaded!")}catch(s){v.error("Unable to unload development extension!",s)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:r}:null,enabled:e}},get enabled(){return i},set enabled(s){i=!!s},unload:l}}});var st=p((ir,nt)=>{var bo=ne(),mo=O();nt.exports=function(e){bo.add(mo.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(t=>{if(!t.acordTooltip)try{let r=t.setAttribute,c=t.removeAttribute;t.setAttribute=function(s,n){if(t.acordTooltip)switch(s){case"acord--tooltip-content":{t.acordTooltip.label=n,t.acordTooltip.disabled=!n?.trim?.();break}case"acord--tooltip-style":{t.acordTooltip.style=n??"primary";break}case"acord--tooltip-side":{t.acordTooltip.side=n??"top";break}}return r.bind(this,s,n)},t.removeAttribute=function(s){if(t.acordTooltip)switch(s){case"acord--tooltip-content":{t.acordTooltip.disabled=!0,t.acordTooltip.label="";break}case"acord--tooltip-style":{t.acordTooltip.style="primary";break}case"acord--tooltip-side":{t.acordTooltip.side="top";break}}return c.call(this,s)};let a=t.getAttribute("acord--tooltip-content"),i=t.getAttribute("acord--tooltip-style")||"primary",l=t.getAttribute("acord--tooltip-side")||"top";if(t.acordTooltip){t.acordTooltip.disabled=!!a?.trim(),t.acordTooltip.label=a,t.acordTooltip.style=i,t.acordTooltip.side=l;return}t.acordTooltip=new e.Tooltip(t,a,{style:i,side:l}),t.acordTooltip.tooltipElement.style.zIndex=9999999}catch{}})},100))}});var Ao=L(),Eo=W(),So=Fe(),_o=He(),To=Ke(),se=O(),vo=ze(),R=$(),ie=x(),at=Je(),it=et(),Oo=ne(),Po=rt(),{injectCSS:Mo}=x(),ko=st(),Do=(o,e)=>{let t=Ao(e),r=So(e),c=Po(r),a=Eo(e),i=_o(e),l=To(e);return class extends o{async onStart(){await e.PluginUpdater.checkForUpdate("Acord",at.info.version,"https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js"),Mo('[class*="acord--"] * {box-sizing: border-box;}');let s={internal:vo,modules:t,utils:se,patcher:ie,extensions:(()=>{let n={...R};return delete n.init,n})(),events:it,ui:{modals:i,toasts:{show:Object.assign((...n)=>BdApi.UI.showToast(...n),{success:n=>BdApi.UI.showToast(n,{type:"success"}),error:n=>BdApi.UI.showToast(n,{type:"error"}),info:n=>BdApi.UI.showToast(n,{type:"info"}),warning:n=>BdApi.UI.showToast(n,{type:"warning"})})},notices:{show:Object.assign((...n)=>BdApi.UI.showNotice(...n),{success:(n,d={})=>BdApi.UI.showNotice(n,{type:"success",...d}),error:(n,d={})=>BdApi.UI.showNotice(n,{type:"error",...d}),info:(n,d={})=>BdApi.UI.showNotice(n,{type:"info",...d}),warning:(n,d={})=>BdApi.UI.showNotice(n,{type:"warning",...d})})},tooltips:{create:Object.assign((n,d,u={})=>new e.Tooltip(n,d,{style:"primary",...u}),{success:(n,d,u={})=>new e.Tooltip(n,d,{style:"green",...u}),error:(n,d,u={})=>new e.Tooltip(n,d,{style:"red",...u}),warning:(n,d,u={})=>new e.Tooltip(n,d,{style:"yellow",...u})})},contextMenus:{patch:(n,d)=>BdApi.ContextMenu.patch(n,d),build:{item:n=>BdApi.ContextMenu.buildItem(n),menu:Object.assign(n=>BdApi.ContextMenu.buildMenu(n),{children:n=>BdApi.ContextMenu.buildMenuChildren(n)})},open:(n,d,u)=>BdApi.ContextMenu.open(n,d,u)}},dom:Object.assign(a,{patch:(n,d,u=!1)=>(()=>{function f(h){h.nodeType!==Node.TEXT_NODE&&h.querySelectorAll(n).forEach(async g=>{if(g.acord||(g.acord={unmountCallbacks:[],patchedSelectors:new Set},g.classList.add("acord--patched")),g.acord.patchedSelectors.has(n))return;g.acord.patchedSelectors.add(n);let A=await d(g);typeof A=="function"&&g.acord.unmountCallbacks.push(A)})}return u&&document.querySelectorAll(n).forEach(f),it.on("domMutation",h=>{h.addedNodes.forEach(f),h.removedNodes.forEach(g=>{g.nodeType!==Node.TEXT_NODE&&g.querySelectorAll(n).forEach(async A=>{!A.acord||A.acord.unmountCallbacks.forEach(w=>w())})})})})()}),i18n:{format:l.format,messages:l.messages,get locale(){return l.locale}},websocket:{set:r.set,trigger:r.trigger},dev:c,unload(){ie.unpatchAll(),ie.unpatchAllCSS(),R.stopAll(),r.unpatchSocket(),Oo.removeAll(),socket.disconnect(),c.unload()},_:e,other:{}};window.acord=s,globalThis.acord=s,ko(e),await l.init(),await R.init(),await R.startAll(),se.logger.log(l.messages.ACORD_LOADED),BdApi.UI.showToast(l.messages.ACORD_LOADED,{type:"success"})}observer(s){window.acord&&window.acord.events.emit("domMutation",s)}onStop(){BdApi.UI.showToast(l.messages.ACORD_UNLOADED,{type:"success"}),se.logger.log(l.messages.ACORD_UNLOADED);try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord}}};if(global.ZLibrary){let o=global.ZLibrary.buildPlugin(at);module.exports=Do(...o),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let o=!1;setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),r=require("fs"),c=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(a,i,l)=>{if(a)return t.openExternal("https://betterdiscord.app/Download?id=9");i.statusCode===302?e.get(i.headers.location,async(s,n,d)=>{if(s)return t.openExternal("https://betterdiscord.app/Download?id=9");r.writeFile(c.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),d,()=>{})}):r.writeFile(c.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),l,()=>{})}),(async()=>{for(;!(global.ZLibrary||o);)await new Promise(a=>setTimeout(a,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(t){}async start(){}stop(){o=!0}}}
