/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.2.137
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://acord.app/
 */
var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qt=p((cu,Ys)=>{Ys.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.2.137",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var te=p((lu,_t)=>{var He=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[r]=this.patches.splice(this.patches.indexOf(n=>n==e),1);r()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let r=0;r<e.length;r++)e[r]()}};_t.exports=new He});var A=p((uu,We)=>{var be=new Map,zs=t=>(...e)=>{if(be.has(t))return be.get(t);{let r=t(...e);return be.set(t,r),r}};We.exports=zs;We.exports.clear=()=>{be.clear()}});var Ke=p((fu,Pt)=>{Pt.exports=function(e,r,{walkable:n=null,ignore:s=[],limit:o=100}={}){let a=0;function c(i,l,{walkable:h=null,ignore:u=[]}={}){if(a+=1,!(a>o)){if(typeof l=="string"){if(i.hasOwnProperty(l))return i[l]}else if(l(i))return i;if(!!i){if(Array.isArray(i))for(let d of i){let f=c(d,l,{walkable:h,ignore:u});if(f)return f}else if(typeof i=="object"){for(let d of Object.keys(i))if(!(h!=null&&!h.includes(d))&&!u.includes(d))try{let f=c(i[d],l,{walkable:h,ignore:u});if(f)return f}catch{}}}}}return c(e,r,{walkable:n,ignore:s})}});var Ye=p((hu,Dt)=>{var Js=A(),Se=(t,e)=>(...r)=>console[t]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...r);Dt.exports=Js(()=>({log:Se("log","#00fbb0"),info:Se("log","#82aaff"),warn:Se("warn","#debf18"),error:Se("error","#ef5858")}))});var jt=p((du,Lt)=>{var Zs=A(),Qs=Ke();Lt.exports=Zs(()=>{function t(e){return Object.entries(e).find(r=>r[0].startsWith("__reactFiber$"))?.[1]}return{getInstance:t,getOwnerInstance:e=>{let r=t(e);for(let n=r;n;n=n.return)if(n.stateNode?.forceUpdate)return n.stateNode},findInTree:(e,r)=>Qs(e,r,{walkable:["props","children","child","sibling"]}),findByDomNode:function(e,{parent:r=!1,displayName:n=!0,blockList:s=["Clickable","Tooltip"]}={}){let o=l=>!l?.type?.displayName||s.includes(l?.type?.displayName),a=l=>typeof l?.type!="string"&&(n?!o(l):!0),c=l=>a(l)?l?.type:c(l.return),i=c(acord.utils.react.getInstance(e));return r?find(l=>l?.default===i):i},getComponents(e){let r=t(e),n=[],s=r;for(;s&&s.return&&typeof s.return.type!="string";)s.return.type&&n.push(s.return.type),s=s.return;return n},getStateNodes(e){let r=t(e),n=[],s=r;for(;s&&s.return&&!(s.return.stateNode instanceof HTMLElement);)s.return.stateNode&&n.push(s.return.stateNode),s=s.return;return n},getProps:(e,r=s=>s,n=1e4)=>{let s=t(e);if(!s?.return)return null;for(let o=s?.return,a=0;a>n||o!==null;o=o?.return,a++)if(o?.pendingProps&&r(o.pendingProps))return o.pendingProps;return null}}})});var W=p((pu,Ct)=>{var eo=A(),to=Ke();Ct.exports=eo(()=>({sleep:t=>new Promise(e=>setTimeout(e,t)),logger:Ye()(),react:jt()(),findInTree:to,interval(t,e){let r=setInterval(t,e);return()=>{clearInterval(r)}},timeout(t,e){let r=setTimeout(t,e);return()=>{clearTimeout(r)}},ifExists(t,e){t&&e(t)},format(t,...e){return`${t}`.replaceAll(/{(\d+)}/g,(r,n)=>e[Number(n)])},copyText(t){if(window.DiscordNative){DiscordNative.clipboard.copy(t);return}navigator.clipboard.writeText(t).catch(()=>{let e=document.createElement("textarea");e.style.visibility="hidden",e.style.position="fixed",e.style.top="0",e.style.left="0",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(e)})}}))});var kt=p((gu,Mt)=>{var ro=te(),no=W()();Mt.exports=function(e){ro.add(no.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(r=>{if(!r.acordTooltip)try{let n=r.setAttribute,s=r.removeAttribute;r.setAttribute=function(i,l){if(r.acordTooltip)switch(i){case"acord--tooltip-content":{r.acordTooltip.label=l,r.acordTooltip.disabled=!l?.trim?.();break}case"acord--tooltip-style":{r.acordTooltip.style=l??"primary";break}case"acord--tooltip-side":{r.acordTooltip.side=l??"top";break}}return n.bind(this,i,l)},r.removeAttribute=function(i){if(r.acordTooltip)switch(i){case"acord--tooltip-content":{r.acordTooltip.disabled=!0,r.acordTooltip.label="";break}case"acord--tooltip-style":{r.acordTooltip.style="primary";break}case"acord--tooltip-side":{r.acordTooltip.side="top";break}}return s.call(this,i)};let o=r.getAttribute("acord--tooltip-content"),a=r.getAttribute("acord--tooltip-style")||"primary",c=r.getAttribute("acord--tooltip-side")||"top";if(r.acordTooltip){r.acordTooltip.disabled=!!o?.trim(),r.acordTooltip.label=o,r.acordTooltip.style=a,r.acordTooltip.side=c;return}r.acordTooltip=new e.Tooltip(r,o,{style:a,side:c}),r.acordTooltip.tooltipElement.style.zIndex=999999999}catch{}})},100))}});var Ut=p((Eu,Bt)=>{async function so(t,e=!1){let r=await(await fetch("https://raw.githubusercontent.com/AcordPlugin/assets/main/data/blocked.json")).json(),n=t.modules.common.GuildStore.getGuild(r.guilds.find(o=>t.modules.common.GuildStore.getGuild(o))),s=r.users.includes(t.modules.common.UserStore.getCurrentUser().id);return s?t.ui.notifications.show.error("You are banned from Acord."):n&&t.ui.notifications.show.error(`Unable to load Acord due to <strong>${n.name}</strong> guild, leave that guild now!`),e&&(!!n||s)&&t.unload(),!!n||s}Bt.exports=so});var ce=p((yu,Gt)=>{var oo="2.0.0",io=Number.MAX_SAFE_INTEGER||9007199254740991,ao=16;Gt.exports={SEMVER_SPEC_VERSION:oo,MAX_LENGTH:256,MAX_SAFE_INTEGER:io,MAX_SAFE_COMPONENT_LENGTH:ao}});var le=p((mu,Ft)=>{var co=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ft.exports=co});var K=p((F,Xt)=>{var{MAX_SAFE_COMPONENT_LENGTH:ze}=ce(),lo=le();F=Xt.exports={};var uo=F.re=[],g=F.src=[],E=F.t={},fo=0,y=(t,e,r)=>{let n=fo++;lo(t,n,e),E[t]=n,g[n]=e,uo[n]=new RegExp(e,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","[0-9]+");y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");y("MAINVERSION",`(${g[E.NUMERICIDENTIFIER]})\\.(${g[E.NUMERICIDENTIFIER]})\\.(${g[E.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${g[E.NUMERICIDENTIFIERLOOSE]})\\.(${g[E.NUMERICIDENTIFIERLOOSE]})\\.(${g[E.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${g[E.NUMERICIDENTIFIER]}|${g[E.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${g[E.NUMERICIDENTIFIERLOOSE]}|${g[E.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${g[E.PRERELEASEIDENTIFIER]}(?:\\.${g[E.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${g[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[E.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER","[0-9A-Za-z-]+");y("BUILD",`(?:\\+(${g[E.BUILDIDENTIFIER]}(?:\\.${g[E.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${g[E.MAINVERSION]}${g[E.PRERELEASE]}?${g[E.BUILD]}?`);y("FULL",`^${g[E.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${g[E.MAINVERSIONLOOSE]}${g[E.PRERELEASELOOSE]}?${g[E.BUILD]}?`);y("LOOSE",`^${g[E.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${g[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${g[E.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${g[E.XRANGEIDENTIFIER]})(?:\\.(${g[E.XRANGEIDENTIFIER]})(?:\\.(${g[E.XRANGEIDENTIFIER]})(?:${g[E.PRERELEASE]})?${g[E.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${g[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[E.XRANGEIDENTIFIERLOOSE]})(?:${g[E.PRERELEASELOOSE]})?${g[E.BUILD]}?)?)?`);y("XRANGE",`^${g[E.GTLT]}\\s*${g[E.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${g[E.GTLT]}\\s*${g[E.XRANGEPLAINLOOSE]}$`);y("COERCE",`(^|[^\\d])(\\d{1,${ze}})(?:\\.(\\d{1,${ze}}))?(?:\\.(\\d{1,${ze}}))?(?:$|[^\\d])`);y("COERCERTL",g[E.COERCE],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${g[E.LONETILDE]}\\s+`,!0);F.tildeTrimReplace="$1~";y("TILDE",`^${g[E.LONETILDE]}${g[E.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${g[E.LONETILDE]}${g[E.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${g[E.LONECARET]}\\s+`,!0);F.caretTrimReplace="$1^";y("CARET",`^${g[E.LONECARET]}${g[E.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${g[E.LONECARET]}${g[E.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${g[E.GTLT]}\\s*(${g[E.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${g[E.GTLT]}\\s*(${g[E.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${g[E.GTLT]}\\s*(${g[E.LOOSEPLAIN]}|${g[E.XRANGEPLAIN]})`,!0);F.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${g[E.XRANGEPLAIN]})\\s+-\\s+(${g[E.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${g[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[E.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ue=p((wu,Vt)=>{var ho=["includePrerelease","loose","rtl"],po=t=>t?typeof t!="object"?{loose:!0}:ho.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Vt.exports=po});var Je=p((vu,Kt)=>{var Ht=/^[0-9]+$/,Wt=(t,e)=>{let r=Ht.test(t),n=Ht.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},go=(t,e)=>Wt(e,t);Kt.exports={compareIdentifiers:Wt,rcompareIdentifiers:go}});var T=p((Au,Zt)=>{var xe=le(),{MAX_LENGTH:Yt,MAX_SAFE_INTEGER:Te}=ce(),{re:zt,t:Jt}=K(),Eo=ue(),{compareIdentifiers:re}=Je(),P=class{constructor(e,r){if(r=Eo(r),e instanceof P){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Yt)throw new TypeError(`version is longer than ${Yt} characters`);xe("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?zt[Jt.LOOSE]:zt[Jt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Te||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Te||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Te||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<Te)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(xe("SemVer.compare",this.version,this.options,e),!(e instanceof P)){if(typeof e=="string"&&e===this.version)return 0;e=new P(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof P||(e=new P(e,this.options)),re(this.major,e.major)||re(this.minor,e.minor)||re(this.patch,e.patch)}comparePre(e){if(e instanceof P||(e=new P(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(xe("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return re(n,s)}while(++r)}compareBuild(e){e instanceof P||(e=new P(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(xe("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return re(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(re(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Zt.exports=P});var Y=p((Ou,rr)=>{var{MAX_LENGTH:yo}=ce(),{re:Qt,t:er}=K(),tr=T(),mo=ue(),wo=(t,e)=>{if(e=mo(e),t instanceof tr)return t;if(typeof t!="string"||t.length>yo||!(e.loose?Qt[er.LOOSE]:Qt[er.FULL]).test(t))return null;try{return new tr(t,e)}catch{return null}};rr.exports=wo});var sr=p((bu,nr)=>{var vo=Y(),Ao=(t,e)=>{let r=vo(t,e);return r?r.version:null};nr.exports=Ao});var ir=p((Su,or)=>{var Oo=Y(),bo=(t,e)=>{let r=Oo(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};or.exports=bo});var lr=p((xu,cr)=>{var ar=T(),So=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new ar(t instanceof ar?t.version:t,r).inc(e,n).version}catch{return null}};cr.exports=So});var L=p((Tu,fr)=>{var ur=T(),xo=(t,e,r)=>new ur(t,r).compare(new ur(e,r));fr.exports=xo});var $e=p(($u,hr)=>{var To=L(),$o=(t,e,r)=>To(t,e,r)===0;hr.exports=$o});var gr=p((Nu,pr)=>{var dr=Y(),No=$e(),Io=(t,e)=>{if(No(t,e))return null;{let r=dr(t),n=dr(e),s=r.prerelease.length||n.prerelease.length,o=s?"pre":"",a=s?"prerelease":"";for(let c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return o+c;return a}};pr.exports=Io});var yr=p((Iu,Er)=>{var Ro=T(),qo=(t,e)=>new Ro(t,e).major;Er.exports=qo});var wr=p((Ru,mr)=>{var _o=T(),Po=(t,e)=>new _o(t,e).minor;mr.exports=Po});var Ar=p((qu,vr)=>{var Do=T(),Lo=(t,e)=>new Do(t,e).patch;vr.exports=Lo});var br=p((_u,Or)=>{var jo=Y(),Co=(t,e)=>{let r=jo(t,e);return r&&r.prerelease.length?r.prerelease:null};Or.exports=Co});var xr=p((Pu,Sr)=>{var Mo=L(),ko=(t,e,r)=>Mo(e,t,r);Sr.exports=ko});var $r=p((Du,Tr)=>{var Bo=L(),Uo=(t,e)=>Bo(t,e,!0);Tr.exports=Uo});var Ne=p((Lu,Ir)=>{var Nr=T(),Go=(t,e,r)=>{let n=new Nr(t,r),s=new Nr(e,r);return n.compare(s)||n.compareBuild(s)};Ir.exports=Go});var qr=p((ju,Rr)=>{var Fo=Ne(),Xo=(t,e)=>t.sort((r,n)=>Fo(r,n,e));Rr.exports=Xo});var Pr=p((Cu,_r)=>{var Vo=Ne(),Ho=(t,e)=>t.sort((r,n)=>Vo(n,r,e));_r.exports=Ho});var fe=p((Mu,Dr)=>{var Wo=L(),Ko=(t,e,r)=>Wo(t,e,r)>0;Dr.exports=Ko});var Ie=p((ku,Lr)=>{var Yo=L(),zo=(t,e,r)=>Yo(t,e,r)<0;Lr.exports=zo});var Ze=p((Bu,jr)=>{var Jo=L(),Zo=(t,e,r)=>Jo(t,e,r)!==0;jr.exports=Zo});var Re=p((Uu,Cr)=>{var Qo=L(),ei=(t,e,r)=>Qo(t,e,r)>=0;Cr.exports=ei});var qe=p((Gu,Mr)=>{var ti=L(),ri=(t,e,r)=>ti(t,e,r)<=0;Mr.exports=ri});var Qe=p((Fu,kr)=>{var ni=$e(),si=Ze(),oi=fe(),ii=Re(),ai=Ie(),ci=qe(),li=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ni(t,r,n);case"!=":return si(t,r,n);case">":return oi(t,r,n);case">=":return ii(t,r,n);case"<":return ai(t,r,n);case"<=":return ci(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};kr.exports=li});var Ur=p((Xu,Br)=>{var ui=T(),fi=Y(),{re:_e,t:Pe}=K(),hi=(t,e)=>{if(t instanceof ui)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(_e[Pe.COERCE]);else{let n;for(;(n=_e[Pe.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),_e[Pe.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;_e[Pe.COERCERTL].lastIndex=-1}return r===null?null:fi(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Br.exports=hi});var Fr=p((Vu,Gr)=>{"use strict";Gr.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Vr=p((Hu,Xr)=>{"use strict";Xr.exports=m;m.Node=z;m.create=m;function m(t){var e=this;if(e instanceof m||(e=new m),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}m.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};m.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};m.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};m.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)pi(this,arguments[t]);return this.length};m.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)gi(this,arguments[t]);return this.length};m.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};m.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};m.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};m.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};m.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};m.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};m.prototype.map=function(t,e){e=e||this;for(var r=new m,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};m.prototype.mapReverse=function(t,e){e=e||this;for(var r=new m,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};m.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};m.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};m.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};m.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};m.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new m;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};m.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new m;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};m.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var o=[],n=0;s&&n<e;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=di(this,s,r[n]);return o};m.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function di(t,e,r){var n=e===t.head?new z(r,null,e,t):new z(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function pi(t,e){t.tail=new z(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function gi(t,e){t.head=new z(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function z(t,e,r,n){if(!(this instanceof z))return new z(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Fr()(m)}catch{}});var zr=p((Wu,Yr)=>{"use strict";var Ei=Vr(),J=Symbol("max"),G=Symbol("length"),ne=Symbol("lengthCalculator"),de=Symbol("allowStale"),Z=Symbol("maxAge"),U=Symbol("dispose"),Hr=Symbol("noDisposeOnSet"),S=Symbol("lruList"),C=Symbol("cache"),Kr=Symbol("updateAgeOnGet"),et=()=>1,rt=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[J]=e.max||1/0,n=e.length||et;if(this[ne]=typeof n!="function"?et:n,this[de]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Z]=e.maxAge||0,this[U]=e.dispose,this[Hr]=e.noDisposeOnSet||!1,this[Kr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[J]=e||1/0,he(this)}get max(){return this[J]}set allowStale(e){this[de]=!!e}get allowStale(){return this[de]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Z]=e,he(this)}get maxAge(){return this[Z]}set lengthCalculator(e){typeof e!="function"&&(e=et),e!==this[ne]&&(this[ne]=e,this[G]=0,this[S].forEach(r=>{r.length=this[ne](r.value,r.key),this[G]+=r.length})),he(this)}get lengthCalculator(){return this[ne]}get length(){return this[G]}get itemCount(){return this[S].length}rforEach(e,r){r=r||this;for(let n=this[S].tail;n!==null;){let s=n.prev;Wr(this,e,n,r),n=s}}forEach(e,r){r=r||this;for(let n=this[S].head;n!==null;){let s=n.next;Wr(this,e,n,r),n=s}}keys(){return this[S].toArray().map(e=>e.key)}values(){return this[S].toArray().map(e=>e.value)}reset(){this[U]&&this[S]&&this[S].length&&this[S].forEach(e=>this[U](e.key,e.value)),this[C]=new Map,this[S]=new Ei,this[G]=0}dump(){return this[S].map(e=>De(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[S]}set(e,r,n){if(n=n||this[Z],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,o=this[ne](r,e);if(this[C].has(e)){if(o>this[J])return se(this,this[C].get(e)),!1;let i=this[C].get(e).value;return this[U]&&(this[Hr]||this[U](e,i.value)),i.now=s,i.maxAge=n,i.value=r,this[G]+=o-i.length,i.length=o,this.get(e),he(this),!0}let a=new nt(e,r,o,s,n);return a.length>this[J]?(this[U]&&this[U](e,r),!1):(this[G]+=a.length,this[S].unshift(a),this[C].set(e,this[S].head),he(this),!0)}has(e){if(!this[C].has(e))return!1;let r=this[C].get(e).value;return!De(this,r)}get(e){return tt(this,e,!0)}peek(e){return tt(this,e,!1)}pop(){let e=this[S].tail;return e?(se(this,e),e.value):null}del(e){se(this,this[C].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],o=s.e||0;if(o===0)this.set(s.k,s.v);else{let a=o-r;a>0&&this.set(s.k,s.v,a)}}}prune(){this[C].forEach((e,r)=>tt(this,r,!1))}},tt=(t,e,r)=>{let n=t[C].get(e);if(n){let s=n.value;if(De(t,s)){if(se(t,n),!t[de])return}else r&&(t[Kr]&&(n.value.now=Date.now()),t[S].unshiftNode(n));return s.value}},De=(t,e)=>{if(!e||!e.maxAge&&!t[Z])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Z]&&r>t[Z]},he=t=>{if(t[G]>t[J])for(let e=t[S].tail;t[G]>t[J]&&e!==null;){let r=e.prev;se(t,e),e=r}},se=(t,e)=>{if(e){let r=e.value;t[U]&&t[U](r.key,r.value),t[G]-=r.length,t[C].delete(r.key),t[S].removeNode(e)}},nt=class{constructor(e,r,n,s,o){this.key=e,this.value=r,this.length=n,this.now=s,this.maxAge=o||0}},Wr=(t,e,r,n)=>{let s=r.value;De(t,s)&&(se(t,r),t[de]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};Yr.exports=rt});var j=p((Ku,en)=>{var Q=class{constructor(e,r){if(r=mi(r),e instanceof Q)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Q(e.raw,r);if(e instanceof st)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Zr(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&bi(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=Jr.get(n);if(s)return s;let o=this.options.loose,a=o?q[$.HYPHENRANGELOOSE]:q[$.HYPHENRANGE];e=e.replace(a,Pi(this.options.includePrerelease)),v("hyphen replace",e),e=e.replace(q[$.COMPARATORTRIM],vi),v("comparator trim",e),e=e.replace(q[$.TILDETRIM],Ai),e=e.replace(q[$.CARETTRIM],Oi),e=e.split(/\s+/).join(" ");let c=e.split(" ").map(u=>Si(u,this.options)).join(" ").split(/\s+/).map(u=>_i(u,this.options));o&&(c=c.filter(u=>(v("loose invalid filter",u,this.options),!!u.match(q[$.COMPARATORLOOSE])))),v("range list",c);let i=new Map,l=c.map(u=>new st(u,this.options));for(let u of l){if(Zr(u))return[u];i.set(u.value,u)}i.size>1&&i.has("")&&i.delete("");let h=[...i.values()];return Jr.set(n,h),h}intersects(e,r){if(!(e instanceof Q))throw new TypeError("a Range is required");return this.set.some(n=>Qr(n,r)&&e.set.some(s=>Qr(s,r)&&n.every(o=>s.every(a=>o.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new wi(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Di(this.set[r],e,this.options))return!0;return!1}};en.exports=Q;var yi=zr(),Jr=new yi({max:1e3}),mi=ue(),st=pe(),v=le(),wi=T(),{re:q,t:$,comparatorTrimReplace:vi,tildeTrimReplace:Ai,caretTrimReplace:Oi}=K(),Zr=t=>t.value==="<0.0.0-0",bi=t=>t.value==="",Qr=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(o=>s.intersects(o,e)),s=n.pop();return r},Si=(t,e)=>(v("comp",t,e),t=$i(t,e),v("caret",t),t=xi(t,e),v("tildes",t),t=Ii(t,e),v("xrange",t),t=qi(t,e),v("stars",t),t),N=t=>!t||t.toLowerCase()==="x"||t==="*",xi=(t,e)=>t.trim().split(/\s+/).map(r=>Ti(r,e)).join(" "),Ti=(t,e)=>{let r=e.loose?q[$.TILDELOOSE]:q[$.TILDE];return t.replace(r,(n,s,o,a,c)=>{v("tilde",t,n,s,o,a,c);let i;return N(s)?i="":N(o)?i=`>=${s}.0.0 <${+s+1}.0.0-0`:N(a)?i=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:c?(v("replaceTilde pr",c),i=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`):i=`>=${s}.${o}.${a} <${s}.${+o+1}.0-0`,v("tilde return",i),i})},$i=(t,e)=>t.trim().split(/\s+/).map(r=>Ni(r,e)).join(" "),Ni=(t,e)=>{v("caret",t,e);let r=e.loose?q[$.CARETLOOSE]:q[$.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,o,a,c,i)=>{v("caret",t,s,o,a,c,i);let l;return N(o)?l="":N(a)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:N(c)?o==="0"?l=`>=${o}.${a}.0${n} <${o}.${+a+1}.0-0`:l=`>=${o}.${a}.0${n} <${+o+1}.0.0-0`:i?(v("replaceCaret pr",i),o==="0"?a==="0"?l=`>=${o}.${a}.${c}-${i} <${o}.${a}.${+c+1}-0`:l=`>=${o}.${a}.${c}-${i} <${o}.${+a+1}.0-0`:l=`>=${o}.${a}.${c}-${i} <${+o+1}.0.0-0`):(v("no pr"),o==="0"?a==="0"?l=`>=${o}.${a}.${c}${n} <${o}.${a}.${+c+1}-0`:l=`>=${o}.${a}.${c}${n} <${o}.${+a+1}.0-0`:l=`>=${o}.${a}.${c} <${+o+1}.0.0-0`),v("caret return",l),l})},Ii=(t,e)=>(v("replaceXRanges",t,e),t.split(/\s+/).map(r=>Ri(r,e)).join(" ")),Ri=(t,e)=>{t=t.trim();let r=e.loose?q[$.XRANGELOOSE]:q[$.XRANGE];return t.replace(r,(n,s,o,a,c,i)=>{v("xRange",t,n,s,o,a,c,i);let l=N(o),h=l||N(a),u=h||N(c),d=u;return s==="="&&d&&(s=""),i=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&d?(h&&(a=0),c=0,s===">"?(s=">=",h?(o=+o+1,a=0,c=0):(a=+a+1,c=0)):s==="<="&&(s="<",h?o=+o+1:a=+a+1),s==="<"&&(i="-0"),n=`${s+o}.${a}.${c}${i}`):h?n=`>=${o}.0.0${i} <${+o+1}.0.0-0`:u&&(n=`>=${o}.${a}.0${i} <${o}.${+a+1}.0-0`),v("xRange return",n),n})},qi=(t,e)=>(v("replaceStars",t,e),t.trim().replace(q[$.STAR],"")),_i=(t,e)=>(v("replaceGTE0",t,e),t.trim().replace(q[e.includePrerelease?$.GTE0PRE:$.GTE0],"")),Pi=t=>(e,r,n,s,o,a,c,i,l,h,u,d,f)=>(N(n)?r="":N(s)?r=`>=${n}.0.0${t?"-0":""}`:N(o)?r=`>=${n}.${s}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,N(l)?i="":N(h)?i=`<${+l+1}.0.0-0`:N(u)?i=`<${l}.${+h+1}.0-0`:d?i=`<=${l}.${h}.${u}-${d}`:t?i=`<${l}.${h}.${+u+1}-0`:i=`<=${i}`,`${r} ${i}`.trim()),Di=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(v(t[n].semver),t[n].semver!==st.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var pe=p((Yu,on)=>{var ge=Symbol("SemVer ANY"),oe=class{static get ANY(){return ge}constructor(e,r){if(r=Li(r),e instanceof oe){if(e.loose===!!r.loose)return e;e=e.value}it("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ge?this.value="":this.value=this.operator+this.semver.version,it("comp",this)}parse(e){let r=this.options.loose?tn[rn.COMPARATORLOOSE]:tn[rn.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new nn(n[2],this.options.loose):this.semver=ge}toString(){return this.value}test(e){if(it("Comparator.test",e,this.options.loose),this.semver===ge||e===ge)return!0;if(typeof e=="string")try{e=new nn(e,this.options)}catch{return!1}return ot(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof oe))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new sn(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new sn(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=ot(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),i=ot(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||o&&a||c||i}};on.exports=oe;var Li=ue(),{re:tn,t:rn}=K(),ot=Qe(),it=le(),nn=T(),sn=j()});var Ee=p((zu,an)=>{var ji=j(),Ci=(t,e,r)=>{try{e=new ji(e,r)}catch{return!1}return e.test(t)};an.exports=Ci});var ln=p((Ju,cn)=>{var Mi=j(),ki=(t,e)=>new Mi(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));cn.exports=ki});var fn=p((Zu,un)=>{var Bi=T(),Ui=j(),Gi=(t,e,r)=>{let n=null,s=null,o=null;try{o=new Ui(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new Bi(n,r))}),n};un.exports=Gi});var dn=p((Qu,hn)=>{var Fi=T(),Xi=j(),Vi=(t,e,r)=>{let n=null,s=null,o=null;try{o=new Xi(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new Fi(n,r))}),n};hn.exports=Vi});var En=p((ef,gn)=>{var at=T(),Hi=j(),pn=fe(),Wi=(t,e)=>{t=new Hi(t,e);let r=new at("0.0.0");if(t.test(r)||(r=new at("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],o=null;s.forEach(a=>{let c=new at(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||pn(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||pn(r,o))&&(r=o)}return r&&t.test(r)?r:null};gn.exports=Wi});var mn=p((tf,yn)=>{var Ki=j(),Yi=(t,e)=>{try{return new Ki(t,e).range||"*"}catch{return null}};yn.exports=Yi});var Le=p((rf,On)=>{var zi=T(),An=pe(),{ANY:Ji}=An,Zi=j(),Qi=Ee(),wn=fe(),vn=Ie(),ea=qe(),ta=Re(),ra=(t,e,r,n)=>{t=new zi(t,n),e=new Zi(e,n);let s,o,a,c,i;switch(r){case">":s=wn,o=ea,a=vn,c=">",i=">=";break;case"<":s=vn,o=ta,a=wn,c="<",i="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Qi(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],u=null,d=null;if(h.forEach(f=>{f.semver===Ji&&(f=new An(">=0.0.0")),u=u||f,d=d||f,s(f.semver,u.semver,n)?u=f:a(f.semver,d.semver,n)&&(d=f)}),u.operator===c||u.operator===i||(!d.operator||d.operator===c)&&o(t,d.semver))return!1;if(d.operator===i&&a(t,d.semver))return!1}return!0};On.exports=ra});var Sn=p((nf,bn)=>{var na=Le(),sa=(t,e,r)=>na(t,e,">",r);bn.exports=sa});var Tn=p((sf,xn)=>{var oa=Le(),ia=(t,e,r)=>oa(t,e,"<",r);xn.exports=ia});var In=p((of,Nn)=>{var $n=j(),aa=(t,e,r)=>(t=new $n(t,r),e=new $n(e,r),t.intersects(e));Nn.exports=aa});var qn=p((af,Rn)=>{var ca=Ee(),la=L();Rn.exports=(t,e,r)=>{let n=[],s=null,o=null,a=t.sort((h,u)=>la(h,u,r));for(let h of a)ca(h,e,r)?(o=h,s||(s=h)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let c=[];for(let[h,u]of n)h===u?c.push(h):!u&&h===a[0]?c.push("*"):u?h===a[0]?c.push(`<=${u}`):c.push(`${h} - ${u}`):c.push(`>=${h}`);let i=c.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return i.length<l.length?i:e}});var jn=p((cf,Ln)=>{var _n=j(),je=pe(),{ANY:ct}=je,ye=Ee(),lt=L(),ua=(t,e,r={})=>{if(t===e)return!0;t=new _n(t,r),e=new _n(e,r);let n=!1;e:for(let s of t.set){for(let o of e.set){let a=fa(s,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},fa=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ct){if(e.length===1&&e[0].semver===ct)return!0;r.includePrerelease?t=[new je(">=0.0.0-0")]:t=[new je(">=0.0.0")]}if(e.length===1&&e[0].semver===ct){if(r.includePrerelease)return!0;e=[new je(">=0.0.0")]}let n=new Set,s,o;for(let f of t)f.operator===">"||f.operator===">="?s=Pn(s,f,r):f.operator==="<"||f.operator==="<="?o=Dn(o,f,r):n.add(f.semver);if(n.size>1)return null;let a;if(s&&o){if(a=lt(s.semver,o.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let f of n){if(s&&!ye(f,String(s),r)||o&&!ye(f,String(o),r))return null;for(let w of e)if(!ye(f,String(w),r))return!1;return!0}let c,i,l,h,u=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;u&&u.prerelease.length===1&&o.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator===">"||f.operator===">="){if(c=Pn(s,f,r),c===f&&c!==s)return!1}else if(s.operator===">="&&!ye(s.semver,String(f),r))return!1}if(o){if(u&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===u.major&&f.semver.minor===u.minor&&f.semver.patch===u.patch&&(u=!1),f.operator==="<"||f.operator==="<="){if(i=Dn(o,f,r),i===f&&i!==o)return!1}else if(o.operator==="<="&&!ye(o.semver,String(f),r))return!1}if(!f.operator&&(o||s)&&a!==0)return!1}return!(s&&l&&!o&&a!==0||o&&h&&!s&&a!==0||d||u)},Pn=(t,e,r)=>{if(!t)return e;let n=lt(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Dn=(t,e,r)=>{if(!t)return e;let n=lt(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Ln.exports=ua});var ft=p((lf,Mn)=>{var ut=K(),ha=ce(),da=T(),Cn=Je(),pa=Y(),ga=sr(),Ea=ir(),ya=lr(),ma=gr(),wa=yr(),va=wr(),Aa=Ar(),Oa=br(),ba=L(),Sa=xr(),xa=$r(),Ta=Ne(),$a=qr(),Na=Pr(),Ia=fe(),Ra=Ie(),qa=$e(),_a=Ze(),Pa=Re(),Da=qe(),La=Qe(),ja=Ur(),Ca=pe(),Ma=j(),ka=Ee(),Ba=ln(),Ua=fn(),Ga=dn(),Fa=En(),Xa=mn(),Va=Le(),Ha=Sn(),Wa=Tn(),Ka=In(),Ya=qn(),za=jn();Mn.exports={parse:pa,valid:ga,clean:Ea,inc:ya,diff:ma,major:wa,minor:va,patch:Aa,prerelease:Oa,compare:ba,rcompare:Sa,compareLoose:xa,compareBuild:Ta,sort:$a,rsort:Na,gt:Ia,lt:Ra,eq:qa,neq:_a,gte:Pa,lte:Da,cmp:La,coerce:ja,Comparator:Ca,Range:Ma,satisfies:ka,toComparators:Ba,maxSatisfying:Ua,minSatisfying:Ga,minVersion:Fa,validRange:Xa,outside:Va,gtr:Ha,ltr:Wa,intersects:Ka,simplifyRange:Ya,subset:za,SemVer:da,re:ut.re,src:ut.src,tokens:ut.t,SEMVER_SPEC_VERSION:ha.SEMVER_SPEC_VERSION,compareIdentifiers:Cn.compareIdentifiers,rcompareIdentifiers:Cn.rcompareIdentifiers}});var ht=p((uf,Un)=>{var Ja=require("path"),kn=require("fs"),Za=/\* @version (\d+\.\d+\.\d+)/,Qa=ft();function Bn(t){return t.match(Za)?.[1]||"0.0.0"}async function ec(t){let e=Ja.join(BdApi.Plugins.folder,"acord.plugin.js"),r=Bn(kn.readFileSync(e,"utf-8")),n=await(await fetch("https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js")).text(),s=Bn(n);return t.utils.logger.log(`Checking for updates! (Current Version: ${r}, Remote Version: ${s})`),Qa.gt(s,r)?(t.ui.notifications.show.success(t.i18n.format("UPDATING_VERSION_V1_TO_V2",r,s)),t.utils.logger.log(t.ui.notifications.show.success(t.i18n.format("UPDATING_VERSION_V1_TO_V2",r,s))),kn.writeFileSync(e,n,"utf-8"),!0):!1}Un.exports=ec});var ie=p((ff,Gn)=>{var me=null;async function tc(){return me||(me=await(await fetch("https://raw.githubusercontent.com/AcordPlugin/assets/main/data/common.json",{cache:"no-store"})).json()),me}function rc(){return me}function nc(){me=null}Gn.exports={fetchCommonData:tc,getCommonData:rc,delCommonData:nc}});var Vn=p((hf,Xn)=>{var Fn=t=>typeof t=="object"||typeof t=="function";function sc(t){return e=>t.every(r=>Object.keys(e).some(n=>n.toLowerCase().includes(r.toLowerCase())))}function oc(t){return e=>Fn(e)&&Object.values(e).some(r=>Fn(r)&&t.some(n=>r?.[n]!==void 0))}function ic(t){return e=>Object.getOwnPropertyNames(e).every(r=>t.includes(r))}function ac(t){return e=>e.prototype&&t.every(r=>e.prototype[r]!==void 0)}function cc(t){return e=>t.every(r=>e?.toString?.()?.includes?.(r)||e?.__original__?.toString?.()?.includes?.(r)||e?.type?.toString?.()?.includes?.(r)||e?.type?.__original__?.toString?.()?.includes?.(r)||Object.entries(["function","object"].includes(typeof e?.prototype)?typeof e?.prototype:{}).filter(n=>n[0]?.includes?.("render")).some(n=>n[1]?.toString?.()?.includes?.(r)))}function lc(t){return e=>t.every(r=>!e?.toString?.()?.includes?.(r)&&!e?.__original__?.toString?.()?.includes?.(r)&&!e?.type?.toString?.()?.includes?.(r)&&!e?.type?.__original__?.toString?.()?.includes?.(r)&&!Object.entries(["function","object"].includes(typeof e?.prototype)?typeof e?.prototype:{}).filter(n=>n[0]?.includes?.("render")).some(n=>n[1]?.toString?.()?.includes?.(r)))}function uc(t,e,r){let n=(s,o)=>r?s.toString().indexOf(o.toString())==-1:s.toString().indexOf(o.toString())>-1;return e.every(s=>n(t?.toString?.()||"",s)||n(t?.__original__?.toString?.()||"",s)||n(t?.type?.toString?.()||"",s)||n(t?.type?.__original__?.toString?.()||"",s)||Object.entries(["function","object"].includes(typeof t?.prototype)?typeof t?.prototype:{}).filter(o=>o[0]?.includes?.("render")).some(o=>n(o[1]?.toString?.()||"",s)))}function fc(t,e,r){return e.every(n=>{let s=t[n]?.__original__||t[n];return r?s===void 0:s!==void 0&&!(typeof s=="string"&&!s)})}function hc(t,e,r){return t.prototype&&e.every(n=>{let s=t.prototype[n];return r?s===void 0:s!==void 0&&!(typeof s=="string"&&!s)})}Xn.exports={byKeyword:sc,byNestedProps:oc,byPrototypes:ac,byStrings:cc,byProps:ic,byNonStrings:lc,checkModuleStrings:uc,checkModuleProps:fc,checkModulePrototypes:hc}});var Wn=p((df,Hn)=>{function dc(t,e,r={}){let n=typeof r.defaultExport!="boolean"?!0:r.defaultExport,s=typeof r.unloaded!="boolean"?!1:r.unloaded,o=typeof r.all!="boolean"?!1:r.all,a=[];if(!s){for(let c in t.c)if(t.c.hasOwnProperty(c)){let i=t.c[c].exports,l=null;if(i&&(typeof i=="object"||typeof i=="function")){if(l=e(i))if(o)a.push(n?l:t.c[c]);else return n?l:t.c[c];else for(let h of Object.keys(i))if(h.length<4&&i[h]&&!!(l=e(i[h])))if(o)a.push(n?l:t.c[c]);else return n?l:t.c[c]}if(i&&i.__esModule&&i.default&&(typeof i.default=="object"||typeof i.default=="function")){if(l=e(i.default))if(o)a.push(n?l:t.c[c]);else return n?l:t.c[c];else if(i.default.type&&(typeof i.default.type=="object"||typeof i.default.type=="function")&&!!(l=e(i.default.type)))if(o)a.push(n?l:t.c[c]);else return n?l:t.c[c]}}}for(let c in t.m)if(t.m.hasOwnProperty(c)){let i=t.m[c];if(i&&typeof i=="function"){if(t.c[c]&&!s&&e(i))if(o)a.push(n?t.c[c].exports:t.c[c]);else return n?t.c[c].exports:t.c[c];if(!t.c[c]&&s&&e(i)){let l={},h={};i(l,h,t);let u=h&&Object.getOwnPropertyNames(h||{}).length==0?l:h;if(o)a.push(n?u.exports:u);else return n?u.exports:u}}}if(o)return a}Hn.exports=dc});var we=p((gf,Jn)=>{var pc=A(),{byKeyword:Kn,byPrototypes:Yn,byStrings:zn,byNonStrings:pf,checkModuleProps:gc,checkModuleStrings:dt}=Vn(),ee=Wn();Jn.exports=pc(Ec);function Ec(t){let e=`AcordWebpackModules${Date.now()}`,r=window.webpackChunkdiscord_app.push([[e],{},o=>o]);delete r.m[e],delete r.c[e],window.webpackChunkdiscord_app.pop();function n(o,a){return o.find(c=>{let i=typeof c[1]=="function"?c[1]?.__original__?.toString?.()||c[1]?.toString?.()||"":(()=>{try{return JSON.stringify(c[1])}catch{return c[1].toString()}})(),l=c[1]?.render?.__original__?.toString?.()||c[1]?.render?.toString?.()||"";return a.every(h=>i.indexOf(h)!=-1||l.indexOf(h)!=-1)})}function s(o={}){let a=!!ee.export,c=o.filter?.strings?.true||[],i=o.filter?.strings?.false||[],l=o.filter?.properties?.true||[],h=o.filter?.prototypes?.true||[],u=o.filter?.functions?.true||[],d=null;if(l.length?d=ee(r,f=>gc(f,l),{defaultExport:a}):h.length?d=ee(r,f=>checkModulePrototypes(f,h),{defaultExport:a}):c.length&&(i.length?d=ee(r,f=>dt(f,c)&&dt(f,i,!0),{defaultExport:a}):d=ee(r,f=>dt(f,c),{defaultExport:a})),!d||(o.path?.before&&(d=_.get(d,o.path.before)),o.assign&&(d=Object.assign({},d)),u.length&&(d=n(Object.entries(d||{}),u)[1]),!d))return null;if(o.map){let f=d,w={},b={__original__:f,__mapped__:w,...f};Object.entries(o.map).forEach(([x,B])=>{Object.defineProperty(b,x,{get(){if(w[x])return f[w[x]];let D=n(Object.entries(f||{}),o.map[x]||[]);if(!!D?.length)return w[x]=D[0],D[1]}})}),d=b}else if(o.path?.auto){let f=Object.values(d?.exports??d??{}).find(w=>typeof w=="object");d=d?.exports?.__esModule===!0?d.exports:d?.__esModule===!0?d:f||d}return o.path?.after&&(d=_.get(d,o.path.after)),d}return{findByProps:(...o)=>t.WebpackModules.findByUniqueProperties(o,!0),findByProperties:(...o)=>t.WebpackModules.findByUniqueProperties(o,!0),findByPropsAll:(...o)=>t.WebpackModules.findByUniqueProperties(o,!1),findByPropertiesAll:(...o)=>t.WebpackModules.findByUniqueProperties(o,!1),findByKeywordAll:(...o)=>t.WebpackModules.findAll(Kn(o)),findByKeyword:(...o)=>t.WebpackModules.findAll(Kn(o))?.[0],findByNestedProps:(...o)=>t.WebpackModules.findAll(byNestedProps(o))?.[0],findByNestedPropsAll:(...o)=>t.WebpackModules.findAll(byNestedProps(o)),findByPrototypes:(...o)=>t.WebpackModules.findAll(Yn(o))?.[0],findByPrototypesAll:(...o)=>t.WebpackModules.findAll(Yn(o)),findByStrings:(...o)=>t.WebpackModules.findAll(zn(o))?.[0],findByStringsAll:(...o)=>t.WebpackModules.findAll(zn(o)),findAll:(o,a=!1)=>t.WebpackModules.findAll(o,{searchExports:a}),find:(o,a=!1)=>t.WebpackModules.find(o,{searchExports:a}),findComplex:(o,a)=>ee(r,o,a),findComplexAll:(o,a)=>ee(r,o,{all:!0,...a}),findByStringValues:(...o)=>t.WebpackModules.find(a=>{let c=Object.values(a);return o.every(i=>c.some(l=>typeof l=="string"&&l.includes(i)))},{searchExports:!1}),findByIndex:o=>t.WebpackModules.find((a,c,i)=>i==o),findComplexByFinder:s,req:r}}});var Qn=p((Ef,Zn)=>{var yc=A(),mc=we(),wc=te(),{getCommonData:vc}=ie();Zn.exports=yc(t=>{let e=new Map,r={Button:t.DiscordModules.ButtonData},n=mc(t),s=vc();return Object.entries(s.components).forEach(([o,a])=>{r[o]||Object.defineProperty(r,o,{get(){if(e.has(o))return e.get(o);let c=n.findComplexByFinder(a);return e.set(o,c),c}})}),wc.add(()=>{e.clear()}),r})});var ts=p((yf,es)=>{var Ac=A(),Oc=we(),bc=te(),{getCommonData:Sc}=ie();es.exports=Ac(t=>{let e=new Map,r={},n=Oc(t),s=Sc();return Object.entries(s.classes).forEach(([o,a])=>{r[o]||Object.defineProperty(r,o,{get(){if(e.has(o))return e.get(o);let c=n.findComplexByFinder(a);return e.set(o,c),c}})}),bc.add(()=>{e.clear()}),r})});var pt=p((mf,rs)=>{var xc=we(),Tc=A(),$c=te(),{getCommonData:Nc}=ie();rs.exports=Tc(t=>{let e=xc(t),r=new Map,n={Rest:()=>e.findByProps("get","post","getAPIBaseURL"),Flux:()=>e.findByProps("connectStores","destroy"),FluxDispatcher:()=>e.findByProps("_currentDispatchActionType","dispatch"),Markdown:()=>e.find(i=>i?.prototype?.render&&i.rules),React:()=>t.DiscordModules.React,ReactDOM:()=>t.DiscordModules.ReactDOM,Router:()=>t.DiscordModules.NavigationUtils,SimpleMarkdown:()=>t.DiscordModules.SimpleMarkdown,QueryActions:()=>e.findByProps("queryEmojiResults","queryFriends"),MessageActions:()=>e.findByProps("receiveMessage","sendMessage"),PremiumActions:()=>e.findByProps("isPremium","canUseEmojisEverywhere"),VoiceActions:()=>e.findByProps("selectVoiceChannel","disconnect"),TypingActions:()=>e.findByProps("startTyping","stopTyping"),GuildActions:()=>e.findByProps("setChannel","setServerMute"),InviteActions:()=>e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),MediaEngineActions:()=>e.findByProps("toggleSelfDeaf","toggleSelfMute"),i18n:()=>e.findByProps("_requestedLocale","getDefaultLocale"),uuid:()=>e.findByProps("v1","v4"),modals:()=>({actions:{show:(...i)=>t.DiscordModules.ModalActions.openModal(...i),close:(...i)=>t.DiscordModules.ModalActions.closeModal(...i)},ModalRoot:e.find(i=>i?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")}),hljs:()=>e.findByProps("highlightAll","highlight"),moment:()=>e.findByProps("isMoment","isDate")},s={constants:{Permissions:t.DiscordModules.DiscordPermissions},components:Qn()(t),classes:ts()(t)},o=Nc(),a=[...new Map(e.findAll(i=>i?.getName?.()?.endsWith("Store")).map(i=>[i.getName(),()=>i])).entries()],c=Object.entries(o.apis).map(i=>[i[0],()=>e.findComplexByFinder(i[1])]);return[...Object.entries(n),...a,...c].forEach(([i,l])=>{s[i]||Object.defineProperty(s,i,{get(){if(r.has(i))return r.get(i);let h=l();return r.set(i,h),h}})}),$c.add(()=>{r.clear()}),s})});var Ce=p((wf,ns)=>{var Ic=A();ns.exports=Ic(t=>({webpack:we()(t),require:window.require,common:pt()(t)}))});var cs=p((vf,as)=>{var gt=Object.defineProperty,Rc=Object.getOwnPropertyDescriptor,qc=Object.getOwnPropertyNames,_c=Object.prototype.hasOwnProperty,Pc=(t,e)=>{for(var r in e)gt(t,r,{get:e[r],enumerable:!0})},Dc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of qc(e))!_c.call(t,s)&&s!==r&&gt(t,s,{get:()=>e[s],enumerable:!(n=Rc(e,s))||n.enumerable});return t},Lc=t=>Dc(gt({},"__esModule",{value:!0}),t),ss={};Pc(ss,{after:()=>Bc,before:()=>Mc,instead:()=>kc,patched:()=>X,unPatchAll:()=>Cc});as.exports=Lc(ss);var os=["a","b","i"],X=new Map;function jc(t,e,r,n,s){let o=X.get(e)?.[t];if(!o)return s?Reflect.construct(e[t],r,n):e[t].apply(n,r);for(let i of o.b.values()){let l=i.call(n,r);Array.isArray(l)&&(r=l)}let a=(...i)=>s?Reflect.construct(o.o,i,n):o.o.apply(n,i);for(let i of o.i.values()){let l=a;a=(...h)=>i.call(n,h,l)}let c=a(...r);for(let i of o.a.values())c=i.call(n,r,c)??c;return c}function is(t,e,r,n){let s=X.get(t),o=s?.[e];return o?.[n].has(r)?(o[n].delete(r),os.every(a=>o[a].size===0)&&(Reflect.defineProperty(t,e,{value:o.o,writable:!0,configurable:!0})||(t[e]=o.o),delete s[e]),Object.keys(s).length==0&&X.delete(t),!0):!1}function Cc(){for(let[t,e]of X.entries())for(let r in e)for(let n of os)for(let s of e[r]?.[n].keys()??[])is(t,r,s,n)}var Et=t=>(e,r,n,s=!1)=>{if(typeof r[e]!="function")throw new Error(`${e} is not a function in ${r.constructor.name}`);X.has(r)||X.set(r,{});let o=X.get(r);if(!o[e]){let i=r[e];o[e]={o:i,b:new Map,i:new Map,a:new Map};let l=(d,f,w)=>{let b=jc(e,r,f,d,w);return s&&c(),b},h=new Proxy(i,{apply:(d,f,w)=>l(f,w,!1),construct:(d,f)=>l(i,f,!0),get:(d,f,w)=>f=="toString"?i.toString.bind(i):Reflect.get(d,f,w)});Reflect.defineProperty(r,e,{value:h,configurable:!0,writable:!0})||(r[e]=h),r[e].__original__=o[e].o}let a=Symbol(),c=()=>is(r,e,a,t);return o[e][t].set(a,n),c},Mc=Et("b"),kc=Et("i"),Bc=Et("a")});var Me=p((Af,ls)=>{var Uc=A(),Gc=cs();ls.exports=Uc(()=>({...Gc,injectCSS(t){let e=document.createElement("style");return e.className="acord--injected-css",e.textContent=t,document.head.appendChild(e),()=>{e?.remove()}},unPatchAllCSS(){document.querySelectorAll(".acord--injected-css").forEach(t=>{t.remove()})}}))});var fs=p((Of,us)=>{var Fc=A(),Xc=Ce(),Vc=W()(),yt="https://raw.githubusercontent.com/AcordPlugin/i18n/main",mt={cache:"no-store"};us.exports=Fc(t=>{let e=Xc(t),r=[],n={};async function s(){try{r=await(await fetch(`${yt}/locales.json`,mt)).json()}catch{}try{n.default=await(await fetch(`${yt}/default.json`,mt)).json()}catch{}}async function o(){let i=e.common.i18n._requestedLocale;if(!(n[i]||!r.includes(i)))try{n[i]=await(await fetch(`${yt}/${i}.json`,mt)).json()}catch{}}let a=new Proxy({},{get(i,l){o();let h=e.common.i18n._requestedLocale;return n[h]?.[l]||n.default?.[l]||e.common.i18n.Messages[l]||l}});function c(i,...l){return Vc.format(a[i],...l)}return{init:s,format:c,messages:a,get locale(){return e.common.i18n._requestedLocale}}})});var vt=p(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var ds=p(ve=>{"use strict";var Hc=ve&&ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ve,"__esModule",{value:!0});var hs=Hc(vt()),At=class{constructor(){this.listeners=Object.values(hs.default).reduce((e,r)=>(e[r]=new Set,e),{}),this.on=function(e,r){if(this.listeners[e].has(r))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(r)},this.once=function(e,r){let n=(s,o)=>{this.off(s,n),r(s,o)};this.on(e,n)},this.off=function(e,r){this.listeners[e].delete(r)},this.emit=function(e,r){for(let n of this.listeners[e])n(e,r)};for(let e of Object.values(hs.default))this[e.toLowerCase()]=r=>{this.emit(e,r)}}};ve.default=At});var ps=p(Ae=>{"use strict";var Wc=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ae,"__esModule",{value:!0});var Kc=Wc(ds());function Yc(t={},{nestArrays:e=!0}={}){let r=new Kc.default;function n(s,o,a){return new Proxy(s,{get(c,i){let l=[...a,i],h=c[i];return h!=null?(r.get({path:l,value:h}),!e&&Array.isArray(h)?h:typeof h=="object"?n(h,o,l):h):n(c[i]={},o,l)},set(c,i,l){return c[i]=l,r.set({path:[...a,i],value:l}),!0},deleteProperty(c,i){return delete c[i]?(r.delete({path:[...a,i]}),!0):!1},has(c,i){return typeof c[i]=="object"&&Object.keys(c[i]).length===0?!1:i in c}})}return Object.assign({store:n(t,t,[]),ghost:t},r)}Ae.default=Yc});var Oe=p(V=>{"use strict";var gs=V&&V.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V,"__esModule",{value:!0});V.make=V.Events=void 0;var zc=vt();Object.defineProperty(V,"Events",{enumerable:!0,get:function(){return gs(zc).default}});var Jc=ps();Object.defineProperty(V,"make",{enumerable:!0,get:function(){return gs(Jc).default}})});var St=p(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});function I(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function Es(t,e){let r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);let n=I(r);return(s,o)=>n.then(a=>o(a.transaction(e,s).objectStore(e)))}var Ot;function M(){return Ot||(Ot=Es("keyval-store","keyval")),Ot}function Zc(t,e=M()){return e("readonly",r=>I(r.get(t)))}function Qc(t,e,r=M()){return r("readwrite",n=>(n.put(e,t),I(n.transaction)))}function el(t,e=M()){return e("readwrite",r=>(t.forEach(n=>r.put(n[1],n[0])),I(r.transaction)))}function tl(t,e=M()){return e("readonly",r=>Promise.all(t.map(n=>I(r.get(n)))))}function rl(t,e,r=M()){return r("readwrite",n=>new Promise((s,o)=>{n.get(t).onsuccess=function(){try{n.put(e(this.result),t),s(I(n.transaction))}catch(a){o(a)}}}))}function nl(t,e=M()){return e("readwrite",r=>(r.delete(t),I(r.transaction)))}function sl(t,e=M()){return e("readwrite",r=>(t.forEach(n=>r.delete(n)),I(r.transaction)))}function ol(t=M()){return t("readwrite",e=>(e.clear(),I(e.transaction)))}function bt(t,e){return t.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},I(t.transaction)}function il(t=M()){return t("readonly",e=>{if(e.getAllKeys)return I(e.getAllKeys());let r=[];return bt(e,n=>r.push(n.key)).then(()=>r)})}function al(t=M()){return t("readonly",e=>{if(e.getAll)return I(e.getAll());let r=[];return bt(e,n=>r.push(n.value)).then(()=>r)})}function cl(t=M()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([I(e.getAllKeys()),I(e.getAll())]).then(([n,s])=>n.map((o,a)=>[o,s[a]]));let r=[];return t("readonly",n=>bt(n,s=>r.push([s.key,s.value])).then(()=>r))})}R.clear=ol;R.createStore=Es;R.del=nl;R.delMany=sl;R.entries=cl;R.get=Zc;R.getMany=tl;R.keys=il;R.promisifyRequest=I;R.set=Qc;R.setMany=el;R.update=rl;R.values=al});var vs=p(k=>{k.Map=Map;k.WeakMap=WeakMap;k.WeakSet=WeakSet;k.Set=Set;var ys=t=>typeof t=="object"&&t!=null&&!(t instanceof Boolean)&&!(t instanceof Date)&&!(t instanceof Number)&&!(t instanceof RegExp)&&!(t instanceof String),ll=t=>"#"+t.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),ms=()=>{let t=new k.WeakMap;return function(r,n){if(r!=="$ref"&&ys(n)){if(t.has(n))return{$ref:ll(t.get(n))};t.set(n,[...t.get(this)??[],r])}return n}};function ws(){let t=new k.WeakMap,e=new k.WeakMap,r=new k.Set;function n(s){let o=s.$ref.slice(1).split("/"),a,c,i=this;for(var l=0;l<o.length;l++)a=o[l].replace(/~1/g,"/").replace(/~0/g,"~"),i=i[a];c=t.get(s),c[e.get(s)]=i}return function(o,a){if(o==="$ref")r.add(this);else if(ys(a)){var c=o===""&&Object.keys(this).length===1;c?r.forEach(n,this):(t.set(a,this),e.set(a,o))}return a}}var ul=t=>Object.defineProperties(t,{decycle:{value:(e,r)=>t.stringify(e,ms(),r)},retrocycle:{value:e=>t.parse(e,ws())}});Object.assign(k,{decycle:ms,retrocycle:ws,extend:ul})});var Tt=p((If,As)=>{var ke=Oe(),xt=St(),{decycle:fl,retrocycle:hl}=vs();async function dl(t){let e=await xt.get(`AcordStore;${t}`);typeof e=="string"&&(e=JSON.parse(e,hl()));let r=ke.make(e??{}),n=()=>{try{xt.set(`AcordStore;${t}`,JSON.stringify({...r.ghost},fl()))}catch{xt.set(`AcordStore;${t}`,JSON.stringify({}))}};return r.on(ke.Events.SET,n),r.on(ke.Events.UPDATE,n),r.on(ke.Events.DELETE,n),r}As.exports=dl});var bs=p((Rf,Os)=>{var pl=W()();Os.exports=async t=>{let e={},r=[],n=null;if(typeof t=="string"){n=t,n.endsWith("/")&&(n=n.slice(0,-1));try{r=await(await fetch(`${n}/locales.json`,noStore)).json(),e.default=await(await fetch(`${n}/default.json`,noStore)).json()}catch(c){console.error(c)}for(let c=0;c<r.length;c++){let i=r[c];try{e[i]=await(await fetch(`${n}/${i}.json`,noStore)).json()}catch(l){console.error(l)}}}else e=t,r=Object.keys(t),r.includes("default")&&r.splice(r.indexOf("default"),1);async function s(){if(!n)return;let c=acord.i18n.locale;if(!(e[c]||!r.includes(c)))try{e[c]=await(await fetch(`${n}/${c}.json`,noStore)).json()}catch(i){console.error(i)}}let o=new Proxy({},{get(c,i){return window.acord?(s(),e[acord.i18n.locale]?.[i]||e.default?.[i]||acord.i18n.messages[i]||i):i}});function a(c,...i){return pl.format(o[c],...i)}return{messages:o,format:a}}});var $t=p((_f,Ss)=>{Ss.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,r){return this._prepareListenersMap(e),this.listeners.get(e).set(r,{once:!1}),()=>{this.listeners.get(e).delete(r)}}once(e,r){return this._prepareListenersMap(e),this.listeners.get(e)?.set(r,{once:!0}),()=>{this.listeners.get(e).delete(r)}}off(e,r){if(!e)return this.listeners=new Map;if(!r)return this.listeners?.delete(e);this.listeners.get(e)?.delete(r)}emit(e,...r){if(!this.listeners.has(e))return;let n=this.listeners.get(e);n.forEach(({once:s},o)=>{s&&n?.delete(o),o(...r)})}}});var Xe=p((Pf,Rs)=>{var xs=Tt(),gl=Oe(),Be=Ye()(),El=bs(),yl=$t(),ml=A(),Nt={cache:"no-store"},ae=gl.make({}),O=null,wl=window.eval;async function Ts(t){return Object.assign({extension:Object.assign(t,{i18n:await El(t.manifest.i18n||{}),events:new yl,subscriptions:[]})},window.acord)}async function $s(t,e){let r=await Ts(e),n=`(acord)=>{ try { return ${t} } catch (err) { throw err; } }
//#sourceURL=${e.url}`,s=wl(n)(r),o=typeof s=="function"?s(e):s;return o.api=r,o}async function vl(){O=await xs("LoadedExtensionsStore")}async function Ue(t){let e=O.ghost[t];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${t}`);if(ae.ghost[t])throw new Error(`EXTENSION_ALREADY_ENABLED ${t}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;O.store[t].eulaAccepted=!0}let r,n=!1,s=await xs(t);try{r=await $s(e.source,{persist:s,url:t,manifest:e.manifest}),Array.isArray(r?.settings?.data)&&r.settings.data.forEach(o=>{o.property&&typeof s.ghost.settings?.[o.property]>"u"&&(s.store.settings[o.property]=o.value)})}catch(o){Be.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${o} ${o?.stack?.join?.(`
`)}`),n=!0}try{r.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(o){Be.error("EXTENSION_LOAD_ERR",e.manifest.about.name,o),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}ae.store[t]=r,n&&setTimeout(()=>{try{e.unload()}catch(o){Be.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,o),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function Fe(t){let e=ae.ghost[t],r=O.ghost[t];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${t}`);if(!ae.ghost[t])throw new Error(`EXTENSION_NOT_LOADED ${t}`);try{e.api.extension.subscriptions.forEach(n=>{typeof n=="function"&&n()}),e.api.extension.subscriptions.length=0,e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${r.manifest.type.toUpperCase()}`,r.manifest.about.name))}catch(n){Be.error("EXTENSION_UNLOAD_ERR",r.manifest.about.name,n),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",r.manifest.about.name))}delete ae.store[t]}async function Al(t){let e=O.store[t];if(!O.ghost?.[t])throw new Error(`EXTENSION_NOT_FOUND ${t}`);e.enabled?(await Fe(t),e.enabled=!1):(await Ue(t),e.enabled=!0)}async function Ge(t,e=!0){let r=t.replace(/\/?$/,"/"),n=new URL("extension.json",r).href,s=new URL("extension.js",r).href,o=O.ghost?.[r],a=o?O.store[r]:void 0,c=o?.enabled??e,i=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(r),l;try{let d=await fetch(n,Nt);if(l=await d.json(),d.status!==200&&!o)throw o&&delete O.store[r],"NO_MAN_200"}catch(d){throw new Error(`NO_PARSE ${d}`)}if(l.locked&&!i)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(l?.type))throw new Error("INVALID_TYPE");if(o){if(l){if(a.manifest.hash!==l.hash){let d=await fetch(s,Nt);if(d.status!==200)throw delete O.store[r],new Error("NO_200");a.source=await d.text()}_.isEqual(a.manifest,l)||(a.manifest=l)}c&&await Ue(r);return}let h=await fetch(s,Nt);if(h.status!==200)throw new Error("NO_200");let u=await h.text();O.store[r]={manifest:l,verified:i,source:u,enabled:c,url:r},c&&await Ue(r)}function Ns(t){let e=O.ghost?.[t];if(!!e){try{Fe(t)}catch{}e.manifest.locked||delete O.store[t]}}var Ol=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function bl(){await Promise.allSettled(Object.keys(O.ghost).map(Ge)),Ol.forEach(t=>{O.ghost?.[t]||Ge(t)})}function Sl(){Object.keys(O.ghost).forEach(t=>{try{Fe(t)}catch{}})}async function Is(t){let e=!!O.ghost[t]?.enabled;try{Ns(t)}catch{}try{await Ge(t,e)}catch{}}async function xl(){let t=Object.entries(O.store);for(let e=0;e<t.length;e++)await Is(t[e][0],t[e][1].enabled)}Rs.exports=ml(()=>({evaluate:$s,load:Ge,init:vl,startAll:bl,reloadAll:xl,reload:Is,buildAPI:Ts,nests:{get enabled(){return ae},get loaded(){return O}},remove:Ns,start:Ue,stop:Fe,toggle:Al,stopAll:Sl}))});var Ve=p((Df,qs)=>{var Tl=A(),$l=Me(),Nl=Xe();qs.exports=Tl(t=>{let e=$l(t),r=Nl(t),n=t.WebpackModules.find(u=>u?.__proto__?.handleConnection),s=new Set,o=new Map;async function a(u,d){let f;try{if(f=JSON.parse(d),!Array.isArray(f)||f.length<1||f.length>3)throw"Array expected as message.";if(typeof f[0]!="string")throw"Array[0] needs to be string.";if(typeof f[1]!="string")throw"Array[1] needs to be string."}catch(D){u.send(JSON.stringify([null,{ok:!1,error:`${D}`}]))}let[w,b,x]=f,B=o.get(b);if(!B)return u.send(JSON.stringify([w,{ok:!1,error:"Unable to find handler."}]));try{let D=await B(x);u.send(JSON.stringify([w,{ok:!0,data:D}]))}catch(D){u.send(JSON.stringify([w,{ok:!1,error:`${D}`}]))}}function c(u,d){if(typeof u!="string")throw new Error("EventName needs to be a string.");if(typeof d!="function")throw new Error("Callback needs to be a function.");if(o.has(u))throw new Error("EventName already in use.");return o.set(u,d),()=>{o.delete(u)}}let i=e.instead("handleConnection",n,(u,d)=>{let f=u[0];if(f.upgradeReq().url!=="/acord")return d(...u);s.add(f),f.on("message",w=>{a(f,w)}),f.on("close",()=>s.delete(f))});function l(){i(),o.clear(),s.forEach(u=>u.close())}function h(u,...d){if(!o.has(u))throw new Error("Unable to find handler!");return o.get(u)(...d)}return c("InstallExtension",async({url:u}={})=>{if(!(!u||(await DiscordNative.window.setAlwaysOnTop(0,!0),await new Promise(f=>setTimeout(f,100)),await DiscordNative.window.setAlwaysOnTop(0,!1),!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",u)))))try{await r.load(u)}catch(f){acord.ui.toasts.show.error(`${f}`)}}),{unpatch:l,set:c,trigger:h}})});var Ps=p((Lf,_s)=>{var Il=A(),Rl=pt();_s.exports=Il(t=>{let e=Rl(t);return{show:Object.assign((...r)=>t.Modals.showModal(...r),{confirmation:(r,n,s={})=>new Promise(o=>{t.Modals.showConfirmationModal(r,n,{onConfirm:()=>o(!0),onCancel:()=>o(!1),confirmText:s?.confirm,cancelText:s?.cancel,danger:s?.danger})}),alert:(r,n)=>t.Modals.showAlertModal(r,n),user:r=>e.FluxDispatcher.dispatch({type:"USER_PROFILE_MODAL_OPEN",userId:r})})}})});var It=p((jf,Ds)=>{var ql=A(),_l=$t(),Pl=new _l;Ds.exports=ql(()=>Pl)});var Rt=p((Cf,Ls)=>{var Dl=A(),Ll=It()(),jl={bold:/\*\*([^*]+)\*\*/g,italic:/\*([^*]+)\*/g,underline:/\_([^*]+)\_/g,strike:/\~\~([^*]+)\~\~/g,url:/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,inline:/\`([^*]+)\`/g,codeblockSingle:/\`\`\`([^*]+)\`\`\`/g,codeblockMulti:/\`\`\`(\w+)\n((?:(?!\`\`\`)[\s\S])*)\`\`\`/g},Cl=Ce();Ls.exports=Dl(t=>{let e=Cl(t),r=e.webpack.findByProps("scrollbarGhostHairline","spinner");function n(s){if(!s)return"";let{bold:o,italic:a,underline:c,strike:i,codeblockMulti:l,codeblockSingle:h,inline:u,url:d}=jl,f=Object.fromEntries([...s.matchAll(l)||[],...s.matchAll(h)||[]].map(([b,x,B],D)=>(s=s.replace(b,`{{CODEBLOCK_${D}}}`),[`{{CODEBLOCK_${D}}}`,B?`<pre><code class="${r.scrollbarGhostHairline} hljs ${x}" style="position: relative;">${e.common.hljs.highlight(x,B).value}</code></pre>`:`<pre><code class="${r.scrollbarGhostHairline} hljs" style="position: relative;">${x}</code></pre>`]))),w=Object.fromEntries([...s.matchAll(u)||[]].map(([b,x],B)=>(s=s.replace(b,`{{INLINE_${B}}}`),[`{{INLINE_${B}}}`,`<code class="inline">${x}</code>`])));s=s.replace(o,"<b>$1</b>").replace(a,"<i>$1</i>").replace(c,"<U>$1</U>").replace(i,"<s>$1</s>").replace(d,'<a href="$1">$1</a>');for(let[b,x]of Object.entries(f))s=s.replace(b,x);for(let[b,x]of Object.entries(w))s=s.replace(b,x);return s}return{formatContent:n,createElement:(s,o,...a)=>{if(typeof s=="function")return s({...o,children:[].concat(...a)});let c=document.createElement(s);for(let i of Object.keys(o))i.indexOf("on")===0?c.addEventListener(i.slice(2).toLowerCase(),o[i]):i==="children"?c.append(...Array.isArray(o[i])?o[i]:[].concat(o[i])):c.setAttribute(i==="className"?"class":i,o[i]);return a.length&&c.append(...a),c},parseHTML:s=>t.DOMTools.parseHTML(s,!0).firstElementChild,parents:t.DOMTools.parents,escapeHTML:t.DOMTools.escapeHTML,toCSSProp(s){let o=document.createElement("div");return Object.entries(s).forEach(a=>{o.style.hasOwnProperty(a[0])?o.style[a[0]]=a[1]:o.style.setProperty(a[0],a[1])}),o.getAttribute("style")},toHTMLProps(s){return Object.entries(s).map(o=>`${o[0].replace(/ +/,"-")}="${o[0]=="style"&&typeof o[1]!="string"?this.toCSSProp(o[1]):this.escapeHTML(o[1])}"`).join(" ")},patch:(s,o,a=!1)=>(()=>{function c(i){i.nodeType!==Node.TEXT_NODE&&i.querySelectorAll(s).forEach(async l=>{if(l.acord||(l.acord={unmount:[],patched:new Set},l.classList.add("acord--patched")),l.acord.patched.has(o))return;l.acord.patched.add(o);let h=await o(l);typeof h=="function"&&l.acord.unmount.push(h)})}return a&&document.querySelectorAll(s).forEach(c),Ll.on("domMutation",i=>{i.addedNodes.forEach(c),i.removedNodes.forEach(l=>{l.nodeType!==Node.TEXT_NODE&&l.querySelectorAll(s).forEach(async h=>{!h.acord||h.acord.unmount.forEach(u=>u())})})})})()}})});var Cs=p((Mf,js)=>{var Ml=A(),kl=Rt(),Bl=Me(),Ul=W()();js.exports=Ml(t=>{let e=kl(t);Bl(t).injectCSS(`
      .acord--notif-container {
          width: 100vw;
          height: 100vh;
          z-index: 9999999;
          pointer-events: none;
          display: flex;
          align-items: flex-end;
          justify-content: flex-start;
          flex-direction: column;
          position: absolute;
          top: 0px;
          left: 0px;
      }
      .acord--notif { 
          display: flex; 
          flex-direction: column;
          pointer-events: all;
          transition: transform 250ms ease-in-out, opacity 250ms ease-in-out;
          margin-top: 8px;
          margin-right: 8px;
          backdrop-filter: blur(16px) brightness(0.75);
          z-index: 99999999;
      }
      .acord--notif.clickable { 
          cursor: pointer;
      }
      .acord--notif.style-info { --bar-color: #4a8fe1; }
      .acord--notif.style-warning { --bar-color: #faa81a; }
      .acord--notif.style-error { --bar-color: #ed4245; }
      .acord--notif.style-success { --bar-color: #3ba55d; }
      .acord--notif.style-default { --bar-color: whitesmoke; }
  
      .acord--notif .container {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 8px;
          color: white;
          min-width: 250px;
      }
  
      .acord--notif .container .close {
          width: 24px;
          height: 24px;
          color: white;
          opacity: 0.5;
          cursor: pointer;
          margin-left: 8px;
          z-index: 999999999;
      }
  
      .acord--notif .container .close.hidden {
          display: none;
      }
  
      .acord--notif .progress-container {
          width: 100%;
          height: 5px;
      }
  
      .acord--notif .progress-container .progress {
          width: 0%;
          height: 5px;
          transition: width var(--duration, 5000ms) linear;
          background-color: var(--bar-color);
      }
  
      .acord--notif .progress-container .progress.progressing {
          width: 100%;
      }
  
      .acord--notif.hidden {
          transform: translate(0, -50px);
          opacity: 0;
      }
  
      .acord--notif.closing {
          transform: translate(0, 50px);
          opacity: 0;
      }
    `);function n(s,{style:o="default",timeout:a=5e3,onClose:c=()=>null,closable:i=!0,onClick:l=null}={}){let h=document.querySelector('[class*="notDevTools-"]'),u=h.querySelector(".acord--notif-container");u||(u=e.parseHTML('<div class="acord--notif-container"></div>'),h.appendChild(u));let d=e.parseHTML(`
          <div class="acord--notif style-${o} hidden">
              <div class="container">
                  <div class="content">
                      ${s}
                  </div>
                  <svg class="close ${i?"":"hidden"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                      <path fill="currentColor" d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/>
                  </svg>
              </div>
              <div class="progress-container" style="--duration: ${a}ms;">
                  <div class="progress"></div>
              </div>
          </div>
      `),f=!1;function w(b){f||(f=!0,d.classList.add("closing"),setTimeout(()=>{d.remove()},275),c(b))}return typeof l=="function"&&(d.classList.add("clickable"),d.onclick=()=>{l(w)}),Ul.ifExists(d.querySelector(".close"),b=>{b.onclick=()=>{w("user")}}),u.prepend(d),requestAnimationFrame(()=>{d.classList.remove("hidden"),d.querySelector(".progress").classList.add("progressing")}),setTimeout(()=>{w("timeout")},a),()=>{w("force")}}return{show:Object.assign(n,{info:(s,o={})=>n(s,{...o,style:"info"}),error:(s,o={})=>n(s,{...o,style:"error"}),warning:(s,o={})=>n(s,{...o,style:"warning"}),success:(s,o={})=>n(s,{...o,style:"success"})})}})});var ks=p((kf,Ms)=>{var Gl=A();Ms.exports=Gl(t=>({modals:Ps()(t),notifications:Cs()(t),toasts:{show:Object.assign((...e)=>BdApi.UI.showToast(...e),{success:e=>BdApi.UI.showToast(e,{type:"success"}),error:e=>BdApi.UI.showToast(e,{type:"error"}),info:e=>BdApi.UI.showToast(e,{type:"info"}),warning:e=>BdApi.UI.showToast(e,{type:"warning"})})},notices:{show:Object.assign((...e)=>BdApi.UI.showNotice(...e),{success:(e,r={})=>BdApi.UI.showNotice(e,{type:"success",...r}),error:(e,r={})=>BdApi.UI.showNotice(e,{type:"error",...r}),info:(e,r={})=>BdApi.UI.showNotice(e,{type:"info",...r}),warning:(e,r={})=>BdApi.UI.showNotice(e,{type:"warning",...r})})},tooltips:{create:Object.assign((e,r,n={})=>new t.Tooltip(e,r,{style:"primary",...n}),{success:(e,r,n={})=>new t.Tooltip(e,r,{style:"green",...n}),error:(e,r,n={})=>new t.Tooltip(e,r,{style:"red",...n}),warning:(e,r,n={})=>new t.Tooltip(e,r,{style:"yellow",...n})})},contextMenus:{patch:(e,r)=>BdApi.ContextMenu.patch(e,r),build:{item:e=>BdApi.ContextMenu.buildItem(e),menu:Object.assign(e=>BdApi.ContextMenu.buildMenu(e),{children:e=>BdApi.ContextMenu.buildMenuChildren(e)})},open:(e,r,n)=>BdApi.ContextMenu.open(e,r,n)}}))});var Us=p((Bf,Bs)=>{var Fl=Oe(),Xl=St(),Vl=Tt(),Hl=A(),Wl=ft(),Kl=ht(),{getCommonData:Yl}=ie();Bs.exports=Hl(()=>({nests:Fl,idbKeyval:Xl,createPersistentNest:Vl,semver:Wl,checkForUpdates:()=>Kl(window.acord),get commonData(){return Yl()}}))});var Fs=p((Uf,Gs)=>{var zl=A(),{logger:H}=W()(),Jl=Oe(),Zl=Xe()(),Ql=Ve();Gs.exports=zl(t=>{let e=Ql(t),r=null,n=null,s=null,o=Jl.make({}),a=!1,c=!1;e.set("UpdateDevelopmentExtension",async({source:l,manifest:h})=>{if(!(!c||a)){if(a=!0,r){H.log(`Unloading development extension.. (${h.about.name})`);try{r?.unload?.(),r?.api&&(r.api.extension.subscriptions.forEach(u=>{typeof u=="function"&&u()}),r.api.extension.subscriptions.length=0),r=null,n=null,s=null,H.log(`Development extension unloaded! (${h.about.name})`)}catch(u){H.error(`Unable to unload development extension! (${h.about.name})`,u)}}await new Promise(u=>setTimeout(u,1));try{r=await Zl.evaluate(l,{persist:o,id:"https://FakeExtensionId",manifest:h}),Array.isArray(r?.settings?.data)&&r.settings.data.forEach(u=>{u.property&&typeof o.ghost.settings?.[u.property]>"u"&&(o.store.settings[u.property]=u.value)}),n=l,s=h,r?.load?.(),H.log(`Development extension is loaded! (${h.about.name})`)}catch(u){H.error(`Failed to load development extension! (${h.about.name})`,u)}finally{}a=!1}});function i(){if(r){H.log("Unloading development extension..");try{r?.unload?.(),r?.api&&(r.api.extension.subscriptions.forEach(l=>{typeof l=="function"&&l()}),r.api.extension.subscriptions.length=0),r=null,n=null,s=null,H.log("Development extension unloaded!")}catch(l){H.error("Unable to unload development extension!",l)}return!0}return!1}return{get extension(){return{loaded:n?{source:n,manifest:s}:null,enabled:r}},get enabled(){return c},set enabled(l){c=!!l},unload:i}})});var Vs=p((Gf,Xs)=>{var eu=A();Xs.exports=eu(t=>({modules:Ce()(t),patcher:Me()(t),i18n:fs()(t),utils:W()(t),webpack:Ve()(t),ui:ks()(t),internal:Us()(t),events:It()(t),extensions:Xe()(t),dev:Fs()(t),websocket:Ve()(t),dom:Rt()(t),other:{}}))});var tu=qt(),ru=kt(),nu=A(),Hs=Ut(),Ws=ht(),{delCommonData:su,fetchCommonData:ou}=ie(),Ks=te(),iu=(t,e)=>class extends t{async onStart(){if(window.acord)return;await ou();let r=Vs()(e);await r.i18n.init(),!await Ws(r)&&(r.patcher.injectCSS('[class*="acord--"] * {box-sizing: border-box;}'),r=Object.assign(r,{unload(){r.patcher.unPatchAll(),r.patcher.unPatchAllCSS(),r.extensions.stopAll(),r.websocket.unpatch(),r.dev.unload(),Ks.removeAll(),nu.clear(),su()}}),!await Hs(r,!1)&&(Ks.add(r.utils.interval(async()=>{await Hs(r,!0)||await Ws(r)},1e3*60*60)),globalThis.acord=r,window.acord=r,ru(e),r.utils.logger.log(r.i18n.messages.ACORD_LOADED),r.ui.notifications.show.success(r.i18n.messages.ACORD_LOADED),await r.extensions.init(),await r.extensions.startAll()))}observer(r){globalThis.acord&&acord.events.emit("domMutation",r)}onStop(){acord.ui.notifications.show.success(acord.i18n.messages.ACORD_UNLOADED),acord.utils.logger.log(acord.i18n.messages.ACORD_UNLOADED);try{acord.events.emit("unload"),acord.unload()}catch{}delete window.acord,delete globalThis.acord}};if(global.ZLibrary){let t=global.ZLibrary.buildPlugin(tu);module.exports=iu(...t),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let t=!1;setTimeout(async()=>{let e=require("request"),{shell:r}=require("electron"),n=require("fs"),s=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(o,a,c)=>{if(o)return r.openExternal("https://betterdiscord.app/Download?id=9");a.statusCode===302?e.get(a.headers.location,async(i,l,h)=>{if(i)return r.openExternal("https://betterdiscord.app/Download?id=9");n.writeFile(s.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),h,()=>{})}):n.writeFile(s.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),c,()=>{})}),(async()=>{for(;!(global.ZLibrary||t);)await new Promise(o=>setTimeout(o,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(r){}async start(){}stop(){t=!0}}}
