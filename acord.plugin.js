/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.537
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://acord.app/
 */
var h=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var N=h((Lo,le)=>{le.exports=o=>{let e=i=>typeof i=="object"||typeof i=="function";function t(i){return l=>i.every(s=>Object.keys(l).some(c=>c.toLowerCase().includes(s.toLowerCase())))}function r(i){return l=>e(l)&&Object.values(l).some(s=>e(s)&&i.some(c=>s?.[c]!==void 0))}function a(i){return l=>l.prototype&&i.every(s=>l.prototype[s]!==void 0)}function n(i){return l=>i.every(s=>l?.toString?.()?.includes?.(s))}return{findByProps:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByProperties:(...i)=>o.WebpackModules.findByUniqueProperties(i,!0),findByPropsAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByPropertiesAll:(...i)=>o.WebpackModules.findByUniqueProperties(i,!1),findByKeywordAll:(...i)=>o.WebpackModules.findAll(t(i)),findByKeyword:(...i)=>o.WebpackModules.findAll(t(i))[0],findByNestedProps:(...i)=>o.WebpackModules.findAll(r(i))[0],findByNestedPropsAll:(...i)=>o.WebpackModules.findAll(r(i)),findByPrototypes:(...i)=>o.WebpackModules.findAll(a(i))[0],findByPrototypesAll:(...i)=>o.WebpackModules.findAll(a(i)),findByStrings:(...i)=>o.WebpackModules.findAll(n(i))[0],findByStringsAll:(...i)=>o.WebpackModules.findAll(n(i)),findAll:(i,l=!1)=>o.WebpackModules.findAll(i,{searchExports:l}),find:(i,l=!1)=>o.WebpackModules.find(i,{searchExports:l}),findByStringValues:(...i)=>o.WebpackModules.find(l=>(va=Object.values(l),i.every(s=>va.some(c=>typeof c=="string"&&c.includes(s)))),{searchExports:!1})}}});var F=h((Wo,de)=>{var pt=N();de.exports=o=>{let e=pt(o);return{webpack:e,require:window.require,common:{constants:{Permissions:o.DiscordModules.DiscordPermissions},i18n:e.findByProps("_requestedLocale","getDefaultLocale"),uuid:e.findByProps("v1","v4"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")},ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),Button:o.DiscordModules.ButtonData,ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),Rest:e.findByProps("get","post","getAPIBaseURL"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),GuildMemberStore:e.findByProps("getMembers","getMember"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),MessageStore:e.findByProps("getMessages","getMessage"),NoteStore:e.findByProps("getNote","getName"),PermissionStore:e.findByProps("getChannelPermissions"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,RelationshipStore:e.findByProps("getRelationships","getFriendIDs"),Router:o.DiscordModules.NavigationUtils,SelectedChannelStore:e.findByProps("getVoiceChannelId","getChannelId"),SelectedGuildStore:e.findByProps("getLastSelectedGuildId","getGuildId"),SimpleMarkdown:o.DiscordModules.SimpleMarkdown,UserStore:e.findByProps("getUser","getCurrentUser"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),TypingStore:e.findByProps("isTyping","getTypingUsers"),MediaEngineStore:e.findByProperties("getAecDump","getOutputVolume"),SoundpackStore:e.findByProps("getSoundpack"),QueryActions:e.findByProps("queryEmojiResults","queryFriends"),MessageActions:e.findByProps("receiveMessage","sendMessage"),PremiumActions:e.findByProps("isPremium","canUseEmojisEverywhere"),SpotifyStore:e.findByProps("getActiveSocketAndDevice","getTrack"),GuildMemberCountStore:e.findByProps("getMemberCount","getMemberCounts"),VoiceActions:e.findByProps("selectVoiceChannel","disconnect"),TypingActions:e.findByProps("startTyping","stopTyping"),GuildActions:e.findByProps("setChannel","setServerMute"),MediaEngineActions:e.findByProps("toggleSelfDeaf","toggleSelfMute"),GameConsoleStore:e.findByProps("getRemoteSessionId","getDevice"),GatewayConnectionStore:e.findByProps("getSocket","isConnected")}}}});var G=h((Fo,ue)=>{ue.exports=o=>({createElement:(e,t,...r)=>{if(typeof e=="function")return e({...t,children:[].concat(...r)});let a=document.createElement(e);for(let n of Object.keys(t))n.indexOf("on")===0?a.addEventListener(n.slice(2).toLowerCase(),t[n]):n==="children"?a.append(...Array.isArray(t[n])?t[n]:[].concat(t[n])):a.setAttribute(n==="className"?"class":n,t[n]);return r.length&&a.append(...r),a},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(r=>{t.style.hasOwnProperty(r[0])?t.style[r[0]]=r[1]:t.style.setProperty(r[0],r[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var K=h(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var pe=h(x=>{"use strict";var ht=x&&x.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(x,"__esModule",{value:!0});var fe=ht(K()),H=class{constructor(){this.listeners=Object.values(fe.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let r=(a,n)=>{this.off(a,r),t(a,n)};this.on(e,r)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let r of this.listeners[e])r(e,t)};for(let e of Object.values(fe.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};x.default=H});var he=h(B=>{"use strict";var gt=B&&B.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(B,"__esModule",{value:!0});var yt=gt(pe());function wt(o={},{nestArrays:e=!0}={}){let t=new yt.default;function r(a,n,i){return new Proxy(a,{get(l,s){let c=[...i,s],f=l[s];return f!=null?(t.get({path:c,value:f}),!e&&Array.isArray(f)?f:typeof f=="object"?r(f,n,c):f):r(l[s]={},n,c)},set(l,s,c){return l[s]=c,t.set({path:[...i,s],value:c}),!0},deleteProperty(l,s){return delete l[s]?(t.delete({path:[...i,s]}),!0):!1},has(l,s){return typeof l[s]=="object"&&Object.keys(l[s]).length===0?!1:s in l}})}return Object.assign({store:r(o,o,[]),ghost:o},t)}B.default=wt});var j=h(v=>{"use strict";var ge=v&&v.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(v,"__esModule",{value:!0});v.make=v.Events=void 0;var mt=K();Object.defineProperty(v,"Events",{enumerable:!0,get:function(){return ge(mt).default}});var bt=he();Object.defineProperty(v,"make",{enumerable:!0,get:function(){return ge(bt).default}})});var J=h(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});function m(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function ye(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let r=m(t);return(a,n)=>r.then(i=>n(i.transaction(e,a).objectStore(e)))}var V;function E(){return V||(V=ye("keyval-store","keyval")),V}function At(o,e=E()){return e("readonly",t=>m(t.get(o)))}function Et(o,e,t=E()){return t("readwrite",r=>(r.put(e,o),m(r.transaction)))}function St(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.put(r[1],r[0])),m(t.transaction)))}function vt(o,e=E()){return e("readonly",t=>Promise.all(o.map(r=>m(t.get(r)))))}function _t(o,e,t=E()){return t("readwrite",r=>new Promise((a,n)=>{r.get(o).onsuccess=function(){try{r.put(e(this.result),o),a(m(r.transaction))}catch(i){n(i)}}}))}function Tt(o,e=E()){return e("readwrite",t=>(t.delete(o),m(t.transaction)))}function Pt(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.delete(r)),m(t.transaction)))}function Ot(o=E()){return o("readwrite",e=>(e.clear(),m(e.transaction)))}function z(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},m(o.transaction)}function Mt(o=E()){return o("readonly",e=>{if(e.getAllKeys)return m(e.getAllKeys());let t=[];return z(e,r=>t.push(r.key)).then(()=>t)})}function kt(o=E()){return o("readonly",e=>{if(e.getAll)return m(e.getAll());let t=[];return z(e,r=>t.push(r.value)).then(()=>t)})}function xt(o=E()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([m(e.getAllKeys()),m(e.getAll())]).then(([r,a])=>r.map((n,i)=>[n,a[i]]));let t=[];return o("readonly",r=>z(r,a=>t.push([a.key,a.value])).then(()=>t))})}b.clear=Ot;b.createStore=ye;b.del=Tt;b.delMany=Pt;b.entries=xt;b.get=At;b.getMany=vt;b.keys=Mt;b.promisifyRequest=m;b.set=Et;b.setMany=St;b.update=_t;b.values=kt});var Ae=h(S=>{S.Map=Map;S.WeakMap=WeakMap;S.WeakSet=WeakSet;S.Set=Set;var we=o=>typeof o=="object"&&o!=null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String),Bt=o=>"#"+o.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),me=()=>{let o=new S.WeakMap;return function(t,r){if(t!=="$ref"&&we(r)){if(o.has(r))return{$ref:Bt(o.get(r))};o.set(r,[...o.get(this)??[],t])}return r}};function be(){let o=new S.WeakMap,e=new S.WeakMap,t=new S.Set;function r(a){let n=a.$ref.slice(1).split("/"),i,l,s=this;for(var c=0;c<n.length;c++)i=n[c].replace(/~1/g,"/").replace(/~0/g,"~"),s=s[i];l=o.get(a),l[e.get(a)]=s}return function(n,i){if(n==="$ref")t.add(this);else if(we(i)){var l=n===""&&Object.keys(this).length===1;l?t.forEach(r,this):(o.set(i,this),e.set(i,n))}return i}}var jt=o=>Object.defineProperties(o,{decycle:{value:(e,t)=>o.stringify(e,me(),t)},retrocycle:{value:e=>o.parse(e,be())}});Object.assign(S,{decycle:me,retrocycle:be,extend:jt})});var Z=h((Jo,Ee)=>{var q=j(),Y=J(),{decycle:Dt,retrocycle:Ct}=Ae();async function Nt(o){let e=await Y.get(`AcordStore;${o}`);typeof e=="string"&&(e=JSON.parse(e,Ct()));let t=q.make(e??{}),r=()=>{try{Y.set(`AcordStore;${o}`,JSON.stringify({...t.ghost},Dt()))}catch{Y.set(`AcordStore;${o}`,JSON.stringify({}))}};return t.on(q.Events.SET,r),t.on(q.Events.UPDATE,r),t.on(q.Events.DELETE,r),t}Ee.exports=Nt});var ve=h((Yo,Se)=>{Se.exports=function(e,t,{walkable:r=null,ignore:a=[],limit:n=100}={}){let i=0;function l(s,c,{walkable:f=null,ignore:d=[]}={}){if(i+=1,!(i>n)){if(typeof c=="string"){if(s.hasOwnProperty(c))return s[c]}else if(c(s))return s;if(!!s){if(Array.isArray(s))for(let u of s){let p=l(u,c,{walkable:f,ignore:d});if(p)return p}else if(typeof s=="object"){for(let u of Object.keys(s))if(!(f!=null&&!f.includes(u))&&!d.includes(u))try{let p=l(s[u],c,{walkable:f,ignore:d});if(p)return p}catch{}}}}}return l(e,t,{walkable:r,ignore:a})}});var Te=h((Zo,_e)=>{var qt=["Clickable","Tooltip"];_e.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:r=qt}={}){let a=s=>!s?.type?.displayName||r.includes(s?.type?.displayName),n=s=>typeof s?.type!="string"&&(t?!a(s):!0),i=s=>n(s)?s?.type:i(s.return),l=i(acord.utils.react.getInstance(o));return e?find(s=>s?.default===l):l}});var Oe=h((Qo,Pe)=>{Pe.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(t)})}});var T=h((er,ke)=>{var Me=ve(),It=Te(),Ut=Oe(),Q=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);ke.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:Q("log","#00fbb0"),warn:Q("warn","#debf18"),error:Q("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>Me(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:It,getComponents(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&typeof r.return.type!="string";)r.return.type&&t.push(r.return.type),r=r.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&!(r.return.stateNode instanceof HTMLElement);)r.return.stateNode&&t.push(r.return.stateNode),r=r.return;return t},getProps:(o,e=r=>r,t=1e4)=>{let r=o?.__reactFiber$;if(!r?.return)return null;for(let a=r?.return,n=0;n>t||a!==null;a=a?.return,n++)if(a?.pendingProps&&e(a.pendingProps))return a.pendingProps;return null}},findInTree:Me,copyText:Ut,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},timeout(o,e){let t=setTimeout(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},format(o,...e){return`${o}`.replaceAll(/{(\d+)}/g,(t,r)=>e[Number(r)])}}});var Be=h((tr,xe)=>{var $t=T();xe.exports=async o=>{let e={},t=[],r=null;if(typeof o=="string"){r=o,r.endsWith("/")&&(r=r.slice(0,-1));try{t=await(await fetch(`${r}/locales.json`,noStore)).json(),e.default=await(await fetch(`${r}/default.json`,noStore)).json()}catch(l){console.error(l)}for(let l=0;l<t.length;l++){let s=t[l];try{e[s]=await(await fetch(`${r}/${s}.json`,noStore)).json()}catch(c){console.error(c)}}}else e=o,t=Object.keys(o),t.includes("default")&&t.splice(t.indexOf("default"),1);async function a(){if(!r)return;let l=acord.i18n.locale;if(!(e[l]||!t.includes(l)))try{e[l]=await(await fetch(`${r}/${l}.json`,noStore)).json()}catch(s){console.error(s)}}let n=new Proxy({},{get(l,s){return window.acord?(a(),e[acord.i18n.locale]?.[s]||e.default?.[s]||acord.i18n.messages[s]||s):s}});function i(l,...s){return $t.format(n[l],...s)}return{messages:n,format:i}}});var ee=h((rr,je)=>{je.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let r=this.listeners.get(e);r.forEach(({once:a},n)=>{a&&r?.delete(n),n(...t)})}}});var L=h((nr,Ue)=>{var De=Z(),Rt=j(),{logger:I}=T(),Lt=Be(),Wt=ee(),te={cache:"no-store"},M=Rt.make({}),g=null,Ft=window.eval;async function Ce(o){return Object.assign({extension:Object.assign(o,{i18n:await Lt(o.manifest.i18n||{}),events:new Wt})},window.acord)}async function Ne(o,e){let t=await Ce(e),r=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${e.url}`,a=Ft(r)(t),n=typeof a=="function"?a(e):a;return n.api=t,n}async function Gt(){g=await De("LoadedExtensionsStore")}async function U(o){let e=g.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(M.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;g.store[o].eulaAccepted=!0}let t,r=!1,a=await De(o);try{t=await Ne(e.source,{persist:a,url:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(n=>{n.property&&typeof a.ghost.settings?.[n.property]>"u"&&(a.store.settings[n.property]=n.value)})}catch(n){I.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${n} ${n?.stack?.join?.(`
`)}`),r=!0}try{t.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(n){I.error("EXTENSION_LOAD_ERR",e.manifest.about.name,n),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}M.store[o]=t,r&&setTimeout(()=>{try{e.unload()}catch(n){I.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,n),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function R(o){let e=M.ghost[o],t=g.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!M.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(r){I.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,r),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete M.store[o]}async function Xt(o){let e=g.store[o];if(!g.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await R(o),e.enabled=!1):(await U(o),e.enabled=!0)}async function $(o,e=!0){let t=o.replace(/\/?$/,"/"),r=new URL("extension.json",t).href,a=new URL("extension.js",t).href,n=g.ghost?.[t],i=n?g.store[t]:void 0,l=n?.enabled??e,s=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(t),c;try{let u=await fetch(r,te);if(c=await u.json(),u.status!==200&&!n)throw n&&delete g.store[t],"NO_MAN_200"}catch(u){throw new Error(`NO_PARSE ${u}`)}if(c.locked&&!s)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(c?.type))throw new Error("INVALID_TYPE");if(n){if(c){if(i.manifest.hash!==c.hash){let u=await fetch(a,te);if(u.status!==200)throw delete g.store[t],new Error("NO_200");i.source=await u.text()}_.isEqual(i.manifest,c)||(i.manifest=c)}l&&await U(t);return}let f=await fetch(a,te);if(f.status!==200)throw new Error("NO_200");let d=await f.text();g.store[t]={manifest:c,verified:s,source:d,enabled:l,url:t},l&&await U(t)}function qe(o){let e=g.ghost?.[o];if(!!e){try{R(o)}catch{}e.manifest.locked||delete g.store[o]}}var Kt=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function Ht(){await Promise.allSettled(Object.keys(g.ghost).map($)),Kt.forEach(o=>{g.ghost?.[o]||$(o)})}function Vt(){Object.keys(g.ghost).forEach(o=>{try{R(o)}catch{}})}async function Ie(o){let e=!!g.ghost[o]?.enabled;try{qe(o)}catch{}try{await $(o,e)}catch{}}async function zt(){let o=Object.entries(g.store);for(let e=0;e<o.length;e++)await Ie(o[e][0],o[e][1].enabled)}Ue.exports={evaluate:Ne,load:$,init:Gt,startAll:Ht,reloadAll:zt,reload:Ie,buildAPI:Ce,nests:{get enabled(){return M},get loaded(){return g}},remove:qe,start:U,stop:R,toggle:Xt,stopAll:Vt}});var Fe=h((sr,We)=>{var oe=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,Yt=Object.getOwnPropertyNames,Zt=Object.prototype.hasOwnProperty,Qt=(o,e)=>{for(var t in e)oe(o,t,{get:e[t],enumerable:!0})},eo=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Yt(e))!Zt.call(o,a)&&a!==t&&oe(o,a,{get:()=>e[a],enumerable:!(r=Jt(e,a))||r.enumerable});return o},to=o=>eo(oe({},"__esModule",{value:!0}),o),$e={};Qt($e,{after:()=>io,before:()=>no,instead:()=>so,unpatchAll:()=>ro});We.exports=to($e);var Re=["a","b","i"],O=new Map;function oo(o,e,t,r,a){let n=O.get(e)?.[o];if(!n)return a?Reflect.construct(e[o],t,r):e[o].apply(r,t);for(let s of n.b.values()){let c=s.call(r,t);Array.isArray(c)&&(t=c)}let i=(...s)=>a?Reflect.construct(n.o,s,r):n.o.apply(r,s);for(let s of n.i.values()){let c=i;i=(...f)=>s.call(r,f,c)}let l=i(...t);for(let s of n.a.values())l=s.call(r,t,l)??l;return l}function Le(o,e,t,r){let a=O.get(o),n=a?.[e];return n?.[r].has(t)?(n[r].delete(t),Re.every(i=>n[i].size===0)&&(Reflect.defineProperty(o,e,{value:n.o,writable:!0,configurable:!0})||(o[e]=n.o),delete a[e]),Object.keys(a).length==0&&O.delete(o),!0):!1}function ro(){for(let[o,e]of O.entries())for(let t in e)for(let r of Re)for(let a of e[t]?.[r].keys()??[])Le(o,t,a,r)}var re=o=>(e,t,r,a=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);O.has(t)||O.set(t,{});let n=O.get(t);if(!n[e]){let s=t[e];n[e]={o:s,b:new Map,i:new Map,a:new Map};let c=(u,p,w)=>{let A=oo(e,t,p,u,w);return a&&l(),A},f=new Proxy(s,{apply:(u,p,w)=>c(p,w,!1),construct:(u,p)=>c(s,p,!0),get:(u,p,w)=>p=="toString"?s.toString.bind(s):Reflect.get(u,p,w)});Reflect.defineProperty(t,e,{value:f,configurable:!0,writable:!0})||(t[e]=f)}let i=Symbol(),l=()=>Le(t,e,i,o);return n[e][o].set(i,r),l},no=re("b"),so=re("i"),io=re("a")});var D=h((ir,Ge)=>{var ao=Fe();Ge.exports={...ao,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var Ke=h((ar,Xe)=>{var co=L(),lo=D();Xe.exports=o=>{let e=o.WebpackModules.find(c=>c?.__proto__?.handleConnection),t=new Set,r=new Map;async function a(c,f){let d;try{if(d=JSON.parse(f),!Array.isArray(d)||d.length<1||d.length>3)throw"Array expected as message.";if(typeof d[0]!="string")throw"Array[0] needs to be string.";if(typeof d[1]!="string")throw"Array[1] needs to be string."}catch(y){c.send(JSON.stringify([null,{ok:!1,error:`${y}`}]))}let[u,p,w]=d,A=r.get(p);if(!A)return c.send(JSON.stringify([u,{ok:!1,error:"Unable to find handler."}]));try{let y=await A(w);c.send(JSON.stringify([u,{ok:!0,data:y}]))}catch(y){c.send(JSON.stringify([u,{ok:!1,error:`${y}`}]))}}function n(c,f){if(typeof c!="string")throw new Error("EventName needs to be a string.");if(typeof f!="function")throw new Error("Callback needs to be a function.");if(r.has(c))throw new Error("EventName already in use.");return r.set(c,f),()=>{r.delete(c)}}let i=lo.instead("handleConnection",e,(c,f)=>{let d=c[0];if(d.upgradeReq().url!=="/acord")return f(...c);t.add(d),d.on("message",u=>{a(d,u)}),d.on("close",()=>t.delete(d))});function l(){i(),r.clear(),t.forEach(c=>c.close())}function s(c,...f){if(!r.has(c))throw new Error("Unable to find handler!");return r.get(c)(...f)}return n("InstallExtension",async({url:c}={})=>{if(!(!c||!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",c))))try{await co.load(c)}catch(d){acord.ui.toasts.show.error(`${d}`)}}),{unpatchSocket:l,connectedSockets:t,socketEvents:r,set:n,trigger:s}}});var Ve=h((cr,He)=>{var uo=N();He.exports=o=>{let t=uo(o).find(r=>r?.toString?.()?.includes?.("friendToken"),!0);return{show:Object.assign((...r)=>o.Modals.showModal(...r),{confirmation:(r,a,n={})=>new Promise(i=>{o.Modals.showConfirmationModal(r,a,{onConfirm:()=>i(!0),onCancel:()=>i(!1),confirmText:n?.confirm,cancelText:n?.cancel,danger:n?.danger})}),alert:(r,a)=>o.Modals.showAlertModal(r,a),user:r=>t({userId:r})})}}});var Je=h((lr,ze)=>{var fo=F(),po=T(),ne="https://raw.githubusercontent.com/AcordPlugin/i18n/main",se={cache:"no-store"};ze.exports=o=>{let e=fo(o),t=[],r={};async function a(){try{t=await(await fetch(`${ne}/locales.json`,se)).json()}catch{}try{r.default=await(await fetch(`${ne}/default.json`,se)).json()}catch{}}async function n(){let s=e.common.i18n._requestedLocale;if(!(r[s]||!t.includes(s)))try{r[s]=await(await fetch(`${ne}/${s}.json`,se)).json()}catch{}}let i=new Proxy({},{get(s,c){n();let f=e.common.i18n._requestedLocale;return r[f]?.[c]||r.default?.[c]||e.common.i18n.Messages[c]||c}});function l(s,...c){return po.format(i[s],...c)}return{init:a,format:l,messages:i,get locale(){return e.common.i18n._requestedLocale}}}});var Ze=h((dr,Ye)=>{var ho=j(),go=J(),yo=Z();Ye.exports={nests:ho,idbKeyval:go,createPersistentNest:yo}});var Qe=h((ur,wo)=>{wo.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.537",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var tt=h((fr,et)=>{var mo=ee(),bo=new mo;et.exports=bo});var ae=h((pr,ot)=>{var ie=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(r=>r==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};ot.exports=new ie});var nt=h((hr,rt)=>{var{logger:P}=T(),Ao=j(),Eo=L();rt.exports=o=>{let e=null,t=null,r=null,a=Ao.make({}),n=!1,i=!1;o.set("UpdateDevelopmentExtension",async({source:s,manifest:c})=>{if(!(!i||n)){if(n=!0,e){P.log(`Unloading development extension.. (${c.about.name})`);try{e?.unload?.(),e=null,t=null,r=null,P.log(`Development extension unloaded! (${c.about.name})`)}catch(f){P.error(`Unable to unload development extension! (${c.about.name})`,f)}}await new Promise(f=>setTimeout(f,1));try{e=await Eo.evaluate(s,{persist:a,id:"https://FakeExtensionId",manifest:c}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(f=>{f.property&&typeof a.ghost.settings?.[f.property]>"u"&&(a.store.settings[f.property]=f.value)}),t=s,r=c,e?.load?.(),P.log(`Development extension is loaded! (${c.about.name})`)}catch(f){P.error(`Failed to load development extension! (${c.about.name})`,f)}finally{}n=!1}});function l(){if(e){P.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,r=null,P.log("Development extension unloaded!")}catch(s){P.error("Unable to unload development extension!",s)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:r}:null,enabled:e}},get enabled(){return i},set enabled(s){i=!!s},unload:l}}});var it=h((gr,st)=>{var So=ae(),vo=T();st.exports=function(e){So.add(vo.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(t=>{if(!t.acordTooltip)try{let r=t.setAttribute,a=t.removeAttribute;t.setAttribute=function(s,c){if(t.acordTooltip)switch(s){case"acord--tooltip-content":{t.acordTooltip.label=c,t.acordTooltip.disabled=!c?.trim?.();break}case"acord--tooltip-style":{t.acordTooltip.style=c??"primary";break}case"acord--tooltip-side":{t.acordTooltip.side=c??"top";break}}return r.bind(this,s,c)},t.removeAttribute=function(s){if(t.acordTooltip)switch(s){case"acord--tooltip-content":{t.acordTooltip.disabled=!0,t.acordTooltip.label="";break}case"acord--tooltip-style":{t.acordTooltip.style="primary";break}case"acord--tooltip-side":{t.acordTooltip.side="top";break}}return a.call(this,s)};let n=t.getAttribute("acord--tooltip-content"),i=t.getAttribute("acord--tooltip-style")||"primary",l=t.getAttribute("acord--tooltip-side")||"top";if(t.acordTooltip){t.acordTooltip.disabled=!!n?.trim(),t.acordTooltip.label=n,t.acordTooltip.style=i,t.acordTooltip.side=l;return}t.acordTooltip=new e.Tooltip(t,n,{style:i,side:l}),t.acordTooltip.tooltipElement.style.zIndex=9999999}catch{}})},100))}});var ct=h((yr,at)=>{var _o=N(),To=G(),Po=D(),Oo=T();at.exports=o=>{let e=_o(o),t=To(o);Po.injectCSS(`
    .acord--notif-container {
        width: 100vw;
        height: 100vh;
        z-index: 9999999;
        pointer-events: none;
        display: flex;
        align-items: flex-end;
        justify-content: flex-start;
        flex-direction: column;
    }
    .acord--notif { 
        display: flex; 
        flex-direction: column;
        pointer-events: all;
        transition: transform 250ms ease-in-out, opacity 250ms ease-in-out;
        margin-top: 8px;
        margin-right: 8px;
        backdrop-filter: blur(16px) brightness(0.75);
        z-index: 99999999;
    }
    .acord--notif.clickable { 
        cursor: pointer;
    }
    .acord--notif.style-info { --bar-color: #4a8fe1; }
    .acord--notif.style-warning { --bar-color: #faa81a; }
    .acord--notif.style-error { --bar-color: #ed4245; }
    .acord--notif.style-success { --bar-color: #3ba55d; }
    .acord--notif.style-default { --bar-color: whitesmoke; }

    .acord--notif .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px;
        color: white;
        min-width: 250px;
    }

    .acord--notif .container .close {
        width: 24px;
        height: 24px;
        color: white;
        opacity: 0.5;
        cursor: pointer;
        margin-left: 8px;
        z-index: 999999999;
    }

    .acord--notif .container .close.hidden {
        display: none;
    }

    .acord--notif .progress-container {
        width: 100%;
        height: 5px;
    }

    .acord--notif .progress-container .progress {
        width: 0%;
        height: 5px;
        transition: width var(--duration, 5000ms) linear;
        background-color: var(--bar-color);
    }

    .acord--notif .progress-container .progress.progressing {
        width: 100%;
    }

    .acord--notif.hidden {
        transform: translate(0, -50px);
        opacity: 0;
    }

    .acord--notif.closing {
        transform: translate(0, 50px);
        opacity: 0;
    }
  `);function r(a,{style:n="default",timeout:i=5e3,onClose:l=()=>null,closable:s=!0,onClick:c=null}={}){let f=document.querySelector('[class*="notDevTools-"] > [class*="app-"]'),d=f.querySelector(".acord--notif-container");d||(d=t.parseHTML('<div class="acord--notif-container"></div>'),f.appendChild(d));let u=t.parseHTML(`
        <div class="acord--notif style-${n} hidden">
            <div class="container">
                <div class="content">
                    ${a}
                </div>
                <svg class="close ${s?"":"hidden"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/>
                </svg>
            </div>
            <div class="progress-container" style="--duration: ${i}ms;">
                <div class="progress"></div>
            </div>
        </div>
    `),p=!1;function w(A){p||(p=!0,u.classList.add("closing"),setTimeout(()=>{u.remove()},275),l(A))}return typeof c=="function"&&(u.classList.add("clickable"),u.onclick=()=>{c(w)}),Oo.ifExists(u.querySelector(".close"),A=>{A.onclick=()=>{w("user")}}),d.prepend(u),requestAnimationFrame(()=>{u.classList.remove("hidden"),u.querySelector(".progress").classList.add("progressing")}),setTimeout(()=>{w("timeout")},i),()=>{w("force")}}return{show:Object.assign(r,{info:(a,n={})=>r(a,{...n,style:"info"}),error:(a,n={})=>r(a,{...n,style:"error"}),warning:(a,n={})=>r(a,{...n,style:"warning"}),success:(a,n={})=>r(a,{...n,style:"success"})})}}});var Mo=F(),ko=G(),xo=Ke(),Bo=Ve(),jo=Je(),C=T(),Do=Ze(),W=L(),ce=D(),ut=Qe(),lt=tt(),dt=ae(),Co=nt(),{injectCSS:No}=D(),qo=it(),Io=ct(),Uo=["952550103271485520","853692631142105108"],$o=(o,e)=>{let t=Mo(e),r=xo(e),a=Co(r),n=ko(e),i=Bo(e),l=jo(e),s=Io(e);function c(){let f=t.common.UserStore.getCurrentUser(),d=!1;return Uo.forEach(u=>{if(d)return;let p=t.common.GuildStore.getGuild(u);p?d=`You are blocked from Acord extension system due to be in the some of the blocked guilds like ${p.name}.`:f.id===u&&(d="You are blocked from Acord.")}),d&&(C.logger.error("Unable to load Acord!"),BdApi.UI.showToast(d,{type:"error"})),d}return class extends o{async onStart(){if(window.acord)return;await e.PluginUpdater.checkForUpdate("Acord",ut.info.version,"https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js"),No('[class*="acord--"] * {box-sizing: border-box;}');let f={internal:Do,modules:t,utils:C,patcher:ce,extensions:(()=>{let d={...W};return delete d.init,d})(),events:lt,ui:{modals:i,notifications:s,toasts:{show:Object.assign((...d)=>BdApi.UI.showToast(...d),{success:d=>BdApi.UI.showToast(d,{type:"success"}),error:d=>BdApi.UI.showToast(d,{type:"error"}),info:d=>BdApi.UI.showToast(d,{type:"info"}),warning:d=>BdApi.UI.showToast(d,{type:"warning"})})},notices:{show:Object.assign((...d)=>BdApi.UI.showNotice(...d),{success:(d,u={})=>BdApi.UI.showNotice(d,{type:"success",...u}),error:(d,u={})=>BdApi.UI.showNotice(d,{type:"error",...u}),info:(d,u={})=>BdApi.UI.showNotice(d,{type:"info",...u}),warning:(d,u={})=>BdApi.UI.showNotice(d,{type:"warning",...u})})},tooltips:{create:Object.assign((d,u,p={})=>new e.Tooltip(d,u,{style:"primary",...p}),{success:(d,u,p={})=>new e.Tooltip(d,u,{style:"green",...p}),error:(d,u,p={})=>new e.Tooltip(d,u,{style:"red",...p}),warning:(d,u,p={})=>new e.Tooltip(d,u,{style:"yellow",...p})})},contextMenus:{patch:(d,u)=>BdApi.ContextMenu.patch(d,u),build:{item:d=>BdApi.ContextMenu.buildItem(d),menu:Object.assign(d=>BdApi.ContextMenu.buildMenu(d),{children:d=>BdApi.ContextMenu.buildMenuChildren(d)})},open:(d,u,p)=>BdApi.ContextMenu.open(d,u,p)}},dom:Object.assign(n,{patch:(d,u,p=!1)=>(()=>{function w(A){A.nodeType!==Node.TEXT_NODE&&A.querySelectorAll(d).forEach(async y=>{if(y.acord||(y.acord={unmountCallbacks:[],patchedSelectors:new Set},y.classList.add("acord--patched")),y.acord.patchedSelectors.has(d))return;y.acord.patchedSelectors.add(d);let k=await u(y);typeof k=="function"&&y.acord.unmountCallbacks.push(k)})}return p&&document.querySelectorAll(d).forEach(w),lt.on("domMutation",A=>{A.addedNodes.forEach(w),A.removedNodes.forEach(y=>{y.nodeType!==Node.TEXT_NODE&&y.querySelectorAll(d).forEach(async k=>{!k.acord||k.acord.unmountCallbacks.forEach(ft=>ft())})})})})()}),i18n:{format:l.format,messages:l.messages,get locale(){return l.locale}},websocket:{set:r.set,trigger:r.trigger},dev:a,unload(){ce.unpatchAll(),ce.unpatchAllCSS(),W.stopAll(),r.unpatchSocket(),dt.removeAll(),socket.disconnect(),a.unload()},_:e,other:{}};c()||(dt.add(C.interval(()=>{c()&&window?.acord?.unload?.()},1e4)),window.acord=f,globalThis.acord=f,qo(e),await l.init(),await W.init(),await W.startAll(),C.logger.log(l.messages.ACORD_LOADED),BdApi.UI.showToast(l.messages.ACORD_LOADED,{type:"success"}))}observer(f){window.acord&&window.acord.events.emit("domMutation",f)}onStop(){BdApi.UI.showToast(l.messages.ACORD_UNLOADED,{type:"success"}),C.logger.log(l.messages.ACORD_UNLOADED);try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord}}};if(global.ZLibrary){let o=global.ZLibrary.buildPlugin(ut);module.exports=$o(...o),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let o=!1;setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),r=require("fs"),a=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(n,i,l)=>{if(n)return t.openExternal("https://betterdiscord.app/Download?id=9");i.statusCode===302?e.get(i.headers.location,async(s,c,f)=>{if(s)return t.openExternal("https://betterdiscord.app/Download?id=9");r.writeFile(a.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),f,()=>{})}):r.writeFile(a.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),l,()=>{})}),(async()=>{for(;!(global.ZLibrary||o);)await new Promise(n=>setTimeout(n,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(t){}async start(){}stop(){o=!0}}}
