/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.481
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://armagan.rest/
 */
var p=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var L=p((No,ce)=>{ce.exports=o=>{let e=s=>typeof s=="object"||typeof s=="function";function t(s){return l=>s.every(n=>Object.keys(l).some(c=>c.toLowerCase().includes(n.toLowerCase())))}function r(s){return l=>e(l)&&Object.values(l).some(n=>e(n)&&s.some(c=>n?.[c]!==void 0))}function d(s){return l=>l.prototype&&s.every(n=>l.prototype[n]!==void 0)}function a(s){return l=>s.every(n=>l?.toString?.()?.includes?.(n))}return{findByProps:(...s)=>o.WebpackModules.findByUniqueProperties(s,!0),findByProperties:(...s)=>o.WebpackModules.findByUniqueProperties(s,!0),findByPropsAll:(...s)=>o.WebpackModules.findByUniqueProperties(s,!1),findByPropertiesAll:(...s)=>o.WebpackModules.findByUniqueProperties(s,!1),findByKeywordAll:(...s)=>o.WebpackModules.findAll(t(s)),findByKeyword:(...s)=>o.WebpackModules.findAll(t(s))[0],findByNestedProps:(...s)=>o.WebpackModules.findAll(r(s))[0],findByNestedPropsAll:(...s)=>o.WebpackModules.findAll(r(s)),findByPrototypes:(...s)=>o.WebpackModules.findAll(d(s))[0],findByPrototypesAll:(...s)=>o.WebpackModules.findAll(d(s)),findByStrings:(...s)=>o.WebpackModules.findAll(a(s))[0],findByStringsAll:(...s)=>o.WebpackModules.findAll(a(s)),findAll:(s,l=!1)=>o.WebpackModules.findAll(s,{searchExports:l}),find:(s,l=!1)=>o.WebpackModules.find(s,{searchExports:l}),findByStringValues:(...s)=>o.WebpackModules.find(l=>(va=Object.values(l),s.every(n=>va.some(c=>typeof c=="string"&&c.includes(n)))),{searchExports:!1})}}});var W=p((qo,le)=>{var dt=L();le.exports=o=>{let e=dt(o);return{webpack:e,require:window.require,common:{constants:{Permissions:o.DiscordModules.DiscordPermissions},i18n:e.findByProps("_requestedLocale","getDefaultLocale"),uuid:e.findByProps("v1","v4"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")},ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),Button:o.DiscordModules.ButtonData,ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),Rest:e.findByProps("get","post","getAPIBaseURL"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),GuildMemberStore:e.findByProps("getMembers","getMember"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),MessageStore:e.findByProps("getMessages","getMessage"),NoteStore:e.findByProps("getNote","getName"),PermissionStore:e.findByProps("getChannelPermissions"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,RelationshipStore:e.findByProps("getRelationships","getFriendIDs"),Router:o.DiscordModules.NavigationUtils,SelectedChannelStore:e.findByProps("getVoiceChannelId","getChannelId"),SelectedGuildStore:e.findByProps("getLastSelectedGuildId","getGuildId"),SimpleMarkdown:o.DiscordModules.SimpleMarkdown,UserStore:e.findByProps("getUser","getCurrentUser"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),TypingStore:e.findByProps("isTyping","getTypingUsers"),MediaEngineStore:e.findByProperties("getAecDump","getOutputVolume"),SoundpackStore:e.findByProps("getSoundpack"),QueryActions:e.findByProps("queryEmojiResults","queryFriends"),MessageActions:e.findByProps("receiveMessage","sendMessage"),PremiumActions:e.findByProps("isPremium","canUseEmojisEverywhere"),SpotifyStore:e.findByProps("getActiveSocketAndDevice","getTrack"),GuildMemberCountStore:e.findByProps("getMemberCount","getMemberCounts"),VoiceActions:e.findByProps("selectVoiceChannel","disconnect")}}}});var F=p((Io,de)=>{de.exports=o=>({createElement:(e,t,...r)=>{if(typeof e=="function")return e({...t,children:[].concat(...r)});let d=document.createElement(e);for(let a of Object.keys(t))a.indexOf("on")===0?d.addEventListener(a.slice(2).toLowerCase(),t[a]):a==="children"?d.append(...Array.isArray(t[a])?t[a]:[].concat(t[a])):d.setAttribute(a==="className"?"class":a,t[a]);return r.length&&d.append(...r),d},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(r=>{t.style.hasOwnProperty(r[0])?t.style[r[0]]=r[1]:t.style.setProperty(r[0],r[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var X=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var fe=p(k=>{"use strict";var ut=k&&k.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(k,"__esModule",{value:!0});var ue=ut(X()),H=class{constructor(){this.listeners=Object.values(ue.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let r=(d,a)=>{this.off(d,r),t(d,a)};this.on(e,r)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let r of this.listeners[e])r(e,t)};for(let e of Object.values(ue.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};k.default=H});var pe=p(B=>{"use strict";var ft=B&&B.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(B,"__esModule",{value:!0});var pt=ft(fe());function ht(o={},{nestArrays:e=!0}={}){let t=new pt.default;function r(d,a,s){return new Proxy(d,{get(l,n){let c=[...s,n],i=l[n];return i!=null?(t.get({path:c,value:i}),!e&&Array.isArray(i)?i:typeof i=="object"?r(i,a,c):i):r(l[n]={},a,c)},set(l,n,c){return l[n]=c,t.set({path:[...s,n],value:c}),!0},deleteProperty(l,n){return delete l[n]?(t.delete({path:[...s,n]}),!0):!1},has(l,n){return typeof l[n]=="object"&&Object.keys(l[n]).length===0?!1:n in l}})}return Object.assign({store:r(o,o,[]),ghost:o},t)}B.default=ht});var D=p(v=>{"use strict";var he=v&&v.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(v,"__esModule",{value:!0});v.make=v.Events=void 0;var gt=X();Object.defineProperty(v,"Events",{enumerable:!0,get:function(){return he(gt).default}});var yt=pe();Object.defineProperty(v,"make",{enumerable:!0,get:function(){return he(yt).default}})});var z=p(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});function m(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function ge(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let r=m(t);return(d,a)=>r.then(s=>a(s.transaction(e,d).objectStore(e)))}var K;function E(){return K||(K=ge("keyval-store","keyval")),K}function wt(o,e=E()){return e("readonly",t=>m(t.get(o)))}function bt(o,e,t=E()){return t("readwrite",r=>(r.put(e,o),m(r.transaction)))}function mt(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.put(r[1],r[0])),m(t.transaction)))}function At(o,e=E()){return e("readonly",t=>Promise.all(o.map(r=>m(t.get(r)))))}function Et(o,e,t=E()){return t("readwrite",r=>new Promise((d,a)=>{r.get(o).onsuccess=function(){try{r.put(e(this.result),o),d(m(r.transaction))}catch(s){a(s)}}}))}function St(o,e=E()){return e("readwrite",t=>(t.delete(o),m(t.transaction)))}function vt(o,e=E()){return e("readwrite",t=>(o.forEach(r=>t.delete(r)),m(t.transaction)))}function _t(o=E()){return o("readwrite",e=>(e.clear(),m(e.transaction)))}function V(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},m(o.transaction)}function Tt(o=E()){return o("readonly",e=>{if(e.getAllKeys)return m(e.getAllKeys());let t=[];return V(e,r=>t.push(r.key)).then(()=>t)})}function Ot(o=E()){return o("readonly",e=>{if(e.getAll)return m(e.getAll());let t=[];return V(e,r=>t.push(r.value)).then(()=>t)})}function Pt(o=E()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([m(e.getAllKeys()),m(e.getAll())]).then(([r,d])=>r.map((a,s)=>[a,d[s]]));let t=[];return o("readonly",r=>V(r,d=>t.push([d.key,d.value])).then(()=>t))})}A.clear=_t;A.createStore=ge;A.del=St;A.delMany=vt;A.entries=Pt;A.get=wt;A.getMany=At;A.keys=Tt;A.promisifyRequest=m;A.set=bt;A.setMany=mt;A.update=Et;A.values=Ot});var me=p(S=>{S.Map=Map;S.WeakMap=WeakMap;S.WeakSet=WeakSet;S.Set=Set;var ye=o=>typeof o=="object"&&o!=null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String),Mt=o=>"#"+o.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),we=()=>{let o=new S.WeakMap;return function(t,r){if(t!=="$ref"&&ye(r)){if(o.has(r))return{$ref:Mt(o.get(r))};o.set(r,[...o.get(this)??[],t])}return r}};function be(){let o=new S.WeakMap,e=new S.WeakMap,t=new S.Set;function r(d){let a=d.$ref.slice(1).split("/"),s,l,n=this;for(var c=0;c<a.length;c++)s=a[c].replace(/~1/g,"/").replace(/~0/g,"~"),n=n[s];l=o.get(d),l[e.get(d)]=n}return function(a,s){if(a==="$ref")t.add(this);else if(ye(s)){var l=a===""&&Object.keys(this).length===1;l?t.forEach(r,this):(o.set(s,this),e.set(s,a))}return s}}var kt=o=>Object.defineProperties(o,{decycle:{value:(e,t)=>o.stringify(e,we(),t)},retrocycle:{value:e=>o.parse(e,be())}});Object.assign(S,{decycle:we,retrocycle:be,extend:kt})});var Y=p((Go,Ae)=>{var x=D(),J=z(),{decycle:Bt,retrocycle:Dt}=me();async function Ct(o){let e=await J.get(`AcordStore;${o}`);typeof e=="string"&&(e=JSON.parse(e,Dt()));let t=x.make(e??{}),r=()=>{try{J.set(`AcordStore;${o}`,JSON.stringify({...t.ghost},Bt()))}catch{J.set(`AcordStore;${o}`,JSON.stringify({}))}};return t.on(x.Events.SET,r),t.on(x.Events.UPDATE,r),t.on(x.Events.DELETE,r),t}Ae.exports=Ct});var Se=p((Xo,Ee)=>{Ee.exports=function(e,t,{walkable:r=null,ignore:d=[],limit:a=100}={}){let s=0;function l(n,c,{walkable:i=null,ignore:u=[]}={}){if(s+=1,!(s>a)){if(typeof c=="string"){if(n.hasOwnProperty(c))return n[c]}else if(c(n))return n;if(!!n){if(Array.isArray(n))for(let f of n){let h=l(f,c,{walkable:i,ignore:u});if(h)return h}else if(typeof n=="object"){for(let f of Object.keys(n))if(!(i!=null&&!i.includes(f))&&!u.includes(f))try{let h=l(n[f],c,{walkable:i,ignore:u});if(h)return h}catch{}}}}}return l(e,t,{walkable:r,ignore:d})}});var _e=p((Ho,ve)=>{var jt=["Clickable","Tooltip"];ve.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:r=jt}={}){let d=n=>!n?.type?.displayName||r.includes(n?.type?.displayName),a=n=>typeof n?.type!="string"&&(t?!d(n):!0),s=n=>a(n)?n?.type:s(n.return),l=s(acord.utils.react.getInstance(o));return e?find(n=>n?.default===l):l}});var Oe=p((Ko,Te)=>{Te.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(t)})}});var O=p((Vo,Me)=>{var Pe=Se(),xt=_e(),Nt=Oe(),Z=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);Me.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:Z("log","#00fbb0"),warn:Z("warn","#debf18"),error:Z("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>Pe(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:xt,getComponents(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&typeof r.return.type!="string";)r.return.type&&t.push(r.return.type),r=r.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],r=e;for(;r&&r.return&&!(r.return.stateNode instanceof HTMLElement);)r.return.stateNode&&t.push(r.return.stateNode),r=r.return;return t},getProps:(o,e=r=>r,t=1e4)=>{let r=o?.__reactFiber$;if(!r?.return)return null;for(let d=r?.return,a=0;a>t||d!==null;d=d?.return,a++)if(d?.pendingProps&&e(d.pendingProps))return d.pendingProps;return null}},findInTree:Pe,copyText:Nt,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},timeout(o,e){let t=setTimeout(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},format(o,...e){return`${o}`.replaceAll(/{(\d+)}/g,(t,r)=>e[Number(r)])}}});var Be=p((zo,ke)=>{var qt=O();ke.exports=async o=>{let e={},t=[],r=null;if(typeof o=="string"){r=o,r.endsWith("/")&&(r=r.slice(0,-1));try{t=await(await fetch(`${r}/locales.json`,noStore)).json(),e.default=await(await fetch(`${r}/default.json`,noStore)).json()}catch(l){console.error(l)}for(let l=0;l<t.length;l++){let n=t[l];try{e[n]=await(await fetch(`${r}/${n}.json`,noStore)).json()}catch(c){console.error(c)}}}else e=o,t=Object.keys(o),t.includes("default")&&t.splice(t.indexOf("default"),1);async function d(){if(!r)return;let l=acord.i18n.locale;if(!(e[l]||!t.includes(l)))try{e[l]=await(await fetch(`${r}/${l}.json`,noStore)).json()}catch(n){console.error(n)}}let a=new Proxy({},{get(l,n){return window.acord?(d(),e[acord.i18n.locale]?.[n]||e.default?.[n]||acord.i18n.messages[n]||n):n}});function s(l,...n){return qt.format(a[l],...n)}return{messages:a,format:s}}});var Q=p((Yo,De)=>{De.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let r=this.listeners.get(e);r.forEach(({once:d},a)=>{d&&r?.delete(a),a(...t)})}}});var $=p((Zo,Ie)=>{var Ce=Y(),It=D(),{logger:N}=O(),Ut=Be(),$t=Q(),ee={cache:"no-store"},M=It.make({}),w=null,Rt=window.eval;async function je(o){return Object.assign({extension:Object.assign(o,{i18n:await Ut(o.manifest.i18n||{}),events:new $t})},window.acord)}async function xe(o,e){let t=await je(e),r=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${e.url}`,d=Rt(r)(t),a=typeof d=="function"?d(e):d;return a.api=t,a}async function Lt(){w=await Ce("LoadedExtensionsStore")}async function q(o){let e=w.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(M.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;w.store[o].eulaAccepted=!0}let t,r=!1,d=await Ce(o);try{t=await xe(e.source,{persist:d,url:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(a=>{a.property&&typeof d.ghost.settings?.[a.property]>"u"&&(d.store.settings[a.property]=a.value)})}catch(a){N.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${a} ${a?.stack?.join?.(`
`)}`),r=!0}try{t.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(a){N.error("EXTENSION_LOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}M.store[o]=t,r&&setTimeout(()=>{try{e.unload()}catch(a){N.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function U(o){let e=M.ghost[o],t=w.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!M.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(r){N.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,r),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete M.store[o]}async function Wt(o){let e=w.store[o];if(!w.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await U(o),e.enabled=!1):(await q(o),e.enabled=!0)}async function I(o,e=!0){let t=o.replace(/\/?$/,"/"),r=new URL("extension.json",t).href,d=new URL("extension.js",t).href,a=w.ghost?.[t],s=a?w.store[t]:void 0,l=a?.enabled??e,n=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(t),c;try{let f=await fetch(r,ee);if(c=await f.json(),f.status!==200&&!a)throw a&&delete w.store[t],"NO_MAN_200"}catch(f){throw new Error(`NO_PARSE ${f}`)}if(c.locked&&!n)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(c?.type))throw new Error("INVALID_TYPE");if(a){if(c){if(s.manifest.hash!==c.hash){let f=await fetch(d,ee);if(f.status!==200)throw delete w.store[t],new Error("NO_200");s.source=await f.text()}_.isEqual(s.manifest,c)||(s.manifest=c)}l&&await q(t);return}let i=await fetch(d,ee);if(i.status!==200)throw new Error("NO_200");let u=await i.text();w.store[t]={manifest:c,verified:n,source:u,enabled:l,url:t},l&&await q(t)}function Ne(o){let e=w.ghost?.[o];if(!!e){try{U(o)}catch{}e.manifest.locked||delete w.store[o]}}var Ft=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function Gt(){await Promise.allSettled(Object.keys(w.ghost).map(I)),Ft.forEach(o=>{w.ghost?.[o]||I(o)})}function Xt(){Object.keys(w.ghost).forEach(o=>{try{U(o)}catch{}})}async function qe(o){let e=!!w.ghost[o]?.enabled;try{Ne(o)}catch{}try{await I(o,e)}catch{}}async function Ht(){let o=Object.entries(w.store);for(let e=0;e<o.length;e++)await qe(o[e][0],o[e][1].enabled)}Ie.exports={evaluate:xe,load:I,init:Lt,startAll:Gt,reloadAll:Ht,reload:qe,buildAPI:je,nests:{get enabled(){return M},get loaded(){return w}},remove:Ne,start:q,stop:U,toggle:Wt,stopAll:Xt}});var We=p((Qo,Le)=>{var te=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Vt=Object.getOwnPropertyNames,zt=Object.prototype.hasOwnProperty,Jt=(o,e)=>{for(var t in e)te(o,t,{get:e[t],enumerable:!0})},Yt=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let d of Vt(e))!zt.call(o,d)&&d!==t&&te(o,d,{get:()=>e[d],enumerable:!(r=Kt(e,d))||r.enumerable});return o},Zt=o=>Yt(te({},"__esModule",{value:!0}),o),Ue={};Jt(Ue,{after:()=>ro,before:()=>to,instead:()=>oo,unpatchAll:()=>eo});Le.exports=Zt(Ue);var $e=["a","b","i"],P=new Map;function Qt(o,e,t,r,d){let a=P.get(e)?.[o];if(!a)return d?Reflect.construct(e[o],t,r):e[o].apply(r,t);for(let n of a.b.values()){let c=n.call(r,t);Array.isArray(c)&&(t=c)}let s=(...n)=>d?Reflect.construct(a.o,n,r):a.o.apply(r,n);for(let n of a.i.values()){let c=s;s=(...i)=>n.call(r,i,c)}let l=s(...t);for(let n of a.a.values())l=n.call(r,t,l)??l;return l}function Re(o,e,t,r){let d=P.get(o),a=d?.[e];return a?.[r].has(t)?(a[r].delete(t),$e.every(s=>a[s].size===0)&&(Reflect.defineProperty(o,e,{value:a.o,writable:!0,configurable:!0})||(o[e]=a.o),delete d[e]),Object.keys(d).length==0&&P.delete(o),!0):!1}function eo(){for(let[o,e]of P.entries())for(let t in e)for(let r of $e)for(let d of e[t]?.[r].keys()??[])Re(o,t,d,r)}var oe=o=>(e,t,r,d=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);P.has(t)||P.set(t,{});let a=P.get(t);if(!a[e]){let n=t[e];a[e]={o:n,b:new Map,i:new Map,a:new Map};let c=(f,h,b)=>{let y=Qt(e,t,h,f,b);return d&&l(),y},i=new Proxy(n,{apply:(f,h,b)=>c(h,b,!1),construct:(f,h)=>c(n,h,!0),get:(f,h,b)=>h=="toString"?n.toString.bind(n):Reflect.get(f,h,b)});Reflect.defineProperty(t,e,{value:i,configurable:!0,writable:!0})||(t[e]=i)}let s=Symbol(),l=()=>Re(t,e,s,o);return a[e][o].set(s,r),l},to=oe("b"),oo=oe("i"),ro=oe("a")});var C=p((er,Fe)=>{var no=We();Fe.exports={...no,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var Xe=p((tr,Ge)=>{var so=$(),io=C();Ge.exports=o=>{let e=o.WebpackModules.find(c=>c?.__proto__?.handleConnection),t=new Set,r=new Map;async function d(c,i){let u;try{if(u=JSON.parse(i),!Array.isArray(u)||u.length<1||u.length>3)throw"Array expected as message.";if(typeof u[0]!="string")throw"Array[0] needs to be string.";if(typeof u[1]!="string")throw"Array[1] needs to be string."}catch(g){c.send(JSON.stringify([null,{ok:!1,error:`${g}`}]))}let[f,h,b]=u,y=r.get(h);if(!y)return c.send(JSON.stringify([f,{ok:!1,error:"Unable to find handler."}]));try{let g=await y(b);c.send(JSON.stringify([f,{ok:!0,data:g}]))}catch(g){c.send(JSON.stringify([f,{ok:!1,error:`${g}`}]))}}function a(c,i){if(typeof c!="string")throw new Error("EventName needs to be a string.");if(typeof i!="function")throw new Error("Callback needs to be a function.");if(r.has(c))throw new Error("EventName already in use.");return r.set(c,i),()=>{r.delete(c)}}let s=io.instead("handleConnection",e,(c,i)=>{let u=c[0];if(u.upgradeReq().url!=="/acord")return i(...c);t.add(u),u.on("message",f=>{d(u,f)}),u.on("close",()=>t.delete(u))});function l(){s(),r.clear(),t.forEach(c=>c.close())}function n(c,...i){if(!r.has(c))throw new Error("Unable to find handler!");return r.get(c)(...i)}return a("InstallExtension",async({url:c}={})=>{if(!(!c||!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",c))))try{await so.load(c)}catch(u){acord.ui.toasts.show.error(`${u}`)}}),{unpatchSocket:l,connectedSockets:t,socketEvents:r,set:a,trigger:n}}});var Ke=p((or,He)=>{var ao=F(),co=L(),{injectCSS:lo}=C();He.exports=o=>{let e=ao(o),t=co(o),r=t.findByProps("root","small"),d=t.findByProps("notDevTools","app");lo(".acord--layer-container{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1001;pointer-events:none;transition:100ms ease all}.acord--backdrop{background-color:rgba(0,0,0,.5);position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1002;pointer-events:none}.acord--layer{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1003;pointer-events:all}.acord--modal-root{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1004;pointer-events:all}");function a(s,{size:l="large",classes:n=""}={}){let c=document.querySelector(`.${d.notDevTools}`),i=c.querySelector(".acord--layer-container");if(i||(i=e.parseHTML('<div class="acord--layer-container"></div>'),c.appendChild(i)),!i.querySelector(".acord--backdrop")){let g=e.parseHTML('<div class="acord--backdrop"></div>');i.prepend(g)}let u=e.parseHTML('<div class="acord--layer"></div>'),f=e.parseHTML(`<div class="${r.root} ${r[l]} ${e.escapeHTML(n)} acord--modal-root"></div>`),h=!1,b=[];async function y(){h||(h=!0,u?.remove(),document.querySelector(".acord--modal-root")||document.querySelector(".acord--backdrop")?.remove?.(),b.forEach(g=>g()))}return u.addEventListener("click",g=>{!g.target.classList.contains("acord--layer")||y()}),f.replaceChildren(typeof s=="function"?s({close:y,onClose(g){b.push(g)},root:f}):s),u.replaceChildren(f),i.appendChild(u),{close:y,onClose(g){b.push(g)},root:f}}return{show:Object.assign((...s)=>o.Modals.showModal(...s),{confirmation:(s,l,n={})=>new Promise(c=>{o.Modals.showConfirmationModal(s,l,{onConfirm:()=>c(!0),onCancel:()=>c(!1),confirmText:n?.confirm,cancelText:n?.cancel,danger:n?.danger})}),alert:(s,l)=>o.Modals.showAlertModal(s,l),legacy:(...s)=>a(...s)})}}});var ze=p((rr,Ve)=>{var uo=W(),fo=O(),re="https://raw.githubusercontent.com/AcordPlugin/i18n/main",ne={cache:"no-store"};Ve.exports=o=>{let e=uo(o),t=[],r={};async function d(){try{t=await(await fetch(`${re}/locales.json`,ne)).json()}catch{}try{r.default=await(await fetch(`${re}/default.json`,ne)).json()}catch{}}async function a(){let n=e.common.i18n._requestedLocale;if(!(r[n]||!t.includes(n)))try{r[n]=await(await fetch(`${re}/${n}.json`,ne)).json()}catch{}}let s=new Proxy({},{get(n,c){a();let i=e.common.i18n._requestedLocale;return r[i]?.[c]||r.default?.[c]||e.common.i18n.Messages[c]||c}});function l(n,...c){return fo.format(s[n],...c)}return{init:d,format:l,messages:s,get locale(){return e.common.i18n._requestedLocale}}}});var Ye=p((nr,Je)=>{var po=D(),ho=z(),go=Y();Je.exports={nests:po,idbKeyval:ho,createPersistentNest:go}});var Ze=p((sr,yo)=>{yo.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.481",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var et=p((ir,Qe)=>{var wo=Q(),bo=new wo;Qe.exports=bo});var ie=p((ar,tt)=>{var se=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(r=>r==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};tt.exports=new se});var rt=p((cr,ot)=>{var{logger:T}=O(),mo=D(),Ao=$();ot.exports=o=>{let e=null,t=null,r=null,d=mo.make({}),a=!1,s=!1;o.set("UpdateDevelopmentExtension",async({source:n,manifest:c})=>{if(!(!s||a)){if(a=!0,e){T.log(`Unloading development extension.. (${c.about.name})`);try{e?.unload?.(),e=null,t=null,r=null,T.log(`Development extension unloaded! (${c.about.name})`)}catch(i){T.error(`Unable to unload development extension! (${c.about.name})`,i)}}await new Promise(i=>setTimeout(i,1));try{e=await Ao.evaluate(n,{persist:d,id:"https://FakeExtensionId",manifest:c}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(i=>{i.property&&typeof d.ghost.settings?.[i.property]>"u"&&(d.store.settings[i.property]=i.value)}),t=n,r=c,e?.load?.(),T.log(`Development extension is loaded! (${c.about.name})`)}catch(i){T.error(`Failed to load development extension! (${c.about.name})`,i)}finally{}a=!1}});function l(){if(e){T.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,r=null,T.log("Development extension unloaded!")}catch(n){T.error("Unable to unload development extension!",n)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:r}:null,enabled:e}},get enabled(){return s},set enabled(n){s=!!n},unload:l}}});var st=p((lr,nt)=>{var Eo=ie(),So=O();nt.exports=function(e){Eo.add(So.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(t=>{if(!t.acordTooltip)try{let r=t.setAttribute,d=t.removeAttribute;t.setAttribute=function(n,c){if(t.acordTooltip)switch(n){case"acord--tooltip-content":{t.acordTooltip.label=c,t.acordTooltip.disabled=!c?.trim?.();break}case"acord--tooltip-style":{t.acordTooltip.style=c??"primary";break}case"acord--tooltip-side":{t.acordTooltip.side=c??"top";break}}return r.bind(this,n,c)},t.removeAttribute=function(n){if(t.acordTooltip)switch(n){case"acord--tooltip-content":{t.acordTooltip.disabled=!0,t.acordTooltip.label="";break}case"acord--tooltip-style":{t.acordTooltip.style="primary";break}case"acord--tooltip-side":{t.acordTooltip.side="top";break}}return d.call(this,n)};let a=t.getAttribute("acord--tooltip-content"),s=t.getAttribute("acord--tooltip-style")||"primary",l=t.getAttribute("acord--tooltip-side")||"top";if(t.acordTooltip){t.acordTooltip.disabled=!!a?.trim(),t.acordTooltip.label=a,t.acordTooltip.style=s,t.acordTooltip.side=l;return}t.acordTooltip=new e.Tooltip(t,a,{style:s,side:l}),t.acordTooltip.tooltipElement.style.zIndex=9999999}catch{}})},100))}});var vo=W(),_o=F(),To=Xe(),Oo=Ke(),Po=ze(),j=O(),Mo=Ye(),R=$(),ae=C(),ct=Ze(),it=et(),at=ie(),ko=rt(),{injectCSS:Bo}=C(),Do=st(),Co=["952550103271485520","853692631142105108"],jo=(o,e)=>{let t=vo(e),r=To(e),d=ko(r),a=_o(e),s=Oo(e),l=Po(e);function n(){let c=t.common.UserStore.getCurrentUser(),i=!1;return Co.forEach(u=>{if(i)return;let f=t.common.GuildStore.getGuild(u);f?i=`You are blocked from Acord extension system due to be in the some of the blocked guilds like ${f.name}.`:c.id===u&&(i="You are blocked from Acord.")}),i&&(j.logger.error("Unable to load Acord!"),BdApi.UI.showToast(i,{type:"error"})),i}return class extends o{async onStart(){if(window.acord)return;await e.PluginUpdater.checkForUpdate("Acord",ct.info.version,"https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js"),Bo('[class*="acord--"] * {box-sizing: border-box;}');let c={internal:Mo,modules:t,utils:j,patcher:ae,extensions:(()=>{let i={...R};return delete i.init,i})(),events:it,ui:{modals:s,toasts:{show:Object.assign((...i)=>BdApi.UI.showToast(...i),{success:i=>BdApi.UI.showToast(i,{type:"success"}),error:i=>BdApi.UI.showToast(i,{type:"error"}),info:i=>BdApi.UI.showToast(i,{type:"info"}),warning:i=>BdApi.UI.showToast(i,{type:"warning"})})},notices:{show:Object.assign((...i)=>BdApi.UI.showNotice(...i),{success:(i,u={})=>BdApi.UI.showNotice(i,{type:"success",...u}),error:(i,u={})=>BdApi.UI.showNotice(i,{type:"error",...u}),info:(i,u={})=>BdApi.UI.showNotice(i,{type:"info",...u}),warning:(i,u={})=>BdApi.UI.showNotice(i,{type:"warning",...u})})},tooltips:{create:Object.assign((i,u,f={})=>new e.Tooltip(i,u,{style:"primary",...f}),{success:(i,u,f={})=>new e.Tooltip(i,u,{style:"green",...f}),error:(i,u,f={})=>new e.Tooltip(i,u,{style:"red",...f}),warning:(i,u,f={})=>new e.Tooltip(i,u,{style:"yellow",...f})})},contextMenus:{patch:(i,u)=>BdApi.ContextMenu.patch(i,u),build:{item:i=>BdApi.ContextMenu.buildItem(i),menu:Object.assign(i=>BdApi.ContextMenu.buildMenu(i),{children:i=>BdApi.ContextMenu.buildMenuChildren(i)})},open:(i,u,f)=>BdApi.ContextMenu.open(i,u,f)}},dom:Object.assign(a,{patch:(i,u,f=!1)=>(()=>{function h(b){b.nodeType!==Node.TEXT_NODE&&b.querySelectorAll(i).forEach(async y=>{if(y.acord||(y.acord={unmountCallbacks:[],patchedSelectors:new Set},y.classList.add("acord--patched")),y.acord.patchedSelectors.has(i))return;y.acord.patchedSelectors.add(i);let g=await u(y);typeof g=="function"&&y.acord.unmountCallbacks.push(g)})}return f&&document.querySelectorAll(i).forEach(h),it.on("domMutation",b=>{b.addedNodes.forEach(h),b.removedNodes.forEach(y=>{y.nodeType!==Node.TEXT_NODE&&y.querySelectorAll(i).forEach(async g=>{!g.acord||g.acord.unmountCallbacks.forEach(lt=>lt())})})})})()}),i18n:{format:l.format,messages:l.messages,get locale(){return l.locale}},websocket:{set:r.set,trigger:r.trigger},dev:d,unload(){ae.unpatchAll(),ae.unpatchAllCSS(),R.stopAll(),r.unpatchSocket(),at.removeAll(),socket.disconnect(),d.unload()},_:e,other:{}};n()||(at.add(j.interval(()=>{n()&&window?.acord?.unload?.()},1e4)),window.acord=c,globalThis.acord=c,Do(e),await l.init(),await R.init(),await R.startAll(),j.logger.log(l.messages.ACORD_LOADED),BdApi.UI.showToast(l.messages.ACORD_LOADED,{type:"success"}))}observer(c){window.acord&&window.acord.events.emit("domMutation",c)}onStop(){BdApi.UI.showToast(l.messages.ACORD_UNLOADED,{type:"success"}),j.logger.log(l.messages.ACORD_UNLOADED);try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord}}};if(global.ZLibrary){let o=global.ZLibrary.buildPlugin(ct);module.exports=jo(...o),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let o=!1;setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),r=require("fs"),d=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(a,s,l)=>{if(a)return t.openExternal("https://betterdiscord.app/Download?id=9");s.statusCode===302?e.get(s.headers.location,async(n,c,i)=>{if(n)return t.openExternal("https://betterdiscord.app/Download?id=9");r.writeFile(d.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),i,()=>{})}):r.writeFile(d.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),l,()=>{})}),(async()=>{for(;!(global.ZLibrary||o);)await new Promise(a=>setTimeout(a,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(t){}async start(){}stop(){o=!0}}}
