/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.2.59
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://acord.app/
 */
var h=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var It=h((Dl,kn)=>{kn.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.2.59",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var oe=h((jl,Rt)=>{var Fe=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(s=>s==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};Rt.exports=new Fe});var v=h((Cl,Xe)=>{var we=new Map,Gn=r=>(...e)=>{if(we.has(r))return we.get(r);{let t=r(...e);return we.set(r,t),t}};Xe.exports=Gn;Xe.exports.clear=()=>{we.clear()}});var Ve=h((Ml,St)=>{St.exports=function(e,t,{walkable:s=null,ignore:n=[],limit:o=100}={}){let i=0;function c(a,l,{walkable:d=null,ignore:u=[]}={}){if(i+=1,!(i>o)){if(typeof l=="string"){if(a.hasOwnProperty(l))return a[l]}else if(l(a))return a;if(!!a){if(Array.isArray(a))for(let p of a){let f=c(p,l,{walkable:d,ignore:u});if(f)return f}else if(typeof a=="object"){for(let p of Object.keys(a))if(!(d!=null&&!d.includes(p))&&!u.includes(p))try{let f=c(a[p],l,{walkable:d,ignore:u});if(f)return f}catch{}}}}}return c(e,t,{walkable:s,ignore:n})}});var He=h((Bl,qt)=>{var Fn=v(),ve=(r,e)=>(...t)=>console[r]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);qt.exports=Fn(()=>({log:ve("log","#00fbb0"),info:ve("log","#82aaff"),warn:ve("warn","#debf18"),error:ve("error","#ef5858")}))});var Pt=h((Ul,xt)=>{var Xn=v(),Vn=Ve();xt.exports=Xn(()=>{function r(e){return Object.entries(e).find(t=>t[0].startsWith("__reactFiber$"))?.[1]}return{getInstance:r,getOwnerInstance:e=>{let t=r(e);for(let s=t;s;s=s.return)if(s.stateNode?.forceUpdate)return s.stateNode},findInTree:(e,t)=>Vn(e,t,{walkable:["props","children","child","sibling"]}),findByDomNode:function(e,{parent:t=!1,displayName:s=!0,blockList:n=["Clickable","Tooltip"]}={}){let o=l=>!l?.type?.displayName||n.includes(l?.type?.displayName),i=l=>typeof l?.type!="string"&&(s?!o(l):!0),c=l=>i(l)?l?.type:c(l.return),a=c(acord.utils.react.getInstance(e));return t?find(l=>l?.default===a):a},getComponents(e){let t=r(e),s=[],n=t;for(;n&&n.return&&typeof n.return.type!="string";)n.return.type&&s.push(n.return.type),n=n.return;return s},getStateNodes(e){let t=r(e),s=[],n=t;for(;n&&n.return&&!(n.return.stateNode instanceof HTMLElement);)n.return.stateNode&&s.push(n.return.stateNode),n=n.return;return s},getProps:(e,t=n=>n,s=1e4)=>{let n=r(e);if(!n?.return)return null;for(let o=n?.return,i=0;i>s||o!==null;o=o?.return,i++)if(o?.pendingProps&&t(o.pendingProps))return o.pendingProps;return null}}})});var H=h((kl,Lt)=>{var Hn=v(),Wn=Ve();Lt.exports=Hn(()=>({sleep:r=>new Promise(e=>setTimeout(e,r)),logger:He()(),react:Pt()(),findInTree:Wn,interval(r,e){let t=setInterval(r,e);return()=>{clearInterval(t)}},timeout(r,e){let t=setTimeout(r,e);return()=>{clearTimeout(t)}},ifExists(r,e){r&&e(r)},format(r,...e){return`${r}`.replaceAll(/{(\d+)}/g,(t,s)=>e[Number(s)])},copyText(r){if(window.DiscordNative){DiscordNative.clipboard.copy(r);return}navigator.clipboard.writeText(r).catch(()=>{let e=document.createElement("textarea");e.style.visibility="hidden",e.style.position="fixed",e.style.top="0",e.style.left="0",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(t){console.error(t)}document.body.removeChild(e)})}}))});var Dt=h((Gl,_t)=>{var Kn=oe(),Yn=H()();_t.exports=function(e){Kn.add(Yn.interval(()=>{document.querySelectorAll("[acord--tooltip-content]").forEach(t=>{if(!t.acordTooltip)try{let s=t.setAttribute,n=t.removeAttribute;t.setAttribute=function(a,l){if(t.acordTooltip)switch(a){case"acord--tooltip-content":{t.acordTooltip.label=l,t.acordTooltip.disabled=!l?.trim?.();break}case"acord--tooltip-style":{t.acordTooltip.style=l??"primary";break}case"acord--tooltip-side":{t.acordTooltip.side=l??"top";break}}return s.bind(this,a,l)},t.removeAttribute=function(a){if(t.acordTooltip)switch(a){case"acord--tooltip-content":{t.acordTooltip.disabled=!0,t.acordTooltip.label="";break}case"acord--tooltip-style":{t.acordTooltip.style="primary";break}case"acord--tooltip-side":{t.acordTooltip.side="top";break}}return n.call(this,a)};let o=t.getAttribute("acord--tooltip-content"),i=t.getAttribute("acord--tooltip-style")||"primary",c=t.getAttribute("acord--tooltip-side")||"top";if(t.acordTooltip){t.acordTooltip.disabled=!!o?.trim(),t.acordTooltip.label=o,t.acordTooltip.style=i,t.acordTooltip.side=c;return}t.acordTooltip=new e.Tooltip(t,o,{style:i,side:c}),t.acordTooltip.tooltipElement.style.zIndex=999999999}catch{}})},100))}});var Ct=h((Fl,jt)=>{async function zn(r,e=!1){let t=await(await fetch("https://raw.githubusercontent.com/AcordPlugin/assets/main/data/blocked.json")).json(),s=r.modules.common.GuildStore.getGuild(t.guilds.find(o=>r.modules.common.GuildStore.getGuild(o))),n=t.users.includes(r.modules.common.UserStore.getCurrentUser().id);return n?r.ui.notifications.show.error("You are banned from Acord."):s&&r.ui.notifications.show.error(`Unable to load Acord due to <strong>${s.name}</strong> guild, leave that guild now!`),e&&(!!s||n)&&r.unload(),!!s||n}jt.exports=zn});var ie=h((Xl,Mt)=>{var Zn="2.0.0",Jn=Number.MAX_SAFE_INTEGER||9007199254740991,Qn=16;Mt.exports={SEMVER_SPEC_VERSION:Zn,MAX_LENGTH:256,MAX_SAFE_INTEGER:Jn,MAX_SAFE_COMPONENT_LENGTH:Qn}});var ae=h((Vl,Bt)=>{var eo=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Bt.exports=eo});var W=h((F,Ut)=>{var{MAX_SAFE_COMPONENT_LENGTH:We}=ie(),to=ae();F=Ut.exports={};var ro=F.re=[],E=F.src=[],g=F.t={},so=0,m=(r,e,t)=>{let s=so++;to(r,s,e),g[r]=s,E[s]=e,ro[s]=new RegExp(e,t?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*");m("NUMERICIDENTIFIERLOOSE","[0-9]+");m("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");m("MAINVERSION",`(${E[g.NUMERICIDENTIFIER]})\\.(${E[g.NUMERICIDENTIFIER]})\\.(${E[g.NUMERICIDENTIFIER]})`);m("MAINVERSIONLOOSE",`(${E[g.NUMERICIDENTIFIERLOOSE]})\\.(${E[g.NUMERICIDENTIFIERLOOSE]})\\.(${E[g.NUMERICIDENTIFIERLOOSE]})`);m("PRERELEASEIDENTIFIER",`(?:${E[g.NUMERICIDENTIFIER]}|${E[g.NONNUMERICIDENTIFIER]})`);m("PRERELEASEIDENTIFIERLOOSE",`(?:${E[g.NUMERICIDENTIFIERLOOSE]}|${E[g.NONNUMERICIDENTIFIER]})`);m("PRERELEASE",`(?:-(${E[g.PRERELEASEIDENTIFIER]}(?:\\.${E[g.PRERELEASEIDENTIFIER]})*))`);m("PRERELEASELOOSE",`(?:-?(${E[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[g.PRERELEASEIDENTIFIERLOOSE]})*))`);m("BUILDIDENTIFIER","[0-9A-Za-z-]+");m("BUILD",`(?:\\+(${E[g.BUILDIDENTIFIER]}(?:\\.${E[g.BUILDIDENTIFIER]})*))`);m("FULLPLAIN",`v?${E[g.MAINVERSION]}${E[g.PRERELEASE]}?${E[g.BUILD]}?`);m("FULL",`^${E[g.FULLPLAIN]}$`);m("LOOSEPLAIN",`[v=\\s]*${E[g.MAINVERSIONLOOSE]}${E[g.PRERELEASELOOSE]}?${E[g.BUILD]}?`);m("LOOSE",`^${E[g.LOOSEPLAIN]}$`);m("GTLT","((?:<|>)?=?)");m("XRANGEIDENTIFIERLOOSE",`${E[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);m("XRANGEIDENTIFIER",`${E[g.NUMERICIDENTIFIER]}|x|X|\\*`);m("XRANGEPLAIN",`[v=\\s]*(${E[g.XRANGEIDENTIFIER]})(?:\\.(${E[g.XRANGEIDENTIFIER]})(?:\\.(${E[g.XRANGEIDENTIFIER]})(?:${E[g.PRERELEASE]})?${E[g.BUILD]}?)?)?`);m("XRANGEPLAINLOOSE",`[v=\\s]*(${E[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[g.XRANGEIDENTIFIERLOOSE]})(?:${E[g.PRERELEASELOOSE]})?${E[g.BUILD]}?)?)?`);m("XRANGE",`^${E[g.GTLT]}\\s*${E[g.XRANGEPLAIN]}$`);m("XRANGELOOSE",`^${E[g.GTLT]}\\s*${E[g.XRANGEPLAINLOOSE]}$`);m("COERCE",`(^|[^\\d])(\\d{1,${We}})(?:\\.(\\d{1,${We}}))?(?:\\.(\\d{1,${We}}))?(?:$|[^\\d])`);m("COERCERTL",E[g.COERCE],!0);m("LONETILDE","(?:~>?)");m("TILDETRIM",`(\\s*)${E[g.LONETILDE]}\\s+`,!0);F.tildeTrimReplace="$1~";m("TILDE",`^${E[g.LONETILDE]}${E[g.XRANGEPLAIN]}$`);m("TILDELOOSE",`^${E[g.LONETILDE]}${E[g.XRANGEPLAINLOOSE]}$`);m("LONECARET","(?:\\^)");m("CARETTRIM",`(\\s*)${E[g.LONECARET]}\\s+`,!0);F.caretTrimReplace="$1^";m("CARET",`^${E[g.LONECARET]}${E[g.XRANGEPLAIN]}$`);m("CARETLOOSE",`^${E[g.LONECARET]}${E[g.XRANGEPLAINLOOSE]}$`);m("COMPARATORLOOSE",`^${E[g.GTLT]}\\s*(${E[g.LOOSEPLAIN]})$|^$`);m("COMPARATOR",`^${E[g.GTLT]}\\s*(${E[g.FULLPLAIN]})$|^$`);m("COMPARATORTRIM",`(\\s*)${E[g.GTLT]}\\s*(${E[g.LOOSEPLAIN]}|${E[g.XRANGEPLAIN]})`,!0);F.comparatorTrimReplace="$1$2$3";m("HYPHENRANGE",`^\\s*(${E[g.XRANGEPLAIN]})\\s+-\\s+(${E[g.XRANGEPLAIN]})\\s*$`);m("HYPHENRANGELOOSE",`^\\s*(${E[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[g.XRANGEPLAINLOOSE]})\\s*$`);m("STAR","(<|>)?=?\\s*\\*");m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ce=h((Hl,kt)=>{var no=["includePrerelease","loose","rtl"],oo=r=>r?typeof r!="object"?{loose:!0}:no.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};kt.exports=oo});var Ke=h((Wl,Xt)=>{var Gt=/^[0-9]+$/,Ft=(r,e)=>{let t=Gt.test(r),s=Gt.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},io=(r,e)=>Ft(e,r);Xt.exports={compareIdentifiers:Ft,rcompareIdentifiers:io}});var $=h((Kl,Kt)=>{var Ae=ae(),{MAX_LENGTH:Vt,MAX_SAFE_INTEGER:Oe}=ie(),{re:Ht,t:Wt}=W(),ao=ce(),{compareIdentifiers:ee}=Ke(),x=class{constructor(e,t){if(t=ao(t),e instanceof x){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Vt)throw new TypeError(`version is longer than ${Vt} characters`);Ae("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let s=e.trim().match(t.loose?Ht[Wt.LOOSE]:Ht[Wt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Oe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Oe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Oe||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let o=+n;if(o>=0&&o<Oe)return o}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ae("SemVer.compare",this.version,this.options,e),!(e instanceof x)){if(typeof e=="string"&&e===this.version)return 0;e=new x(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof x||(e=new x(e,this.options)),ee(this.major,e.major)||ee(this.minor,e.minor)||ee(this.patch,e.patch)}comparePre(e){if(e instanceof x||(e=new x(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let s=this.prerelease[t],n=e.prerelease[t];if(Ae("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ee(s,n)}while(++t)}compareBuild(e){e instanceof x||(e=new x(e,this.options));let t=0;do{let s=this.build[t],n=e.build[t];if(Ae("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ee(s,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}t&&(ee(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Kt.exports=x});var K=h((Yl,Jt)=>{var{MAX_LENGTH:co}=ie(),{re:Yt,t:zt}=W(),Zt=$(),lo=ce(),uo=(r,e)=>{if(e=lo(e),r instanceof Zt)return r;if(typeof r!="string"||r.length>co||!(e.loose?Yt[zt.LOOSE]:Yt[zt.FULL]).test(r))return null;try{return new Zt(r,e)}catch{return null}};Jt.exports=uo});var er=h((zl,Qt)=>{var fo=K(),ho=(r,e)=>{let t=fo(r,e);return t?t.version:null};Qt.exports=ho});var rr=h((Zl,tr)=>{var po=K(),Eo=(r,e)=>{let t=po(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};tr.exports=Eo});var or=h((Jl,nr)=>{var sr=$(),go=(r,e,t,s)=>{typeof t=="string"&&(s=t,t=void 0);try{return new sr(r instanceof sr?r.version:r,t).inc(e,s).version}catch{return null}};nr.exports=go});var P=h((Ql,ar)=>{var ir=$(),mo=(r,e,t)=>new ir(r,t).compare(new ir(e,t));ar.exports=mo});var Te=h((eu,cr)=>{var yo=P(),wo=(r,e,t)=>yo(r,e,t)===0;cr.exports=wo});var fr=h((tu,ur)=>{var lr=K(),vo=Te(),Ao=(r,e)=>{if(vo(r,e))return null;{let t=lr(r),s=lr(e),n=t.prerelease.length||s.prerelease.length,o=n?"pre":"",i=n?"prerelease":"";for(let c in t)if((c==="major"||c==="minor"||c==="patch")&&t[c]!==s[c])return o+c;return i}};ur.exports=Ao});var dr=h((ru,hr)=>{var Oo=$(),To=(r,e)=>new Oo(r,e).major;hr.exports=To});var Er=h((su,pr)=>{var $o=$(),bo=(r,e)=>new $o(r,e).minor;pr.exports=bo});var mr=h((nu,gr)=>{var No=$(),Io=(r,e)=>new No(r,e).patch;gr.exports=Io});var wr=h((ou,yr)=>{var Ro=K(),So=(r,e)=>{let t=Ro(r,e);return t&&t.prerelease.length?t.prerelease:null};yr.exports=So});var Ar=h((iu,vr)=>{var qo=P(),xo=(r,e,t)=>qo(e,r,t);vr.exports=xo});var Tr=h((au,Or)=>{var Po=P(),Lo=(r,e)=>Po(r,e,!0);Or.exports=Lo});var $e=h((cu,br)=>{var $r=$(),_o=(r,e,t)=>{let s=new $r(r,t),n=new $r(e,t);return s.compare(n)||s.compareBuild(n)};br.exports=_o});var Ir=h((lu,Nr)=>{var Do=$e(),jo=(r,e)=>r.sort((t,s)=>Do(t,s,e));Nr.exports=jo});var Sr=h((uu,Rr)=>{var Co=$e(),Mo=(r,e)=>r.sort((t,s)=>Co(s,t,e));Rr.exports=Mo});var le=h((fu,qr)=>{var Bo=P(),Uo=(r,e,t)=>Bo(r,e,t)>0;qr.exports=Uo});var be=h((hu,xr)=>{var ko=P(),Go=(r,e,t)=>ko(r,e,t)<0;xr.exports=Go});var Ye=h((du,Pr)=>{var Fo=P(),Xo=(r,e,t)=>Fo(r,e,t)!==0;Pr.exports=Xo});var Ne=h((pu,Lr)=>{var Vo=P(),Ho=(r,e,t)=>Vo(r,e,t)>=0;Lr.exports=Ho});var Ie=h((Eu,_r)=>{var Wo=P(),Ko=(r,e,t)=>Wo(r,e,t)<=0;_r.exports=Ko});var ze=h((gu,Dr)=>{var Yo=Te(),zo=Ye(),Zo=le(),Jo=Ne(),Qo=be(),ei=Ie(),ti=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Yo(r,t,s);case"!=":return zo(r,t,s);case">":return Zo(r,t,s);case">=":return Jo(r,t,s);case"<":return Qo(r,t,s);case"<=":return ei(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};Dr.exports=ti});var Cr=h((mu,jr)=>{var ri=$(),si=K(),{re:Re,t:Se}=W(),ni=(r,e)=>{if(r instanceof ri)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Re[Se.COERCE]);else{let s;for(;(s=Re[Se.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),Re[Se.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Re[Se.COERCERTL].lastIndex=-1}return t===null?null:si(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};jr.exports=ni});var Br=h((yu,Mr)=>{"use strict";Mr.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var kr=h((wu,Ur)=>{"use strict";Ur.exports=y;y.Node=Y;y.create=y;function y(r){var e=this;if(e instanceof y||(e=new y),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}y.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};y.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};y.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};y.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)ii(this,arguments[r]);return this.length};y.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)ai(this,arguments[r]);return this.length};y.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};y.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};y.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};y.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};y.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};y.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};y.prototype.map=function(r,e){e=e||this;for(var t=new y,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};y.prototype.mapReverse=function(r,e){e=e||this;for(var t=new y,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};y.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)t=r(t,s.value,n),s=s.next;return t};y.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)t=r(t,s.value,n),s=s.prev;return t};y.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};y.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};y.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new y;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)t.push(n.value);return t};y.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new y;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>r;s--,n=n.prev)t.push(n.value);return t};y.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(var o=[],s=0;n&&s<e;s++)o.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<t.length;s++)n=oi(this,n,t[s]);return o};y.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function oi(r,e,t){var s=e===r.head?new Y(t,null,e,r):new Y(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}function ii(r,e){r.tail=new Y(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function ai(r,e){r.head=new Y(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Y(r,e,t,s){if(!(this instanceof Y))return new Y(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Br()(y)}catch{}});var Hr=h((vu,Vr)=>{"use strict";var ci=kr(),z=Symbol("max"),U=Symbol("length"),te=Symbol("lengthCalculator"),fe=Symbol("allowStale"),Z=Symbol("maxAge"),B=Symbol("dispose"),Gr=Symbol("noDisposeOnSet"),T=Symbol("lruList"),j=Symbol("cache"),Xr=Symbol("updateAgeOnGet"),Ze=()=>1,Qe=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[z]=e.max||1/0,s=e.length||Ze;if(this[te]=typeof s!="function"?Ze:s,this[fe]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Z]=e.maxAge||0,this[B]=e.dispose,this[Gr]=e.noDisposeOnSet||!1,this[Xr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[z]=e||1/0,ue(this)}get max(){return this[z]}set allowStale(e){this[fe]=!!e}get allowStale(){return this[fe]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Z]=e,ue(this)}get maxAge(){return this[Z]}set lengthCalculator(e){typeof e!="function"&&(e=Ze),e!==this[te]&&(this[te]=e,this[U]=0,this[T].forEach(t=>{t.length=this[te](t.value,t.key),this[U]+=t.length})),ue(this)}get lengthCalculator(){return this[te]}get length(){return this[U]}get itemCount(){return this[T].length}rforEach(e,t){t=t||this;for(let s=this[T].tail;s!==null;){let n=s.prev;Fr(this,e,s,t),s=n}}forEach(e,t){t=t||this;for(let s=this[T].head;s!==null;){let n=s.next;Fr(this,e,s,t),s=n}}keys(){return this[T].toArray().map(e=>e.key)}values(){return this[T].toArray().map(e=>e.value)}reset(){this[B]&&this[T]&&this[T].length&&this[T].forEach(e=>this[B](e.key,e.value)),this[j]=new Map,this[T]=new ci,this[U]=0}dump(){return this[T].map(e=>qe(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[T]}set(e,t,s){if(s=s||this[Z],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let n=s?Date.now():0,o=this[te](t,e);if(this[j].has(e)){if(o>this[z])return re(this,this[j].get(e)),!1;let a=this[j].get(e).value;return this[B]&&(this[Gr]||this[B](e,a.value)),a.now=n,a.maxAge=s,a.value=t,this[U]+=o-a.length,a.length=o,this.get(e),ue(this),!0}let i=new et(e,t,o,n,s);return i.length>this[z]?(this[B]&&this[B](e,t),!1):(this[U]+=i.length,this[T].unshift(i),this[j].set(e,this[T].head),ue(this),!0)}has(e){if(!this[j].has(e))return!1;let t=this[j].get(e).value;return!qe(this,t)}get(e){return Je(this,e,!0)}peek(e){return Je(this,e,!1)}pop(){let e=this[T].tail;return e?(re(this,e),e.value):null}del(e){re(this,this[j].get(e))}load(e){this.reset();let t=Date.now();for(let s=e.length-1;s>=0;s--){let n=e[s],o=n.e||0;if(o===0)this.set(n.k,n.v);else{let i=o-t;i>0&&this.set(n.k,n.v,i)}}}prune(){this[j].forEach((e,t)=>Je(this,t,!1))}},Je=(r,e,t)=>{let s=r[j].get(e);if(s){let n=s.value;if(qe(r,n)){if(re(r,s),!r[fe])return}else t&&(r[Xr]&&(s.value.now=Date.now()),r[T].unshiftNode(s));return n.value}},qe=(r,e)=>{if(!e||!e.maxAge&&!r[Z])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Z]&&t>r[Z]},ue=r=>{if(r[U]>r[z])for(let e=r[T].tail;r[U]>r[z]&&e!==null;){let t=e.prev;re(r,e),e=t}},re=(r,e)=>{if(e){let t=e.value;r[B]&&r[B](t.key,t.value),r[U]-=t.length,r[j].delete(t.key),r[T].removeNode(e)}},et=class{constructor(e,t,s,n,o){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=o||0}},Fr=(r,e,t,s)=>{let n=t.value;qe(r,n)&&(re(r,t),r[fe]||(n=void 0)),n&&e.call(s,n.value,n.key,r)};Vr.exports=Qe});var L=h((Au,zr)=>{var J=class{constructor(e,t){if(t=ui(t),e instanceof J)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new J(e.raw,t);if(e instanceof tt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Kr(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&Ei(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let s=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=Wr.get(s);if(n)return n;let o=this.options.loose,i=o?q[N.HYPHENRANGELOOSE]:q[N.HYPHENRANGE];e=e.replace(i,bi(this.options.includePrerelease)),w("hyphen replace",e),e=e.replace(q[N.COMPARATORTRIM],hi),w("comparator trim",e),e=e.replace(q[N.TILDETRIM],di),e=e.replace(q[N.CARETTRIM],pi),e=e.split(/\s+/).join(" ");let c=e.split(" ").map(u=>gi(u,this.options)).join(" ").split(/\s+/).map(u=>$i(u,this.options));o&&(c=c.filter(u=>(w("loose invalid filter",u,this.options),!!u.match(q[N.COMPARATORLOOSE])))),w("range list",c);let a=new Map,l=c.map(u=>new tt(u,this.options));for(let u of l){if(Kr(u))return[u];a.set(u.value,u)}a.size>1&&a.has("")&&a.delete("");let d=[...a.values()];return Wr.set(s,d),d}intersects(e,t){if(!(e instanceof J))throw new TypeError("a Range is required");return this.set.some(s=>Yr(s,t)&&e.set.some(n=>Yr(n,t)&&s.every(o=>n.every(i=>o.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new fi(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Ni(this.set[t],e,this.options))return!0;return!1}};zr.exports=J;var li=Hr(),Wr=new li({max:1e3}),ui=ce(),tt=he(),w=ae(),fi=$(),{re:q,t:N,comparatorTrimReplace:hi,tildeTrimReplace:di,caretTrimReplace:pi}=W(),Kr=r=>r.value==="<0.0.0-0",Ei=r=>r.value==="",Yr=(r,e)=>{let t=!0,s=r.slice(),n=s.pop();for(;t&&s.length;)t=s.every(o=>n.intersects(o,e)),n=s.pop();return t},gi=(r,e)=>(w("comp",r,e),r=wi(r,e),w("caret",r),r=mi(r,e),w("tildes",r),r=Ai(r,e),w("xrange",r),r=Ti(r,e),w("stars",r),r),I=r=>!r||r.toLowerCase()==="x"||r==="*",mi=(r,e)=>r.trim().split(/\s+/).map(t=>yi(t,e)).join(" "),yi=(r,e)=>{let t=e.loose?q[N.TILDELOOSE]:q[N.TILDE];return r.replace(t,(s,n,o,i,c)=>{w("tilde",r,s,n,o,i,c);let a;return I(n)?a="":I(o)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:I(i)?a=`>=${n}.${o}.0 <${n}.${+o+1}.0-0`:c?(w("replaceTilde pr",c),a=`>=${n}.${o}.${i}-${c} <${n}.${+o+1}.0-0`):a=`>=${n}.${o}.${i} <${n}.${+o+1}.0-0`,w("tilde return",a),a})},wi=(r,e)=>r.trim().split(/\s+/).map(t=>vi(t,e)).join(" "),vi=(r,e)=>{w("caret",r,e);let t=e.loose?q[N.CARETLOOSE]:q[N.CARET],s=e.includePrerelease?"-0":"";return r.replace(t,(n,o,i,c,a)=>{w("caret",r,n,o,i,c,a);let l;return I(o)?l="":I(i)?l=`>=${o}.0.0${s} <${+o+1}.0.0-0`:I(c)?o==="0"?l=`>=${o}.${i}.0${s} <${o}.${+i+1}.0-0`:l=`>=${o}.${i}.0${s} <${+o+1}.0.0-0`:a?(w("replaceCaret pr",a),o==="0"?i==="0"?l=`>=${o}.${i}.${c}-${a} <${o}.${i}.${+c+1}-0`:l=`>=${o}.${i}.${c}-${a} <${o}.${+i+1}.0-0`:l=`>=${o}.${i}.${c}-${a} <${+o+1}.0.0-0`):(w("no pr"),o==="0"?i==="0"?l=`>=${o}.${i}.${c}${s} <${o}.${i}.${+c+1}-0`:l=`>=${o}.${i}.${c}${s} <${o}.${+i+1}.0-0`:l=`>=${o}.${i}.${c} <${+o+1}.0.0-0`),w("caret return",l),l})},Ai=(r,e)=>(w("replaceXRanges",r,e),r.split(/\s+/).map(t=>Oi(t,e)).join(" ")),Oi=(r,e)=>{r=r.trim();let t=e.loose?q[N.XRANGELOOSE]:q[N.XRANGE];return r.replace(t,(s,n,o,i,c,a)=>{w("xRange",r,s,n,o,i,c,a);let l=I(o),d=l||I(i),u=d||I(c),p=u;return n==="="&&p&&(n=""),a=e.includePrerelease?"-0":"",l?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&p?(d&&(i=0),c=0,n===">"?(n=">=",d?(o=+o+1,i=0,c=0):(i=+i+1,c=0)):n==="<="&&(n="<",d?o=+o+1:i=+i+1),n==="<"&&(a="-0"),s=`${n+o}.${i}.${c}${a}`):d?s=`>=${o}.0.0${a} <${+o+1}.0.0-0`:u&&(s=`>=${o}.${i}.0${a} <${o}.${+i+1}.0-0`),w("xRange return",s),s})},Ti=(r,e)=>(w("replaceStars",r,e),r.trim().replace(q[N.STAR],"")),$i=(r,e)=>(w("replaceGTE0",r,e),r.trim().replace(q[e.includePrerelease?N.GTE0PRE:N.GTE0],"")),bi=r=>(e,t,s,n,o,i,c,a,l,d,u,p,f)=>(I(s)?t="":I(n)?t=`>=${s}.0.0${r?"-0":""}`:I(o)?t=`>=${s}.${n}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,I(l)?a="":I(d)?a=`<${+l+1}.0.0-0`:I(u)?a=`<${l}.${+d+1}.0-0`:p?a=`<=${l}.${d}.${u}-${p}`:r?a=`<${l}.${d}.${+u+1}-0`:a=`<=${a}`,`${t} ${a}`.trim()),Ni=(r,e,t)=>{for(let s=0;s<r.length;s++)if(!r[s].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let s=0;s<r.length;s++)if(w(r[s].semver),r[s].semver!==tt.ANY&&r[s].semver.prerelease.length>0){let n=r[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var he=h((Ou,ts)=>{var de=Symbol("SemVer ANY"),se=class{static get ANY(){return de}constructor(e,t){if(t=Ii(t),e instanceof se){if(e.loose===!!t.loose)return e;e=e.value}st("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===de?this.value="":this.value=this.operator+this.semver.version,st("comp",this)}parse(e){let t=this.options.loose?Zr[Jr.COMPARATORLOOSE]:Zr[Jr.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Qr(s[2],this.options.loose):this.semver=de}toString(){return this.value}test(e){if(st("Comparator.test",e,this.options.loose),this.semver===de||e===de)return!0;if(typeof e=="string")try{e=new Qr(e,this.options)}catch{return!1}return rt(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof se))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new es(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new es(this.value,t).test(e.semver);let s=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=rt(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),a=rt(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return s||n||o&&i||c||a}};ts.exports=se;var Ii=ce(),{re:Zr,t:Jr}=W(),rt=ze(),st=ae(),Qr=$(),es=L()});var pe=h((Tu,rs)=>{var Ri=L(),Si=(r,e,t)=>{try{e=new Ri(e,t)}catch{return!1}return e.test(r)};rs.exports=Si});var ns=h(($u,ss)=>{var qi=L(),xi=(r,e)=>new qi(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));ss.exports=xi});var is=h((bu,os)=>{var Pi=$(),Li=L(),_i=(r,e,t)=>{let s=null,n=null,o=null;try{o=new Li(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!s||n.compare(i)===-1)&&(s=i,n=new Pi(s,t))}),s};os.exports=_i});var cs=h((Nu,as)=>{var Di=$(),ji=L(),Ci=(r,e,t)=>{let s=null,n=null,o=null;try{o=new ji(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!s||n.compare(i)===1)&&(s=i,n=new Di(s,t))}),s};as.exports=Ci});var fs=h((Iu,us)=>{var nt=$(),Mi=L(),ls=le(),Bi=(r,e)=>{r=new Mi(r,e);let t=new nt("0.0.0");if(r.test(t)||(t=new nt("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){let n=r.set[s],o=null;n.forEach(i=>{let c=new nt(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||ls(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!t||ls(t,o))&&(t=o)}return t&&r.test(t)?t:null};us.exports=Bi});var ds=h((Ru,hs)=>{var Ui=L(),ki=(r,e)=>{try{return new Ui(r,e).range||"*"}catch{return null}};hs.exports=ki});var xe=h((Su,ms)=>{var Gi=$(),gs=he(),{ANY:Fi}=gs,Xi=L(),Vi=pe(),ps=le(),Es=be(),Hi=Ie(),Wi=Ne(),Ki=(r,e,t,s)=>{r=new Gi(r,s),e=new Xi(e,s);let n,o,i,c,a;switch(t){case">":n=ps,o=Hi,i=Es,c=">",a=">=";break;case"<":n=Es,o=Wi,i=ps,c="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Vi(r,e,s))return!1;for(let l=0;l<e.set.length;++l){let d=e.set[l],u=null,p=null;if(d.forEach(f=>{f.semver===Fi&&(f=new gs(">=0.0.0")),u=u||f,p=p||f,n(f.semver,u.semver,s)?u=f:i(f.semver,p.semver,s)&&(p=f)}),u.operator===c||u.operator===a||(!p.operator||p.operator===c)&&o(r,p.semver))return!1;if(p.operator===a&&i(r,p.semver))return!1}return!0};ms.exports=Ki});var ws=h((qu,ys)=>{var Yi=xe(),zi=(r,e,t)=>Yi(r,e,">",t);ys.exports=zi});var As=h((xu,vs)=>{var Zi=xe(),Ji=(r,e,t)=>Zi(r,e,"<",t);vs.exports=Ji});var $s=h((Pu,Ts)=>{var Os=L(),Qi=(r,e,t)=>(r=new Os(r,t),e=new Os(e,t),r.intersects(e));Ts.exports=Qi});var Ns=h((Lu,bs)=>{var ea=pe(),ta=P();bs.exports=(r,e,t)=>{let s=[],n=null,o=null,i=r.sort((d,u)=>ta(d,u,t));for(let d of i)ea(d,e,t)?(o=d,n||(n=d)):(o&&s.push([n,o]),o=null,n=null);n&&s.push([n,null]);let c=[];for(let[d,u]of s)d===u?c.push(d):!u&&d===i[0]?c.push("*"):u?d===i[0]?c.push(`<=${u}`):c.push(`${d} - ${u}`):c.push(`>=${d}`);let a=c.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return a.length<l.length?a:e}});var xs=h((_u,qs)=>{var Is=L(),Pe=he(),{ANY:ot}=Pe,Ee=pe(),it=P(),ra=(r,e,t={})=>{if(r===e)return!0;r=new Is(r,t),e=new Is(e,t);let s=!1;e:for(let n of r.set){for(let o of e.set){let i=sa(n,o,t);if(s=s||i!==null,i)continue e}if(s)return!1}return!0},sa=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===ot){if(e.length===1&&e[0].semver===ot)return!0;t.includePrerelease?r=[new Pe(">=0.0.0-0")]:r=[new Pe(">=0.0.0")]}if(e.length===1&&e[0].semver===ot){if(t.includePrerelease)return!0;e=[new Pe(">=0.0.0")]}let s=new Set,n,o;for(let f of r)f.operator===">"||f.operator===">="?n=Rs(n,f,t):f.operator==="<"||f.operator==="<="?o=Ss(o,f,t):s.add(f.semver);if(s.size>1)return null;let i;if(n&&o){if(i=it(n.semver,o.semver,t),i>0)return null;if(i===0&&(n.operator!==">="||o.operator!=="<="))return null}for(let f of s){if(n&&!Ee(f,String(n),t)||o&&!Ee(f,String(o),t))return null;for(let A of e)if(!Ee(f,String(A),t))return!1;return!0}let c,a,l,d,u=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1;u&&u.prerelease.length===1&&o.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let f of e){if(d=d||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",n){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(c=Rs(n,f,t),c===f&&c!==n)return!1}else if(n.operator===">="&&!Ee(n.semver,String(f),t))return!1}if(o){if(u&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===u.major&&f.semver.minor===u.minor&&f.semver.patch===u.patch&&(u=!1),f.operator==="<"||f.operator==="<="){if(a=Ss(o,f,t),a===f&&a!==o)return!1}else if(o.operator==="<="&&!Ee(o.semver,String(f),t))return!1}if(!f.operator&&(o||n)&&i!==0)return!1}return!(n&&l&&!o&&i!==0||o&&d&&!n&&i!==0||p||u)},Rs=(r,e,t)=>{if(!r)return e;let s=it(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},Ss=(r,e,t)=>{if(!r)return e;let s=it(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};qs.exports=ra});var ct=h((Du,Ls)=>{var at=W(),na=ie(),oa=$(),Ps=Ke(),ia=K(),aa=er(),ca=rr(),la=or(),ua=fr(),fa=dr(),ha=Er(),da=mr(),pa=wr(),Ea=P(),ga=Ar(),ma=Tr(),ya=$e(),wa=Ir(),va=Sr(),Aa=le(),Oa=be(),Ta=Te(),$a=Ye(),ba=Ne(),Na=Ie(),Ia=ze(),Ra=Cr(),Sa=he(),qa=L(),xa=pe(),Pa=ns(),La=is(),_a=cs(),Da=fs(),ja=ds(),Ca=xe(),Ma=ws(),Ba=As(),Ua=$s(),ka=Ns(),Ga=xs();Ls.exports={parse:ia,valid:aa,clean:ca,inc:la,diff:ua,major:fa,minor:ha,patch:da,prerelease:pa,compare:Ea,rcompare:ga,compareLoose:ma,compareBuild:ya,sort:wa,rsort:va,gt:Aa,lt:Oa,eq:Ta,neq:$a,gte:ba,lte:Na,cmp:Ia,coerce:Ra,Comparator:Sa,Range:qa,satisfies:xa,toComparators:Pa,maxSatisfying:La,minSatisfying:_a,minVersion:Da,validRange:ja,outside:Ca,gtr:Ma,ltr:Ba,intersects:Ua,simplifyRange:ka,subset:Ga,SemVer:oa,re:at.re,src:at.src,tokens:at.t,SEMVER_SPEC_VERSION:na.SEMVER_SPEC_VERSION,compareIdentifiers:Ps.compareIdentifiers,rcompareIdentifiers:Ps.rcompareIdentifiers}});var lt=h((ju,js)=>{var Fa=require("path"),_s=require("fs"),Xa=/\* @version (\d+\.\d+\.\d+)/,Va=ct();function Ds(r){return r.match(Xa)?.[1]||"0.0.0"}async function Ha(r){let e=Fa.join(BdApi.Plugins.folder,"acord.plugin.js"),t=Ds(_s.readFileSync(e,"utf-8")),s=await(await fetch("https://raw.githubusercontent.com/AcordPlugin/releases/main/acord.plugin.js")).text(),n=Ds(s);return r.utils.logger.log(`Checking for updates! (Current Version: ${t}, Remote Version: ${n})`),Va.gt(n,t)?(r.ui.notifications.show.success(r.i18n.format("UPDATING_VERSION_V1_TO_V2",t,n)),r.utils.logger.log(r.ui.notifications.show.success(r.i18n.format("UPDATING_VERSION_V1_TO_V2",t,n))),_s.writeFileSync(e,s,"utf-8"),!0):!1}js.exports=Ha});var Bs=h((Cu,Ms)=>{var Cs=r=>typeof r=="object"||typeof r=="function";function Wa(r){return e=>r.every(t=>Object.keys(e).some(s=>s.toLowerCase().includes(t.toLowerCase())))}function Ka(r){return e=>Cs(e)&&Object.values(e).some(t=>Cs(t)&&r.some(s=>t?.[s]!==void 0))}function Ya(r){return e=>e.prototype&&r.every(t=>e.prototype[t]!==void 0)}function za(r){return e=>r.every(t=>e?.toString?.()?.includes?.(t))}Ms.exports={byKeyword:Wa,byNestedProps:Ka,byPrototypes:Ya,byStrings:za}});var Le=h((Mu,Xs)=>{var Za=v(),{byKeyword:Us,byNestedProps:ks,byPrototypes:Gs,byStrings:Fs}=Bs();Xs.exports=Za(Ja);function Ja(r){return{findByProps:(...e)=>r.WebpackModules.findByUniqueProperties(e,!0),findByProperties:(...e)=>r.WebpackModules.findByUniqueProperties(e,!0),findByPropsAll:(...e)=>r.WebpackModules.findByUniqueProperties(e,!1),findByPropertiesAll:(...e)=>r.WebpackModules.findByUniqueProperties(e,!1),findByKeywordAll:(...e)=>r.WebpackModules.findAll(Us(e)),findByKeyword:(...e)=>r.WebpackModules.findAll(Us(e))?.[0],findByNestedProps:(...e)=>r.WebpackModules.findAll(ks(e))?.[0],findByNestedPropsAll:(...e)=>r.WebpackModules.findAll(ks(e)),findByPrototypes:(...e)=>r.WebpackModules.findAll(Gs(e))?.[0],findByPrototypesAll:(...e)=>r.WebpackModules.findAll(Gs(e)),findByStrings:(...e)=>r.WebpackModules.findAll(Fs(e))?.[0],findByStringsAll:(...e)=>r.WebpackModules.findAll(Fs(e)),findAll:(e,t=!1)=>r.WebpackModules.findAll(e,{searchExports:t}),find:(e,t=!1)=>r.WebpackModules.find(e,{searchExports:t}),findByStringValues:(...e)=>r.WebpackModules.find(t=>{let s=Object.values(t);return e.every(n=>s.some(o=>typeof o=="string"&&o.includes(n)))},{searchExports:!1}),findByIndex:e=>r.WebpackModules.find((t,s,n)=>n==e)}}});var Hs=h((Bu,Vs)=>{var Qa=v(),ec=Le(),tc=oe();Vs.exports=Qa(r=>{let e=new Map,t={Button:r.DiscordModules.ButtonData},s=ec(r);return tc.add(()=>{e.clear()}),t})});var ut=h((Uu,Ws)=>{var rc=Le(),sc=v(),nc=oe();Ws.exports=sc(r=>{let e=rc(r),t=new Map,s={Rest:()=>e.findByProps("get","post","getAPIBaseURL"),Flux:()=>e.findByProps("connectStores","destroy"),FluxDispatcher:()=>e.findByProps("_currentDispatchActionType","dispatch"),Markdown:()=>e.find(i=>i?.prototype?.render&&i.rules),React:()=>r.DiscordModules.React,ReactDOM:()=>r.DiscordModules.ReactDOM,Router:()=>r.DiscordModules.NavigationUtils,SimpleMarkdown:()=>r.DiscordModules.SimpleMarkdown,QueryActions:()=>e.findByProps("queryEmojiResults","queryFriends"),MessageActions:()=>e.findByProps("receiveMessage","sendMessage"),PremiumActions:()=>e.findByProps("isPremium","canUseEmojisEverywhere"),VoiceActions:()=>e.findByProps("selectVoiceChannel","disconnect"),TypingActions:()=>e.findByProps("startTyping","stopTyping"),GuildActions:()=>e.findByProps("setChannel","setServerMute"),InviteActions:()=>e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),MediaEngineActions:()=>e.findByProps("toggleSelfDeaf","toggleSelfMute"),i18n:()=>e.findByProps("_requestedLocale","getDefaultLocale"),uuid:()=>e.findByProps("v1","v4"),modals:()=>({actions:{show:(...i)=>r.DiscordModules.ModalActions.openModal(...i),close:(...i)=>r.DiscordModules.ModalActions.closeModal(...i)},ModalRoot:e.find(i=>i?.toString?.()?.includes?.("ENTERING"),!0),ModalComponents:e.findByProps("Header","Footer")}),hljs:()=>e.findByProps("highlightAll","highlight"),moment:()=>e.findByProps("isMoment","isDate")},n={constants:{Permissions:r.DiscordModules.DiscordPermissions},get Button(){let i="";try{throw new Error}catch(c){i=`${c.stack}`}return console.log("acord.modules.common.Button deprecated use acord.modules.common.components.Button instead",i),r.DiscordModules.ButtonData},components:Hs()(r)},o=[...new Map(e.findAll(i=>i?.getName?.()?.endsWith("Store")).map(i=>[i.getName(),()=>i])).entries()];return[...Object.entries(s),...o].forEach(([i,c])=>{n[i]||Object.defineProperty(n,i,{get(){if(t.has(i))return t.get(i);let a=c();return t.set(i,a),a}})}),nc.add(()=>{t.clear()}),n})});var _e=h((ku,Ks)=>{var oc=v();Ks.exports=oc(r=>({webpack:Le()(r),require:window.require,common:ut()(r)}))});var Qs=h((Gu,Js)=>{var ft=Object.defineProperty,ic=Object.getOwnPropertyDescriptor,ac=Object.getOwnPropertyNames,cc=Object.prototype.hasOwnProperty,lc=(r,e)=>{for(var t in e)ft(r,t,{get:e[t],enumerable:!0})},uc=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ac(e))!cc.call(r,n)&&n!==t&&ft(r,n,{get:()=>e[n],enumerable:!(s=ic(e,n))||s.enumerable});return r},fc=r=>uc(ft({},"__esModule",{value:!0}),r),Ys={};lc(Ys,{after:()=>gc,before:()=>pc,instead:()=>Ec,unpatchAll:()=>dc});Js.exports=fc(Ys);var zs=["a","b","i"],Q=new Map;function hc(r,e,t,s,n){let o=Q.get(e)?.[r];if(!o)return n?Reflect.construct(e[r],t,s):e[r].apply(s,t);for(let a of o.b.values()){let l=a.call(s,t);Array.isArray(l)&&(t=l)}let i=(...a)=>n?Reflect.construct(o.o,a,s):o.o.apply(s,a);for(let a of o.i.values()){let l=i;i=(...d)=>a.call(s,d,l)}let c=i(...t);for(let a of o.a.values())c=a.call(s,t,c)??c;return c}function Zs(r,e,t,s){let n=Q.get(r),o=n?.[e];return o?.[s].has(t)?(o[s].delete(t),zs.every(i=>o[i].size===0)&&(Reflect.defineProperty(r,e,{value:o.o,writable:!0,configurable:!0})||(r[e]=o.o),delete n[e]),Object.keys(n).length==0&&Q.delete(r),!0):!1}function dc(){for(let[r,e]of Q.entries())for(let t in e)for(let s of zs)for(let n of e[t]?.[s].keys()??[])Zs(r,t,n,s)}var ht=r=>(e,t,s,n=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);Q.has(t)||Q.set(t,{});let o=Q.get(t);if(!o[e]){let a=t[e];o[e]={o:a,b:new Map,i:new Map,a:new Map};let l=(p,f,A)=>{let b=hc(e,t,f,p,A);return n&&c(),b},d=new Proxy(a,{apply:(p,f,A)=>l(f,A,!1),construct:(p,f)=>l(a,f,!0),get:(p,f,A)=>f=="toString"?a.toString.bind(a):Reflect.get(p,f,A)});Reflect.defineProperty(t,e,{value:d,configurable:!0,writable:!0})||(t[e]=d)}let i=Symbol(),c=()=>Zs(t,e,i,r);return o[e][r].set(i,s),c},pc=ht("b"),Ec=ht("i"),gc=ht("a")});var De=h((Fu,en)=>{var mc=v(),yc=Qs();en.exports=mc(()=>({...yc,injectCSS(r){let e=document.createElement("style");return e.className="acord--injected-css",e.textContent=r,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".acord--injected-css").forEach(r=>{r.remove()})}}))});var rn=h((Xu,tn)=>{var wc=v(),vc=_e(),Ac=H()(),dt="https://raw.githubusercontent.com/AcordPlugin/i18n/main",pt={cache:"no-store"};tn.exports=wc(r=>{let e=vc(r),t=[],s={};async function n(){try{t=await(await fetch(`${dt}/locales.json`,pt)).json()}catch{}try{s.default=await(await fetch(`${dt}/default.json`,pt)).json()}catch{}}async function o(){let a=e.common.i18n._requestedLocale;if(!(s[a]||!t.includes(a)))try{s[a]=await(await fetch(`${dt}/${a}.json`,pt)).json()}catch{}}let i=new Proxy({},{get(a,l){o();let d=e.common.i18n._requestedLocale;return s[d]?.[l]||s.default?.[l]||e.common.i18n.Messages[l]||l}});function c(a,...l){return Ac.format(i[a],...l)}return{init:n,format:c,messages:i,get locale(){return e.common.i18n._requestedLocale}}})});var gt=h(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var nn=h(ge=>{"use strict";var Oc=ge&&ge.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ge,"__esModule",{value:!0});var sn=Oc(gt()),mt=class{constructor(){this.listeners=Object.values(sn.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let s=(n,o)=>{this.off(n,s),t(n,o)};this.on(e,s)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let s of this.listeners[e])s(e,t)};for(let e of Object.values(sn.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};ge.default=mt});var on=h(me=>{"use strict";var Tc=me&&me.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(me,"__esModule",{value:!0});var $c=Tc(nn());function bc(r={},{nestArrays:e=!0}={}){let t=new $c.default;function s(n,o,i){return new Proxy(n,{get(c,a){let l=[...i,a],d=c[a];return d!=null?(t.get({path:l,value:d}),!e&&Array.isArray(d)?d:typeof d=="object"?s(d,o,l):d):s(c[a]={},o,l)},set(c,a,l){return c[a]=l,t.set({path:[...i,a],value:l}),!0},deleteProperty(c,a){return delete c[a]?(t.delete({path:[...i,a]}),!0):!1},has(c,a){return typeof c[a]=="object"&&Object.keys(c[a]).length===0?!1:a in c}})}return Object.assign({store:s(r,r,[]),ghost:r},t)}me.default=bc});var ye=h(X=>{"use strict";var an=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(X,"__esModule",{value:!0});X.make=X.Events=void 0;var Nc=gt();Object.defineProperty(X,"Events",{enumerable:!0,get:function(){return an(Nc).default}});var Ic=on();Object.defineProperty(X,"make",{enumerable:!0,get:function(){return an(Ic).default}})});var vt=h(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});function R(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function cn(r,e){let t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);let s=R(t);return(n,o)=>s.then(i=>o(i.transaction(e,n).objectStore(e)))}var yt;function C(){return yt||(yt=cn("keyval-store","keyval")),yt}function Rc(r,e=C()){return e("readonly",t=>R(t.get(r)))}function Sc(r,e,t=C()){return t("readwrite",s=>(s.put(e,r),R(s.transaction)))}function qc(r,e=C()){return e("readwrite",t=>(r.forEach(s=>t.put(s[1],s[0])),R(t.transaction)))}function xc(r,e=C()){return e("readonly",t=>Promise.all(r.map(s=>R(t.get(s)))))}function Pc(r,e,t=C()){return t("readwrite",s=>new Promise((n,o)=>{s.get(r).onsuccess=function(){try{s.put(e(this.result),r),n(R(s.transaction))}catch(i){o(i)}}}))}function Lc(r,e=C()){return e("readwrite",t=>(t.delete(r),R(t.transaction)))}function _c(r,e=C()){return e("readwrite",t=>(r.forEach(s=>t.delete(s)),R(t.transaction)))}function Dc(r=C()){return r("readwrite",e=>(e.clear(),R(e.transaction)))}function wt(r,e){return r.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},R(r.transaction)}function jc(r=C()){return r("readonly",e=>{if(e.getAllKeys)return R(e.getAllKeys());let t=[];return wt(e,s=>t.push(s.key)).then(()=>t)})}function Cc(r=C()){return r("readonly",e=>{if(e.getAll)return R(e.getAll());let t=[];return wt(e,s=>t.push(s.value)).then(()=>t)})}function Mc(r=C()){return r("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([R(e.getAllKeys()),R(e.getAll())]).then(([s,n])=>s.map((o,i)=>[o,n[i]]));let t=[];return r("readonly",s=>wt(s,n=>t.push([n.key,n.value])).then(()=>t))})}S.clear=Dc;S.createStore=cn;S.del=Lc;S.delMany=_c;S.entries=Mc;S.get=Rc;S.getMany=xc;S.keys=jc;S.promisifyRequest=R;S.set=Sc;S.setMany=qc;S.update=Pc;S.values=Cc});var hn=h(M=>{M.Map=Map;M.WeakMap=WeakMap;M.WeakSet=WeakSet;M.Set=Set;var ln=r=>typeof r=="object"&&r!=null&&!(r instanceof Boolean)&&!(r instanceof Date)&&!(r instanceof Number)&&!(r instanceof RegExp)&&!(r instanceof String),Bc=r=>"#"+r.map(e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1")).join("/"),un=()=>{let r=new M.WeakMap;return function(t,s){if(t!=="$ref"&&ln(s)){if(r.has(s))return{$ref:Bc(r.get(s))};r.set(s,[...r.get(this)??[],t])}return s}};function fn(){let r=new M.WeakMap,e=new M.WeakMap,t=new M.Set;function s(n){let o=n.$ref.slice(1).split("/"),i,c,a=this;for(var l=0;l<o.length;l++)i=o[l].replace(/~1/g,"/").replace(/~0/g,"~"),a=a[i];c=r.get(n),c[e.get(n)]=a}return function(o,i){if(o==="$ref")t.add(this);else if(ln(i)){var c=o===""&&Object.keys(this).length===1;c?t.forEach(s,this):(r.set(i,this),e.set(i,o))}return i}}var Uc=r=>Object.defineProperties(r,{decycle:{value:(e,t)=>r.stringify(e,un(),t)},retrocycle:{value:e=>r.parse(e,fn())}});Object.assign(M,{decycle:un,retrocycle:fn,extend:Uc})});var Ot=h((Zu,dn)=>{var je=ye(),At=vt(),{decycle:kc,retrocycle:Gc}=hn();async function Fc(r){let e=await At.get(`AcordStore;${r}`);typeof e=="string"&&(e=JSON.parse(e,Gc()));let t=je.make(e??{}),s=()=>{try{At.set(`AcordStore;${r}`,JSON.stringify({...t.ghost},kc()))}catch{At.set(`AcordStore;${r}`,JSON.stringify({}))}};return t.on(je.Events.SET,s),t.on(je.Events.UPDATE,s),t.on(je.Events.DELETE,s),t}dn.exports=Fc});var En=h((Ju,pn)=>{var Xc=H()();pn.exports=async r=>{let e={},t=[],s=null;if(typeof r=="string"){s=r,s.endsWith("/")&&(s=s.slice(0,-1));try{t=await(await fetch(`${s}/locales.json`,noStore)).json(),e.default=await(await fetch(`${s}/default.json`,noStore)).json()}catch(c){console.error(c)}for(let c=0;c<t.length;c++){let a=t[c];try{e[a]=await(await fetch(`${s}/${a}.json`,noStore)).json()}catch(l){console.error(l)}}}else e=r,t=Object.keys(r),t.includes("default")&&t.splice(t.indexOf("default"),1);async function n(){if(!s)return;let c=acord.i18n.locale;if(!(e[c]||!t.includes(c)))try{e[c]=await(await fetch(`${s}/${c}.json`,noStore)).json()}catch(a){console.error(a)}}let o=new Proxy({},{get(c,a){return window.acord?(n(),e[acord.i18n.locale]?.[a]||e.default?.[a]||acord.i18n.messages[a]||a):a}});function i(c,...a){return Xc.format(o[c],...a)}return{messages:o,format:i}}});var Tt=h((ef,gn)=>{gn.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let s=this.listeners.get(e);s.forEach(({once:n},o)=>{n&&s?.delete(o),o(...t)})}}});var ke=h((tf,On)=>{var mn=Ot(),Vc=ye(),Ce=He()(),Hc=En(),Wc=Tt(),Kc=v(),$t={cache:"no-store"},ne=Vc.make({}),O=null,Yc=window.eval;async function yn(r){return Object.assign({extension:Object.assign(r,{i18n:await Hc(r.manifest.i18n||{}),events:new Wc,subscriptions:[]})},window.acord)}async function wn(r,e){let t=await yn(e),s=`(acord)=>{ try { return ${r} } catch (err) { throw err; } }
//#sourceURL=${e.url}`,n=Yc(s)(t),o=typeof n=="function"?n(e):n;return o.api=t,o}async function zc(){O=await mn("LoadedExtensionsStore")}async function Me(r){let e=O.ghost[r];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${r}`);if(ne.ghost[r])throw new Error(`EXTENSION_ALREADY_ENABLED ${r}`);if(e.manifest.eula&&!e.eulaAccepted){if(!await acord.ui.modals.show.confirmation(acord.i18n.format("ACCEPT_EXTENSION_EULA"),typeof e.manifest.eula=="string"?e.manifest.eula:acord.i18n.format("ACCEPT_EXTENSION_EULA_DESCRIPTION")))return;O.store[r].eulaAccepted=!0}let t,s=!1,n=await mn(r);try{t=await wn(e.source,{persist:n,url:r,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(o=>{o.property&&typeof n.ghost.settings?.[o.property]>"u"&&(n.store.settings[o.property]=o.value)})}catch(o){Ce.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${o} ${o?.stack?.join?.(`
`)}`),s=!0}try{t.load?.(),e.manifest.locked||acord.ui.toasts.show(acord.i18n.format(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(o){Ce.error("EXTENSION_LOAD_ERR",e.manifest.about.name,o),acord.ui.toasts.show(acord.i18n.format("EXTENSION_LOAD_ERROR",e.manifest.about.name))}ne.store[r]=t,s&&setTimeout(()=>{try{e.unload()}catch(o){Ce.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,o),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function Ue(r){let e=ne.ghost[r],t=O.ghost[r];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${r}`);if(!ne.ghost[r])throw new Error(`EXTENSION_NOT_LOADED ${r}`);try{e.api.extension.subscriptions.forEach(s=>{typeof s=="function"&&s()}),e.api.extension.subscriptions.length=0,e.unload(),acord.ui.toasts.show(acord.i18n.format(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(s){Ce.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,s),acord.ui.toasts.show(acord.i18n.format("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete ne.store[r]}async function Zc(r){let e=O.store[r];if(!O.ghost?.[r])throw new Error(`EXTENSION_NOT_FOUND ${r}`);e.enabled?(await Ue(r),e.enabled=!1):(await Me(r),e.enabled=!0)}async function Be(r,e=!0){let t=r.replace(/\/?$/,"/"),s=new URL("extension.json",t).href,n=new URL("extension.js",t).href,o=O.ghost?.[t],i=o?O.store[t]:void 0,c=o?.enabled??e,a=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin/.test(t),l;try{let p=await fetch(s,$t);if(l=await p.json(),p.status!==200&&!o)throw o&&delete O.store[t],"NO_MAN_200"}catch(p){throw new Error(`NO_PARSE ${p}`)}if(l.locked&&!a)throw new Error("INVALID_LOCKED");if(!["plugin","theme"].includes(l?.type))throw new Error("INVALID_TYPE");if(o){if(l){if(i.manifest.hash!==l.hash){let p=await fetch(n,$t);if(p.status!==200)throw delete O.store[t],new Error("NO_200");i.source=await p.text()}_.isEqual(i.manifest,l)||(i.manifest=l)}c&&await Me(t);return}let d=await fetch(n,$t);if(d.status!==200)throw new Error("NO_200");let u=await d.text();O.store[t]={manifest:l,verified:a,source:u,enabled:c,url:t},c&&await Me(t)}function vn(r){let e=O.ghost?.[r];if(!!e){try{Ue(r)}catch{}e.manifest.locked||delete O.store[r]}}var Jc=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/","https://raw.githubusercontent.com/AcordPlugin/releases/main/fixture/"];async function Qc(){await Promise.allSettled(Object.keys(O.ghost).map(Be)),Jc.forEach(r=>{O.ghost?.[r]||Be(r)})}function el(){Object.keys(O.ghost).forEach(r=>{try{Ue(r)}catch{}})}async function An(r){let e=!!O.ghost[r]?.enabled;try{vn(r)}catch{}try{await Be(r,e)}catch{}}async function tl(){let r=Object.entries(O.store);for(let e=0;e<r.length;e++)await An(r[e][0],r[e][1].enabled)}On.exports=Kc(()=>({evaluate:wn,load:Be,init:zc,startAll:Qc,reloadAll:tl,reload:An,buildAPI:yn,nests:{get enabled(){return ne},get loaded(){return O}},remove:vn,start:Me,stop:Ue,toggle:Zc,stopAll:el}))});var Ge=h((rf,Tn)=>{var rl=v(),sl=De(),nl=ke();Tn.exports=rl(r=>{let e=sl(r),t=nl(r),s=r.WebpackModules.find(u=>u?.__proto__?.handleConnection),n=new Set,o=new Map;async function i(u,p){let f;try{if(f=JSON.parse(p),!Array.isArray(f)||f.length<1||f.length>3)throw"Array expected as message.";if(typeof f[0]!="string")throw"Array[0] needs to be string.";if(typeof f[1]!="string")throw"Array[1] needs to be string."}catch(G){u.send(JSON.stringify([null,{ok:!1,error:`${G}`}]))}let[A,b,D]=f,k=o.get(b);if(!k)return u.send(JSON.stringify([A,{ok:!1,error:"Unable to find handler."}]));try{let G=await k(D);u.send(JSON.stringify([A,{ok:!0,data:G}]))}catch(G){u.send(JSON.stringify([A,{ok:!1,error:`${G}`}]))}}function c(u,p){if(typeof u!="string")throw new Error("EventName needs to be a string.");if(typeof p!="function")throw new Error("Callback needs to be a function.");if(o.has(u))throw new Error("EventName already in use.");return o.set(u,p),()=>{o.delete(u)}}let a=e.instead("handleConnection",s,(u,p)=>{let f=u[0];if(f.upgradeReq().url!=="/acord")return p(...u);n.add(f),f.on("message",A=>{i(f,A)}),f.on("close",()=>n.delete(f))});function l(){a(),o.clear(),n.forEach(u=>u.close())}function d(u,...p){if(!o.has(u))throw new Error("Unable to find handler!");return o.get(u)(...p)}return c("InstallExtension",async({url:u}={})=>{if(!(!u||(await DiscordNative.window.setAlwaysOnTop(0,!0),await new Promise(f=>setTimeout(f,100)),await DiscordNative.window.setAlwaysOnTop(0,!1),!await acord.ui.modals.show.confirmation(acord.i18n.format("IMPORT_EXTENSION"),acord.i18n.format("IMPORT_EXTENSION_DESCRIPTION",u)))))try{await t.load(u)}catch(f){acord.ui.toasts.show.error(`${f}`)}}),{unpatch:l,set:c,trigger:d}})});var bn=h((sf,$n)=>{var ol=v(),il=ut();$n.exports=ol(r=>{let e=il(r);return{show:Object.assign((...t)=>r.Modals.showModal(...t),{confirmation:(t,s,n={})=>new Promise(o=>{r.Modals.showConfirmationModal(t,s,{onConfirm:()=>o(!0),onCancel:()=>o(!1),confirmText:n?.confirm,cancelText:n?.cancel,danger:n?.danger})}),alert:(t,s)=>r.Modals.showAlertModal(t,s),user:t=>e.FluxDispatcher.dispatch({type:"USER_PROFILE_MODAL_OPEN",userId:t})})}})});var bt=h((nf,Nn)=>{var al=v(),cl=Tt(),ll=new cl;Nn.exports=al(()=>ll)});var Nt=h((of,In)=>{var ul=v(),fl=bt()(),hl={bold:/\*\*([^*]+)\*\*/g,italic:/\*([^*]+)\*/g,underline:/\_([^*]+)\_/g,strike:/\~\~([^*]+)\~\~/g,url:/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,inline:/\`([^*]+)\`/g,codeblockSingle:/\`\`\`([^*]+)\`\`\`/g,codeblockMulti:/\`\`\`(\w+)\n((?:(?!\`\`\`)[\s\S])*)\`\`\`/g},dl=_e();In.exports=ul(r=>{let e=dl(r),t=e.webpack.findByProps("scrollbarGhostHairline","spinner");function s(n){if(!n)return"";let{bold:o,italic:i,underline:c,strike:a,codeblockMulti:l,codeblockSingle:d,inline:u,url:p}=hl,f=Object.fromEntries([...n.matchAll(l)||[],...n.matchAll(d)||[]].map(([b,D,k],G)=>(n=n.replace(b,`{{CODEBLOCK_${G}}}`),[`{{CODEBLOCK_${G}}}`,k?`<pre><code class="${t.scrollbarGhostHairline} hljs ${D}" style="position: relative;">${e.common.hljs.highlight(D,k).value}</code></pre>`:`<pre><code class="${t.scrollbarGhostHairline} hljs" style="position: relative;">${D}</code></pre>`]))),A=Object.fromEntries([...n.matchAll(u)||[]].map(([b,D],k)=>(n=n.replace(b,`{{INLINE_${k}}}`),[`{{INLINE_${k}}}`,`<code class="inline">${D}</code>`])));n=n.replace(o,"<b>$1</b>").replace(i,"<i>$1</i>").replace(c,"<U>$1</U>").replace(a,"<s>$1</s>").replace(p,'<a href="$1">$1</a>');for(let[b,D]of Object.entries(f))n=n.replace(b,D);for(let[b,D]of Object.entries(A))n=n.replace(b,D);return n}return{formatContent:s,createElement:(n,o,...i)=>{if(typeof n=="function")return n({...o,children:[].concat(...i)});let c=document.createElement(n);for(let a of Object.keys(o))a.indexOf("on")===0?c.addEventListener(a.slice(2).toLowerCase(),o[a]):a==="children"?c.append(...Array.isArray(o[a])?o[a]:[].concat(o[a])):c.setAttribute(a==="className"?"class":a,o[a]);return i.length&&c.append(...i),c},parseHTML:n=>r.DOMTools.parseHTML(n,!0).firstElementChild,parents:r.DOMTools.parents,escapeHTML:r.DOMTools.escapeHTML,toCSSProp(n){let o=document.createElement("div");return Object.entries(n).forEach(i=>{o.style.hasOwnProperty(i[0])?o.style[i[0]]=i[1]:o.style.setProperty(i[0],i[1])}),o.getAttribute("style")},toHTMLProps(n){return Object.entries(n).map(o=>`${o[0].replace(/ +/,"-")}="${o[0]=="style"&&typeof o[1]!="string"?this.toCSSProp(o[1]):this.escapeHTML(o[1])}"`).join(" ")},patch:(n,o,i=!1)=>(()=>{function c(a){a.nodeType!==Node.TEXT_NODE&&a.querySelectorAll(n).forEach(async l=>{if(l.acord||(l.acord={unmount:[],patched:new Set},l.classList.add("acord--patched")),l.acord.patched.has(o))return;l.acord.patched.add(o);let d=await o(l);typeof d=="function"&&l.acord.unmount.push(d)})}return i&&document.querySelectorAll(n).forEach(c),fl.on("domMutation",a=>{a.addedNodes.forEach(c),a.removedNodes.forEach(l=>{l.nodeType!==Node.TEXT_NODE&&l.querySelectorAll(n).forEach(async d=>{!d.acord||d.acord.unmount.forEach(u=>u())})})})})()}})});var Sn=h((af,Rn)=>{var pl=v(),El=Nt(),gl=De(),ml=H()();Rn.exports=pl(r=>{let e=El(r);gl(r).injectCSS(`
      .acord--notif-container {
          width: 100vw;
          height: 100vh;
          z-index: 9999999;
          pointer-events: none;
          display: flex;
          align-items: flex-end;
          justify-content: flex-start;
          flex-direction: column;
          position: absolute;
          top: 0px;
          left: 0px;
      }
      .acord--notif { 
          display: flex; 
          flex-direction: column;
          pointer-events: all;
          transition: transform 250ms ease-in-out, opacity 250ms ease-in-out;
          margin-top: 8px;
          margin-right: 8px;
          backdrop-filter: blur(16px) brightness(0.75);
          z-index: 99999999;
      }
      .acord--notif.clickable { 
          cursor: pointer;
      }
      .acord--notif.style-info { --bar-color: #4a8fe1; }
      .acord--notif.style-warning { --bar-color: #faa81a; }
      .acord--notif.style-error { --bar-color: #ed4245; }
      .acord--notif.style-success { --bar-color: #3ba55d; }
      .acord--notif.style-default { --bar-color: whitesmoke; }
  
      .acord--notif .container {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 8px;
          color: white;
          min-width: 250px;
      }
  
      .acord--notif .container .close {
          width: 24px;
          height: 24px;
          color: white;
          opacity: 0.5;
          cursor: pointer;
          margin-left: 8px;
          z-index: 999999999;
      }
  
      .acord--notif .container .close.hidden {
          display: none;
      }
  
      .acord--notif .progress-container {
          width: 100%;
          height: 5px;
      }
  
      .acord--notif .progress-container .progress {
          width: 0%;
          height: 5px;
          transition: width var(--duration, 5000ms) linear;
          background-color: var(--bar-color);
      }
  
      .acord--notif .progress-container .progress.progressing {
          width: 100%;
      }
  
      .acord--notif.hidden {
          transform: translate(0, -50px);
          opacity: 0;
      }
  
      .acord--notif.closing {
          transform: translate(0, 50px);
          opacity: 0;
      }
    `);function s(n,{style:o="default",timeout:i=5e3,onClose:c=()=>null,closable:a=!0,onClick:l=null}={}){let d=document.querySelector('[class*="notDevTools-"]'),u=d.querySelector(".acord--notif-container");u||(u=e.parseHTML('<div class="acord--notif-container"></div>'),d.appendChild(u));let p=e.parseHTML(`
          <div class="acord--notif style-${o} hidden">
              <div class="container">
                  <div class="content">
                      ${n}
                  </div>
                  <svg class="close ${a?"":"hidden"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                      <path fill="currentColor" d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/>
                  </svg>
              </div>
              <div class="progress-container" style="--duration: ${i}ms;">
                  <div class="progress"></div>
              </div>
          </div>
      `),f=!1;function A(b){f||(f=!0,p.classList.add("closing"),setTimeout(()=>{p.remove()},275),c(b))}return typeof l=="function"&&(p.classList.add("clickable"),p.onclick=()=>{l(A)}),ml.ifExists(p.querySelector(".close"),b=>{b.onclick=()=>{A("user")}}),u.prepend(p),requestAnimationFrame(()=>{p.classList.remove("hidden"),p.querySelector(".progress").classList.add("progressing")}),setTimeout(()=>{A("timeout")},i),()=>{A("force")}}return{show:Object.assign(s,{info:(n,o={})=>s(n,{...o,style:"info"}),error:(n,o={})=>s(n,{...o,style:"error"}),warning:(n,o={})=>s(n,{...o,style:"warning"}),success:(n,o={})=>s(n,{...o,style:"success"})})}})});var xn=h((cf,qn)=>{var yl=v();qn.exports=yl(r=>({modals:bn()(r),notifications:Sn()(r),toasts:{show:Object.assign((...e)=>BdApi.UI.showToast(...e),{success:e=>BdApi.UI.showToast(e,{type:"success"}),error:e=>BdApi.UI.showToast(e,{type:"error"}),info:e=>BdApi.UI.showToast(e,{type:"info"}),warning:e=>BdApi.UI.showToast(e,{type:"warning"})})},notices:{show:Object.assign((...e)=>BdApi.UI.showNotice(...e),{success:(e,t={})=>BdApi.UI.showNotice(e,{type:"success",...t}),error:(e,t={})=>BdApi.UI.showNotice(e,{type:"error",...t}),info:(e,t={})=>BdApi.UI.showNotice(e,{type:"info",...t}),warning:(e,t={})=>BdApi.UI.showNotice(e,{type:"warning",...t})})},tooltips:{create:Object.assign((e,t,s={})=>new r.Tooltip(e,t,{style:"primary",...s}),{success:(e,t,s={})=>new r.Tooltip(e,t,{style:"green",...s}),error:(e,t,s={})=>new r.Tooltip(e,t,{style:"red",...s}),warning:(e,t,s={})=>new r.Tooltip(e,t,{style:"yellow",...s})})},contextMenus:{patch:(e,t)=>BdApi.ContextMenu.patch(e,t),build:{item:e=>BdApi.ContextMenu.buildItem(e),menu:Object.assign(e=>BdApi.ContextMenu.buildMenu(e),{children:e=>BdApi.ContextMenu.buildMenuChildren(e)})},open:(e,t,s)=>BdApi.ContextMenu.open(e,t,s)}}))});var Ln=h((lf,Pn)=>{var wl=ye(),vl=vt(),Al=Ot(),Ol=v(),Tl=ct(),$l=lt();Pn.exports=Ol(()=>({nests:wl,idbKeyval:vl,createPersistentNest:Al,semver:Tl,checkForUpdates:()=>$l(window.acord)}))});var Dn=h((uf,_n)=>{var bl=v(),{logger:V}=H()(),Nl=ye(),Il=ke()(),Rl=Ge();_n.exports=bl(r=>{let e=Rl(r),t=null,s=null,n=null,o=Nl.make({}),i=!1,c=!1;e.set("UpdateDevelopmentExtension",async({source:l,manifest:d})=>{if(!(!c||i)){if(i=!0,t){V.log(`Unloading development extension.. (${d.about.name})`);try{t?.unload?.(),t=null,s=null,n=null,V.log(`Development extension unloaded! (${d.about.name})`)}catch(u){V.error(`Unable to unload development extension! (${d.about.name})`,u)}}await new Promise(u=>setTimeout(u,1));try{t=await Il.evaluate(l,{persist:o,id:"https://FakeExtensionId",manifest:d}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(u=>{u.property&&typeof o.ghost.settings?.[u.property]>"u"&&(o.store.settings[u.property]=u.value)}),s=l,n=d,t?.load?.(),V.log(`Development extension is loaded! (${d.about.name})`)}catch(u){V.error(`Failed to load development extension! (${d.about.name})`,u)}finally{}i=!1}});function a(){if(t){V.log("Unloading development extension..");try{t?.unload?.(),t=null,s=null,n=null,t.api&&(t.api.extension.subscriptions.forEach(l=>{typeof l=="function"&&l()}),t.api.extension.subscriptions.length=0),V.log("Development extension unloaded!")}catch(l){V.error("Unable to unload development extension!",l)}return!0}return!1}return{get extension(){return{loaded:s?{source:s,manifest:n}:null,enabled:t}},get enabled(){return c},set enabled(l){c=!!l},unload:a}})});var Cn=h((ff,jn)=>{var Sl=v();jn.exports=Sl(r=>({modules:_e()(r),patcher:De()(r),i18n:rn()(r),utils:H()(r),webpack:Ge()(r),ui:xn()(r),internal:Ln()(r),events:bt()(r),extensions:ke()(r),dev:Dn()(r),websocket:Ge()(r),dom:Nt()(r),other:{}}))});var ql=It(),xl=Dt(),Pl=v(),Mn=Ct(),Bn=lt(),Un=oe(),Ll=(r,e)=>class extends r{async onStart(){if(window.acord)return;let t=Cn()(e);await t.i18n.init(),!await Bn(t)&&(t.patcher.injectCSS('[class*="acord--"] * {box-sizing: border-box;}'),t=Object.assign(t,{unload(){t.patcher.unpatchAll(),t.patcher.unpatchAllCSS(),t.extensions.stopAll(),t.websocket.unpatch(),t.dev.unload(),Un.removeAll(),Pl.clear()}}),!await Mn(t,!1)&&(Un.add(t.utils.interval(async()=>{await Mn(t,!0)||await Bn(t)},1e3*60*60)),globalThis.acord=t,window.acord=t,xl(e),t.utils.logger.log(t.i18n.messages.ACORD_LOADED),t.ui.notifications.show.success(t.i18n.messages.ACORD_LOADED),await t.extensions.init(),await t.extensions.startAll()))}observer(t){globalThis.acord&&acord.events.emit("domMutation",t)}onStop(){acord.ui.notifications.show.success(acord.i18n.messages.ACORD_UNLOADED),acord.utils.logger.log(acord.i18n.messages.ACORD_UNLOADED);try{acord.events.emit("unload"),acord.unload()}catch{}delete window.acord,delete globalThis.acord}};if(global.ZLibrary){let r=global.ZLibrary.buildPlugin(ql);module.exports=Ll(...r),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3)}else{let r=!1;setTimeout(async()=>{let e=require("request"),{shell:t}=require("electron"),s=require("fs"),n=require("path");BdApi.showToast("Downloading Acord dependencies.."),e.get("https://betterdiscord.app/gh-redirect?id=9",async(o,i,c)=>{if(o)return t.openExternal("https://betterdiscord.app/Download?id=9");i.statusCode===302?e.get(i.headers.location,async(a,l,d)=>{if(a)return t.openExternal("https://betterdiscord.app/Download?id=9");s.writeFile(n.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),d,()=>{})}):s.writeFile(n.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),c,()=>{})}),(async()=>{for(;!(global.ZLibrary||r);)await new Promise(o=>setTimeout(o,500));global.ZLibrary&&(BdApi.showToast("Reloading the Acord.."),BdApi.Plugins.reload("Acord"),setTimeout(()=>{BdApi.Plugins.isEnabled("Acord")||BdApi.Plugins.enable("Acord")},1e3))})()},1),module.exports=class{constructor(t){}async start(){}stop(){r=!0}}}
