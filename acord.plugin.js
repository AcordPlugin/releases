/**
 * @name Acord
 * @description Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely.
 * @version 0.1.355
 * @author Kıraç Armağan Önal
 * @authorId 707309693449535599
 * @authorLink https://armagan.rest/
 * @website https://armagan.rest/
 */
var h=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var U=h((po,se)=>{se.exports=o=>{let e=l=>typeof l=="object"||typeof l=="function";function t(l){return d=>l.every(s=>Object.keys(d).some(i=>i.toLowerCase().includes(s.toLowerCase())))}function n(l){return d=>e(d)&&Object.values(d).some(s=>e(s)&&l.some(i=>s?.[i]!==void 0))}function c(l){return d=>d.prototype&&l.every(s=>d.prototype[s]!==void 0)}function a(l){return d=>l.every(s=>d?.toString?.()?.includes?.(s))}return{findByProps:(...l)=>o.WebpackModules.findByUniqueProperties(l),findByProperties:(...l)=>o.WebpackModules.findByUniqueProperties(l),findByKeywordAll:(...l)=>o.WebpackModules.findAll(t(l)),findByKeyword:(...l)=>o.WebpackModules.findAll(t(l))[0],findByNestedProps:(...l)=>o.WebpackModules.findAll(n(l))[0],findByNestedPropsAll:(...l)=>o.WebpackModules.findAll(n(l)),findByPrototypes:(...l)=>o.WebpackModules.findAll(c(l))[0],findByPrototypesAll:(...l)=>o.WebpackModules.findAll(c(l)),findByStrings:(...l)=>o.WebpackModules.findAll(a(l))[0],findByStringsAll:(...l)=>o.WebpackModules.findAll(a(l)),findAll:l=>o.WebpackModules.findAll(l),find:l=>o.WebpackModules.find(l)}}});var F=h((ho,ie)=>{var Qe=U();ie.exports=o=>{let e=Qe(o);return{swc:e,common:{constants:{Permissions:e.find(t=>typeof t.VIEW_CHANNEL=="bigint")},channels:e.findByProps("getVoiceChannelId","getChannelId"),guilds:e.findByProps("getLastSelectedGuildId","getGuildId"),Flux:e.findByProps("connectStores","destroy"),FluxDispatcher:e.findByProps("_currentDispatchActionType","dispatch"),i18n:e.findByProps("_requestedLocale","getDefaultLocale"),React:o.DiscordModules.React,ReactDOM:o.DiscordModules.ReactDOM,UserStore:e.findByProps("getUser","getCurrentUser"),ChannelStore:e.findByProps("getDMFromUserId","getDMUserIds","getChannel"),GuildStore:e.findByProps("getGuild","getGuildCount"),InviteStore:e.findByProps("acceptInvite","acceptInviteAndTransitionToInviteChannel"),VoiceStateStore:e.findByProps("getVoiceState","getUserVoiceChannelId"),PermissionStore:e.findByProps("getChannelPermissions","can"),ActivityStore:e.findByProps("getAllApplicationActivities","getActivities"),DiscordAPI:e.findByProps("get","post"),uuid:e.findByProps("v1","v4"),Markdown:e.find(t=>t?.prototype?.render&&t.rules),Button:e.findByProps("Colors","BorderColors"),modals:{actions:{show:(...t)=>o.DiscordModules.ModalActions.openModal(...t),close:(...t)=>o.DiscordModules.ModalActions.closeModal(...t)},ModalRoot:e.find(t=>t?.toString().includes("ENTERING")),ModalComponents:e.findByProps("Header","Footer")}}}}});var H=h((go,ae)=>{ae.exports=o=>({createElement:(e,t,...n)=>{if(typeof e=="function")return e({...t,children:[].concat(...n)});let c=document.createElement(e);for(let a of Object.keys(t))a.indexOf("on")===0?c.addEventListener(a.slice(2).toLowerCase(),t[a]):a==="children"?c.append(...Array.isArray(t[a])?t[a]:[].concat(t[a])):c.setAttribute(a==="className"?"class":a,t[a]);return n.length&&c.append(...n),c},parseHTML:e=>o.DOMTools.parseHTML(e,!0).firstElementChild,parents:o.DOMTools.parents,escapeHTML:o.DOMTools.escapeHTML,toCSSProp(e){let t=document.createElement("div");return Object.entries(e).forEach(n=>{t.style.hasOwnProperty(n[0])?t.style[n[0]]=n[1]:t.style.setProperty(n[0],n[1])}),t.getAttribute("style")},toHTMLProps(e){return Object.entries(e).map(t=>`${t[0].replace(/ +/,"-")}="${t[0]=="style"&&typeof t[1]!="string"?this.toCSSProp(t[1]):this.escapeHTML(t[1])}"`).join(" ")}})});var X=h(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.default=Object.freeze({GET:"GET",SET:"SET",DELETE:"DELETE",UPDATE:"UPDATE"})});var ce=h(M=>{"use strict";var et=M&&M.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(M,"__esModule",{value:!0});var le=et(X()),K=class{constructor(){this.listeners=Object.values(le.default).reduce((e,t)=>(e[t]=new Set,e),{}),this.on=function(e,t){if(this.listeners[e].has(t))throw Error(`This listener on ${e} already exists.`);this.listeners[e].add(t)},this.once=function(e,t){let n=(c,a)=>{this.off(c,n),t(c,a)};this.on(e,n)},this.off=function(e,t){this.listeners[e].delete(t)},this.emit=function(e,t){for(let n of this.listeners[e])n(e,t)};for(let e of Object.values(le.default))this[e.toLowerCase()]=t=>{this.emit(e,t)}}};M.default=K});var de=h(k=>{"use strict";var tt=k&&k.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(k,"__esModule",{value:!0});var ot=tt(ce());function nt(o={},{nestArrays:e=!0}={}){let t=new ot.default;function n(c,a,l){return new Proxy(c,{get(d,s){let i=[...l,s],u=d[s];return u!=null?(t.get({path:i,value:u}),!e&&Array.isArray(u)?u:typeof u=="object"?n(u,a,i):u):n(d[s]={},a,i)},set(d,s,i){return d[s]=i,t.set({path:[...l,s],value:i}),!0},deleteProperty(d,s){return delete d[s]?(t.delete({path:[...l,s]}),!0):!1},has(d,s){return typeof d[s]=="object"&&Object.keys(d[s]).length===0?!1:s in d}})}return Object.assign({store:n(o,o,[]),ghost:o},t)}k.default=nt});var D=h(O=>{"use strict";var ue=O&&O.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(O,"__esModule",{value:!0});O.make=O.Events=void 0;var rt=X();Object.defineProperty(O,"Events",{enumerable:!0,get:function(){return ue(rt).default}});var st=de();Object.defineProperty(O,"make",{enumerable:!0,get:function(){return ue(st).default}})});var V=h(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});function m(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function fe(o,e){let t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);let n=m(t);return(c,a)=>n.then(l=>a(l.transaction(e,c).objectStore(e)))}var G;function A(){return G||(G=fe("keyval-store","keyval")),G}function it(o,e=A()){return e("readonly",t=>m(t.get(o)))}function at(o,e,t=A()){return t("readwrite",n=>(n.put(e,o),m(n.transaction)))}function lt(o,e=A()){return e("readwrite",t=>(o.forEach(n=>t.put(n[1],n[0])),m(t.transaction)))}function ct(o,e=A()){return e("readonly",t=>Promise.all(o.map(n=>m(t.get(n)))))}function dt(o,e,t=A()){return t("readwrite",n=>new Promise((c,a)=>{n.get(o).onsuccess=function(){try{n.put(e(this.result),o),c(m(n.transaction))}catch(l){a(l)}}}))}function ut(o,e=A()){return e("readwrite",t=>(t.delete(o),m(t.transaction)))}function ft(o,e=A()){return e("readwrite",t=>(o.forEach(n=>t.delete(n)),m(t.transaction)))}function pt(o=A()){return o("readwrite",e=>(e.clear(),m(e.transaction)))}function z(o,e){return o.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},m(o.transaction)}function ht(o=A()){return o("readonly",e=>{if(e.getAllKeys)return m(e.getAllKeys());let t=[];return z(e,n=>t.push(n.key)).then(()=>t)})}function gt(o=A()){return o("readonly",e=>{if(e.getAll)return m(e.getAll());let t=[];return z(e,n=>t.push(n.value)).then(()=>t)})}function yt(o=A()){return o("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([m(e.getAllKeys()),m(e.getAll())]).then(([n,c])=>n.map((a,l)=>[a,c[l]]));let t=[];return o("readonly",n=>z(n,c=>t.push([c.key,c.value])).then(()=>t))})}E.clear=pt;E.createStore=fe;E.del=ut;E.delMany=ft;E.entries=yt;E.get=it;E.getMany=ct;E.keys=ht;E.promisifyRequest=m;E.set=at;E.setMany=lt;E.update=dt;E.values=gt});var J=h((_o,he)=>{var C=D(),pe=V();async function wt(o){let e=await pe.get(`AcordStore;${o}`),t=C.make(e??{}),n=()=>pe.set(`AcordStore;${o}`,{...t.ghost});return t.on(C.Events.SET,n),t.on(C.Events.UPDATE,n),t.on(C.Events.DELETE,n),t}he.exports=wt});var ye=h((vo,ge)=>{ge.exports=function(e,t,{walkable:n=null,ignore:c=[],limit:a=100}={}){let l=0;function d(s,i,{walkable:u=null,ignore:f=[]}={}){if(l+=1,!(l>a)){if(typeof i=="string"){if(s.hasOwnProperty(i))return s[i]}else if(i(s))return s;if(!!s){if(Array.isArray(s))for(let p of s){let g=d(p,i,{walkable:u,ignore:f});if(g)return g}else if(typeof s=="object"){for(let p of Object.keys(s))if(!(u!=null&&!u.includes(p))&&!f.includes(p))try{let g=d(s[p],i,{walkable:u,ignore:f});if(g)return g}catch{}}}}}return d(e,t,{walkable:n,ignore:c})}});var be=h((Ao,we)=>{var bt=["Clickable","Tooltip"];we.exports=function(o,{parent:e=!1,displayName:t=!0,blockList:n=bt}={}){let c=s=>!s?.type?.displayName||n.includes(s?.type?.displayName),a=s=>typeof s?.type!="string"&&(t?!c(s):!0),l=s=>a(s)?s?.type:l(s.return),d=l(acord.utils.getReactInstance(o));return e?find(s=>s?.default===d):d}});var Ee=h((Oo,me)=>{me.exports=function(e){if(window.DiscordNative){DiscordNative.clipboard.copy(e);return}navigator.clipboard.writeText(e).catch(()=>{let t=document.createElement("textarea");t.style.visibility="hidden",t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error(n)}document.body.removeChild(t)})}});var j=h((To,ve)=>{var _e=ye(),mt=be(),Et=Ee(),Z=(o,e)=>(...t)=>console[o]("%cAcord%c",`background-color: ${e}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...t);ve.exports={sleep:o=>new Promise(e=>setTimeout(e,o)),logger:{log:Z("log","#00fbb0"),warn:Z("warn","#debf18"),error:Z("error","red")},react:{getInstance:o=>o.__reactFiber$,getOwnerInstance:o=>{for(let e=o.__reactFiber$;e;e=e.return)if(e.stateNode?.forceUpdate)return e.stateNode},findInTree:(o,e)=>_e(o,e,{walkable:["props","children","child","sibling"]}),findByDomNode:mt,getComponents(o){let e=o.__reactFiber$,t=[],n=e;for(;n&&n.return&&typeof n.return.type!="string";)n.return.type&&t.push(n.return.type),n=n.return;return t},getStateNodes(o){let e=o.__reactFiber$,t=[],n=e;for(;n&&n.return&&!(n.return.stateNode instanceof HTMLElement);)n.return.stateNode&&t.push(n.return.stateNode),n=n.return;return t},getProps:(o,e=n=>n,t=1e4)=>{let n=o.__reactFiber$;for(let c=n.return,a=0;a>t||c!==null;c=c?.return,a++)if(c?.pendingProps&&e(c.pendingProps))return c.pendingProps;return null}},findInTree:_e,copyText:Et,interval(o,e){let t=setInterval(o,e);return()=>{clearInterval(t)}},ifExists(o,e){o&&e(o)},minifyCSS(o){return o.replace(/( |\n)+/g," ")}}});var L=h((So,Pe)=>{var Ae=J(),_t=D(),{logger:q}=j(),Y={cache:"no-store"},P=_t.make({}),w=null,vt=window.eval;function Oe(o,e){let t=Object.assign({extension:e},window.acord),n=new URL(e.id),c=`(acord)=>{return ${o}}${atob("Ci8v")}#sourceURL=${n.hostname}${n.pathname}`,a=vt(c)(t);return typeof a=="function"?a(e):a}async function At(){w=await Ae("LoadedExtensionsStore")}async function N(o){let e=w.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(P.ghost[o])throw new Error(`EXTENSION_ALREADY_ENABLED ${o}`);let t,n=!1,c=await Ae(o);try{t=Oe(e.source,{persist:c,id:o,manifest:e.manifest}),Array.isArray(t?.settings?.data)&&t.settings.data.forEach(a=>{a.property&&typeof c.ghost.settings?.[a.property]>"u"&&(c.store.settings[a.property]=a.value)})}catch(a){q.error("EXTENSION_EVAL_ERR",e.manifest.about.name,`${a} ${a.stack.join(`
`)}`),n=!0}try{t.load?.(),acord.ui.toasts.show(acord.i18n.fmt(`IMPORTING_${e.manifest.type.toUpperCase()}`,e.manifest.about.name))}catch(a){q.error("EXTENSION_LOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_LOAD_ERROR",e.manifest.about.name))}t.persist=c,P.store[o]=t,n&&setTimeout(()=>{try{e.unload()}catch(a){q.error("EXTENSION_UNLOAD_ERR",e.manifest.about.name,a),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_UNLOAD_ERROR",e.manifest.about.name))}e.enabled=!1})}function B(o){let e=P.ghost[o],t=w.ghost[o];if(!e)throw new Error(`EXTENSION_NOT_FOUND ${o}`);if(!P.ghost[o])throw new Error(`EXTENSION_NOT_LOADED ${o}`);try{e.unload(),acord.ui.toasts.show(acord.i18n.fmt(`STOPPING_${t.manifest.type.toUpperCase()}`,t.manifest.about.name))}catch(n){q.error("EXTENSION_UNLOAD_ERR",t.manifest.about.name,n),acord.ui.toasts.show(acord.i18n.fmt("EXTENSION_UNLOAD_ERROR",t.manifest.about.name))}delete P.store[o]}async function Ot(o){let e=w.store[o];if(!w.ghost?.[o])throw new Error(`EXTENSION_NOT_FOUND ${o}`);e.enabled?(await B(o),e.enabled=!1):(await N(o),e.enabled=!0)}async function R(o,e=!0){let t=o.replace(/\/?$/,"/"),n=new URL("extension.json",t).href,c=new URL("extension.js",t).href,a=w.ghost?.[t],l=a?w.store[t]:void 0,d=a?.enabled??e,s=/^https?:\/\/raw\.githubusercontent\.com\/AcordPlugin\/(plugins|themes)/.test(t),i;try{let p=await fetch(n,Y);if(i=await p.json(),p.status!==200&&!a)throw delete w.store[t],"NO_MAN_200"}catch(p){throw new Error(`NO_PARSE ${p}`)}if(i.locked&&!s)throw"INVALID_LOCKED";if(!["plugin","theme"].includes(i?.type))throw"INVALID_TYPE";if(a){if(i){if(l.manifest.hash!==i.hash){let p=await fetch(c,Y);if(p.status!==200)throw delete w.store[t],new Error("NO_200");l.source=await p.text()}_.isEqual(l.manifest,i)||(l.manifest=i)}d&&await N(t);return}let u=await fetch(c,Y);if(u.status!==200)throw new Error("NO_200");let f=await u.text();w.store[t]={manifest:i,verified:s,source:f,enabled:d},d&&await N(t)}function Te(o){let e=w.ghost?.[o];if(!!e){try{B(o)}catch{}e.locked||delete w.store[o]}}var Tt=["https://raw.githubusercontent.com/AcordPlugin/plugins/main/fixtures/acord-ui/dist/"];async function St(){await Promise.allSettled(Object.keys(w.ghost).map(R)),Tt.forEach(o=>{w.ghost?.[o]||R(o)})}function Pt(){Object.keys(w.ghost).forEach(o=>{try{B(o)}catch{}})}async function Se(o,e=!0){try{Te(o)}catch{}try{await R(o,e)}catch{}}async function Mt(){let o=Object.entries(w.store);for(let e=0;e<o.length;e++)await Se(o[e][0],o[e][1].enabled)}Pe.exports={evaluate:Oe,load:R,init:At,startAll:St,reloadAll:Mt,reload:Se,nests:{get enabled(){return P},get loaded(){return w}},remove:Te,start:N,stop:B,toggle:Ot,stopAll:Pt}});var Ce=h((Po,xe)=>{var Q=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,Dt=Object.getOwnPropertyNames,xt=Object.prototype.hasOwnProperty,Ct=(o,e)=>{for(var t in e)Q(o,t,{get:e[t],enumerable:!0})},jt=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Dt(e))!xt.call(o,c)&&c!==t&&Q(o,c,{get:()=>e[c],enumerable:!(n=kt(e,c))||n.enumerable});return o},qt=o=>jt(Q({},"__esModule",{value:!0}),o),Me={};Ct(Me,{after:()=>$t,before:()=>Bt,instead:()=>Lt,unpatchAll:()=>Rt});xe.exports=qt(Me);var ke=["a","b","i"],S=new Map;function Nt(o,e,t,n,c){let a=S.get(e)?.[o];if(!a)return c?Reflect.construct(e[o],t,n):e[o].apply(n,t);for(let s of a.b.values()){let i=s.call(n,t);Array.isArray(i)&&(t=i)}let l=(...s)=>c?Reflect.construct(a.o,s,n):a.o.apply(n,s);for(let s of a.i.values()){let i=l;l=(...u)=>s.call(n,u,i)}let d=l(...t);for(let s of a.a.values())d=s.call(n,t,d)??d;return d}function De(o,e,t,n){let c=S.get(o),a=c?.[e];return a?.[n].has(t)?(a[n].delete(t),ke.every(l=>a[l].size===0)&&(Reflect.defineProperty(o,e,{value:a.o,writable:!0,configurable:!0})||(o[e]=a.o),delete c[e]),Object.keys(c).length==0&&S.delete(o),!0):!1}function Rt(){for(let[o,e]of S.entries())for(let t in e)for(let n of ke)for(let c of e[t]?.[n].keys()??[])De(o,t,c,n)}var ee=o=>(e,t,n,c=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);S.has(t)||S.set(t,{});let a=S.get(t);if(!a[e]){let s=t[e];a[e]={o:s,b:new Map,i:new Map,a:new Map};let i=(p,g,y)=>{let v=Nt(e,t,g,p,y);return c&&d(),v},u=new Proxy(s,{apply:(p,g,y)=>i(g,y,!1),construct:(p,g)=>i(s,g,!0),get:(p,g,y)=>g=="toString"?s.toString.bind(s):Reflect.get(p,g,y)});Reflect.defineProperty(t,e,{value:u,configurable:!0,writable:!0})||(t[e]=u)}let l=Symbol(),d=()=>De(t,e,l,o);return a[e][o].set(l,n),d},Bt=ee("b"),Lt=ee("i"),$t=ee("a")});var x=h((Mo,je)=>{var It=Ce();je.exports={...It,injectCSS(o){let e=document.createElement("style");return e.className="AcordInjectedCSS",e.textContent=o,document.head.appendChild(e),()=>{e?.remove()}},unpatchAllCSS(){document.querySelectorAll(".AcordInjectedCSS").forEach(o=>{o.remove()})}}});var Ne=h((ko,qe)=>{var Ut=L(),Ft=x();qe.exports=o=>{let e=o.WebpackModules.find(i=>i?.__proto__?.handleConnection),t=new Set,n=new Map;async function c(i,u){let f;try{if(f=JSON.parse(u),!Array.isArray(f)||f.length<1||f.length>3)throw"Array expected as message.";if(typeof f[0]!="string")throw"Array[0] needs to be string.";if(typeof f[1]!="string")throw"Array[1] needs to be string."}catch(b){i.send(JSON.stringify([null,{ok:!1,error:`${b}`}]))}let[p,g,y]=f,v=n.get(g);if(!v)return i.send(JSON.stringify([p,{ok:!1,error:"Unable to find handler."}]));try{let b=await v(y);i.send(JSON.stringify([p,{ok:!0,data:b}]))}catch(b){i.send(JSON.stringify([p,{ok:!1,error:`${b}`}]))}}function a(i,u){if(typeof i!="string")throw new Error("EventName needs to be a string.");if(typeof u!="function")throw new Error("Callback needs to be a function.");if(n.has(i))throw new Error("EventName already in use.");return n.set(i,u),()=>{n.delete(i)}}let l=Ft.instead("handleConnection",e,(i,u)=>{let f=i[0];if(f.upgradeReq().url!=="/acord")return u(...i);t.add(f),f.on("message",p=>{c(f,p)}),f.on("close",()=>t.delete(f))});function d(){l(),n.clear(),t.forEach(i=>i.close())}function s(i,...u){if(!n.has(i))throw new Error("Unable to find handler!");return n.get(i)(...u)}return a("InstallExtension",async({url:i}={})=>{if(!(!i||!await acord.ui.modals.show.confirmation(acord.i18n.fmt("IMPORT_EXTENSION"),acord.i18n.fmt("IMPORT_EXTENSION_DESCRIPTION",i))))try{await Ut.load(i)}catch(f){acord.ui.toasts.show.error(`${f}`)}}),{unpatchSocket:d,connectedSockets:t,socketEvents:n,set:a,trigger:s}}});var Be=h((Do,Re)=>{var Ht=H(),Wt=U(),{injectCSS:Xt}=x();Re.exports=o=>{let e=Ht(o),t=Wt(o),n=t.findByProps("root","small"),c=t.findByProps("notDevTools","app");Xt(".acord--layer-container{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1001;pointer-events:none;transition:100ms ease all}.acord--backdrop{background-color:rgba(0,0,0,.5);position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1002;pointer-events:none}.acord--layer{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1003;pointer-events:all}.acord--modal-root{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1004;pointer-events:all}");function a(l,{size:d="large",classes:s=""}={}){let i=document.querySelector(`.${c.notDevTools}`),u=i.querySelector(".acord--layer-container");if(u||(u=e.parseHTML('<div class="acord--layer-container"></div>'),i.appendChild(u)),!u.querySelector(".acord--backdrop")){let b=e.parseHTML('<div class="acord--backdrop"></div>');u.prepend(b)}let f=e.parseHTML('<div class="acord--layer"></div>'),p=e.parseHTML(`<div class="${n.root} ${n[d]} ${e.escapeHTML(s)} acord--modal-root"></div>`),g=!1,y=[];async function v(){g||(g=!0,f?.remove(),document.querySelector(".acord--modal-root")||document.querySelector(".acord--backdrop")?.remove?.(),y.forEach(b=>b()))}return f.addEventListener("click",b=>{!b.target.classList.contains("acord--layer")||v()}),p.replaceChildren(typeof l=="function"?l({close:v,onClose(b){y.push(b)},root:p}):l),f.replaceChildren(p),u.appendChild(f),{close:v,onClose(b){y.push(b)},root:p}}return{show:Object.assign(a,{confirmation:(l,d)=>new Promise(s=>{o.Modals.showConfirmationModal(l,d,{onConfirm:()=>s(!0),onCancel:()=>s(!1)})}),alert:(l,d)=>o.Modals.showAlertModal(l,d)})}}});var $e=h((xo,Le)=>{var Kt=F(),te="https://raw.githubusercontent.com/AcordPlugin/i18n/main",oe={cache:"no-store"};Le.exports=o=>{let e=Kt(o),t=[],n={};async function c(){t=await(await fetch(`${te}/languages.json`,oe)).json(),n.default=await(await fetch(`${te}/default.json`,oe)).json()}async function a(){let s=e.common.i18n._requestedLocale;n[s]||!t.includes(s)||(n[s]=await(await fetch(`${te}/${s}.json`,oe)).json())}let l=new Proxy({},{get(s,i){a();let u=e.common.i18n._requestedLocale;return n[u]?.[i]||n.default[i]||e.common.i18n.Messages[i]||i}});function d(s,...i){return l[s].replaceAll(/{(\d+)}/g,(u,f)=>i[Number(f)])}return{init:c,fmt:d,messages:l,get locale(){return e.common.i18n._requestedLocale}}}});var Ue=h((Co,Ie)=>{var Gt=D(),zt=V(),Vt=J();Ie.exports={nests:Gt,idbKeyval:zt,createPersistentNest:Vt}});var Fe=h((jo,Jt)=>{Jt.exports={info:{name:"Acord",authors:[{name:"K\u0131ra\xE7 Arma\u011Fan \xD6nal",discord_id:"707309693449535599",github_username:"TheArmagan"}],version:"0.1.355",description:"Acord is a BetterDiscord plugin developed to enable extension developers to make extensions more easily and wisely."},main:"index.js"}});var We=h((No,He)=>{He.exports=class{constructor(){this.listeners=new Map}_prepareListenersMap(e){this.listeners.has(e)||this.listeners.set(e,new Map)}on(e,t){return this._prepareListenersMap(e),this.listeners.get(e).set(t,{once:!1}),()=>{this.listeners.get(e).delete(t)}}once(e,t){return this._prepareListenersMap(e),this.listeners.get(e)?.set(t,{once:!0}),()=>{this.listeners.get(e).delete(t)}}off(e,t){if(!e)return this.listeners=new Map;if(!t)return this.listeners?.delete(e);this.listeners.get(e)?.delete(t)}emit(e,...t){if(!this.listeners.has(e))return;let n=this.listeners.get(e);n.forEach(({once:c},a)=>{c&&n?.delete(a),a(...t)})}}});var Ke=h((Ro,Xe)=>{var Zt=We(),Yt=new Zt;Xe.exports=Yt});var ze=h((Bo,Ge)=>{var ne=class{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[t]=this.patches.splice(this.patches.indexOf(n=>n==e),1);t()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let t=0;t<e.length;t++)e[t]()}};Ge.exports=new ne});var Je=h((Lo,Ve)=>{var{logger:T}=j(),Qt=D(),eo=L();Ve.exports=o=>{let e=null,t=null,n=null,c=Qt.make({}),a=!1;o.set("UpdateDevelopmentExtension",async({source:d,manifest:s})=>{if(!a){if(a=!0,e){T.log(`Unloading development extension.. (${s.about.name})`);try{e?.unload?.(),e=null,t=null,n=null,T.log(`Development extension unloaded! (${s.about.name})`)}catch(i){T.error(`Unable to unload development extension! (${s.about.name})`,i)}}await new Promise(i=>setTimeout(i,1));try{e=eo.evaluate(d,{persist:c,id:"https://FakeExtensionId",manifest:s}),Array.isArray(e?.settings?.data)&&e.settings.data.forEach(i=>{i.property&&typeof c.ghost.settings?.[i.property]>"u"&&(c.store.settings[i.property]=i.value)}),t=d,n=s,e.persist=c,e?.load?.(),T.log(`Development extension is loaded! (${s.about.name})`)}catch(i){T.error(`Failed to load development extension! (${s.about.name})`,i)}finally{}a=!1}});function l(){if(e){T.log("Unloading development extension..");try{e?.unload?.(),e=null,t=null,n=null,T.log("Development extension unloaded!")}catch(d){T.error("Unable to unload development extension!",d)}return!0}return!1}return{get extension(){return{loaded:t?{source:t,manifest:n}:null,enabled:e}},unload:l}}});var to=F(),oo=H(),no=Ne(),ro=Be(),so=$e(),$=j(),io=Ue(),I=L(),re=x(),Ye=Fe(),ao=Ke(),Ze=ze(),lo=Je(),{injectCSS:co}=x(),uo=(o,e)=>{let t=to(e),n=no(e),c=lo(n),a=oo(e),l=ro(e),d=so(e);return class extends o{async onStart(){await e.PluginUpdater.checkForUpdate("Acord",Ye.info.version,"https://raw.githubusercontent.com/AcordPlugin/acord-releases/main/acord.plugin.js"),co('[class*="acord--"] * {box-sizing: border-box;}'),Ze.add($.interval(()=>{document.querySelectorAll("[acord-tooltip-content]").forEach(s=>{if(s.acordTooltip)return;let i=s.setAttribute,u=s.removeAttribute;s.setAttribute=function(y,v){if(s.acordTooltip)switch(y){case"acord-tooltip-content":{s.acordTooltip.label=v,s.acordTooltip.disabled=!v?.trim?.();break}case"acord-tooltip-style":{s.acordTooltip.style=v??"primary";break}case"acord-tooltip-side":{s.acordTooltip.side=v??"top";break}}return i.bind(this,y,v)},s.removeAttribute=function(y){if(s.acordTooltip)switch(y){case"acord-tooltip-content":{s.acordTooltip.disabled=!0,s.acordTooltip.label="";break}case"acord-tooltip-style":{s.acordTooltip.style="primary";break}case"acord-tooltip-side":{s.acordTooltip.side="top";break}}return u.call(this,y)};let f=s.getAttribute("acord-tooltip-content"),p=s.getAttribute("acord-tooltip-style")||"primary",g=s.getAttribute("acord-tooltip-side")||"top";if(s.acordTooltip){s.acordTooltip.disabled=!!f?.trim(),s.acordTooltip.label=f,s.acordTooltip.style=p,s.acordTooltip.side=g;return}s.acordTooltip=new e.Tooltip(s,f,{style:p,side:g}),s.acordTooltip.tooltipElement.style.zIndex=9999999})},100)),window.acord={internal:io,modules:t,utils:$,patcher:re,extensions:(()=>{let s={...I};return delete s.init,s})(),events:ao,ui:{modals:l,toasts:{show:Object.assign((...s)=>e.Toasts.show(...s),{success:(...s)=>e.Toasts.success(...s),error:(...s)=>e.Toasts.error(...s),info:(...s)=>e.Toasts.info(...s),warning:(...s)=>e.Toasts.warning(...s)})},tooltips:{create:Object.assign((s,i,u={})=>new e.Tooltip(s,i,{style:"primary",...u}),{success:(s,i,u={})=>new e.Tooltip(s,i,{style:"green",...u}),error:(s,i,u={})=>new e.Tooltip(s,i,{style:"red",...u}),warning:(s,i,u={})=>new e.Tooltip(s,i,{style:"yellow",...u})})}},dom:a,i18n:(()=>{let s={...d};return delete s.init,s})(),websocket:{set:n.set,trigger:n.trigger},dev:c,unload(){re.unpatchAll(),re.unpatchAllCSS(),I.stopAll(),n.unpatchSocket(),Ze.removeAll(),c.unload()},_:e},globalThis.acord=window.acord,await d.init(),await I.init(),await I.startAll(),$.logger.log(d.messages.ACORD_LOADED),e.Toasts.success(d.messages.ACORD_LOADED)}observer(s){window.acord&&window.acord.events.emit("domMutation",s)}onStop(){try{window.acord.events.emit("unload"),window.acord.unload()}catch{}delete window.acord,delete globalThis.acord,$.logger.log(d.messages.ACORD_UNLOADED),e.Toasts.success(d.messages.ACORD_UNLOADED)}}};if(!global.ZLibrary)(async()=>{let o=require("request"),{shell:e}=require("electron"),t=require("fs"),n=require("path");BdApi.showToast("Initializing Acord for the first time.."),o.get("https://betterdiscord.app/gh-redirect?id=9",async(c,a,l)=>{if(c)return e.openExternal("https://betterdiscord.app/Download?id=9");a.statusCode===302?o.get(a.headers.location,async(d,s,i)=>{if(d)return e.openExternal("https://betterdiscord.app/Download?id=9");t.writeFileSync(n.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),i),BdApi.Plugins.enable("ZeresPluginLibrary"),BdApi.Plugins.reload("Acord")}):(t.writeFileSync(n.join(BdApi.Plugins.folder,"0PluginLibrary.plugin.js"),l,r),BdApi.Plugins.enable("ZeresPluginLibrary"),BdApi.Plugins.reload("Acord"))})})(),module.exports=class{constructor(e){}start(){}stop(){}};else{let o=global.ZLibrary.buildPlugin(Ye);module.exports=uo(...o)}
